<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Army Builder Data">
  <linkset id="gn6_PP" global="yes">
    <link option="gn6_PPHead" priority="703" index="0">
      <exclref id="range_01pp"/>
      </link>
    <link option="gnSpace" priority="705" category="psychic" index="6">
      <live><![CDATA[!ruleset.ro_CompOut & !(UnitTags.gn6_PsyCod | UnitTags.gn6_Psy6E)]]></live>
      </link>
    <link option="gnSpace" priority="799" category="psychic" index="7">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <link option="gn6_PD_BIO" textcost=" " index="1">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <link option="gn6_PD_DIV" textcost=" " index="2">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <link option="gn6_PD_PYR" textcost=" " index="3">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <link option="gn6_PD_TEK" textcost=" " index="4">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <link option="gn6_PD_TEP" textcost=" " index="5">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <live><![CDATA[gnAcc.is_Psyker & !(unitid.csm6_Huron | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.csm6_AspS | unitid.csm6_SorcT | unitid.csm6_Sorc | unitid.csm6_Princ | unitid.gk5E_Stern | unitid.gk5E_BroCh | unitid.gk5E_Crowe | unitid.gk5E_Mordr | unitid.gk5E_BC | unitid.gk5E_GM | unitid.gk5E_Draig)]]></live>
    </linkset>
  <linkset id="gn6_BikeWp">
    <link option="gnBike" priority="150" category="weapons" index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLBoltG" priority="155" nature="auto" category="weapons" textcost=" " hide="yes" index="3">
      <live><![CDATA[ruleset.ro_CompOut & !(unitid.da6_RavBK | unitid.da6_RavCom | unitid.da6_SgtBK | unitid.da6_RavApo | unitid.da6_RavCha)]]></live>
      </link>
    <link option="gnTLBoltG" priority="155" nature="auto" category="weapons" textcost=" " index="1">
      <live><![CDATA[!ruleset.ro_CompOut & !(unitid.da6_RavBK | unitid.da6_RavCom | unitid.da6_SgtBK | unitid.da6_RavApo | unitid.da6_RavCha)]]></live>
      </link>
    <link option="gnSpcWpn" priority="158" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="gnWarlord">
    <link option="gn6_Warlor" priority="401" index="0">
      <live><![CDATA[!ally.? & !gnAcc.noWarlord & !(unitid.csm6_Abbad | unitid.da6_Azrael)]]></live>
      </link>
    <link option="gnSpace" priority="403" category="gn6_traits" index="1">
      <live>gnAcc.is_Warlord</live>
      </link>
    <link option="gn6_Traits" name="{macro color1}-- Warlord Traits --{text 010101}" priority="404" index="10">
      <live><![CDATA[gnAcc.is_Warlord & (unitid.chR_Arkos | unitid.csm6_Abbad | unitid.csm6_Huron | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial)]]></live>
      </link>
    <link option="gn6_Traits" priority="404" index="5">
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial)]]></live>
      </link>
    <link option="gnShCSM" priority="405" category="gn6_traits" textcost=" " index="11">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)]]></live>
      </link>
    <link option="gnShCmnd" priority="405" category="gn6_traits" textcost=" " index="3">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)]]></live>
      </link>
    <link option="gnShPers" priority="405" category="gn6_traits" textcost=" " index="7">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)]]></live>
      </link>
    <link option="gnShStrat" priority="405" category="gn6_traits" textcost=" " index="8">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)]]></live>
      </link>
    <link option="gnShTraits" priority="405" category="gn6_traits" textcost=" " index="2">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)]]></live>
      </link>
    <link option="gnShTraits" priority="405" nature="auto" category="gn6_traits" textcost=" " index="9">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & (unitid.chR_Arkos | unitid.ia6_HecRex | unitid.chNecro | unitid.chZhufor | unitid.imInqLok | unitid.csm6_Abbad | unitid.csm6_Huron | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)]]></live>
      </link>
    <link option="gnSh_DA6" priority="405" category="gn6_traits" textcost=" " index="12">
      <exclref id="range_01h"/>
      <live><![CDATA[gnAcc.is_Warlord & !(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)]]></live>
      </link>
    <link option="gnSpace" priority="406" category="gn6_traits" index="6">
      <live>!(unitid.chR_Arkos | ally.? | gnAcc.noWarlord | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    </linkset>
  <linkset id="gnPowrWpn">
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="60" index="12"></link>
    <link option="gn6_PowAx" priority="65" cost="0." textcost="Free" index="13">
      <exclref id="range_11e"/>
      </link>
    <link option="gn6_PowLa" priority="65" cost="0." textcost="Free" index="14">
      <exclref id="range_11e"/>
      </link>
    <link option="gn6_PowMa" priority="65" cost="0." textcost="Free" index="15">
      <exclref id="range_11e"/>
      </link>
    <link option="gn6_PowSw" priority="65" cost="0." textcost="Free" index="16">
      <exclref id="range_11e"/>
      </link>
    </linkset>
  <linkset id="gnRoster">
    <link option="gnElite" display="102" textcost=" " index="2">
      <exclref id="range_11e"/>
      </link>
    <link option="gnFast" display="105" textcost=" " index="4">
      <exclref id="range_11e"/>
      </link>
    <link option="gnHQ" display="101" textcost=" " index="0">
      <exclref id="range_11e"/>
      </link>
    <link option="gnHeavy" display="106" textcost=" " index="5">
      <exclref id="range_11e"/>
      </link>
    <link option="gnRoster" index="1"></link>
    <link option="gnSuperHvy" display="107" textcost=" " index="6">
      <exclref id="range_11e"/>
      </link>
    <link option="gnTroop" display="103" textcost=" " index="3">
      <exclref id="range_11e"/>
      </link>
    </linkset>
  <linkset id="gn6_AutoVT">
    <link option="gn6_AutoVT" priority="900" display="1" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </linkset>
  <linkset id="gn6_AutoUT">
    <link option="gn6_AutoUT" priority="900" display="1" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </linkset>
  <linkset id="gnPowrWpnD">
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="60" index="12"></link>
    <link option="gn6_PowAx" priority="65" cost="0." textcost="Free" index="13">
      <exclref id="range_11d"/>
      </link>
    <link option="gn6_PowLa" priority="65" cost="0." textcost="Free" index="14">
      <exclref id="range_11d"/>
      </link>
    <link option="gn6_PowMa" priority="65" cost="0." textcost="Free" index="15">
      <exclref id="range_11d"/>
      </link>
    <link option="gn6_PowSw" priority="65" cost="0." textcost="Free" index="16">
      <exclref id="range_11d"/>
      </link>
    </linkset>
  <linkset id="gn6_FlyAce">
    <link option="gn6_FlyAce" priority="601" index="0">
      <live><![CDATA[!ally.? & !gnAcc.no_FlyAce]]></live>
      </link>
    <link option="gn6_FA_BA" index="9"></link>
    <link option="gn6_FA_BT" index="19"></link>
    <link option="gn6_FA_CSM" index="18"></link>
    <link option="gn6_FA_DA" index="13"></link>
    <link option="gn6_FA_DE" index="7"></link>
    <link option="gn6_FA_EL" index="8"></link>
    <link option="gn6_FA_GK" index="12"></link>
    <link option="gn6_FA_IG" index="14"></link>
    <link option="gn6_FA_NE" index="17"></link>
    <link option="gn6_FA_OR" index="16"></link>
    <link option="gn6_FA_SM" index="10"></link>
    <link option="gn6_FA_SW" index="11"></link>
    <link option="gn6_FA_TA" index="20"></link>
    </linkset>
  <option id="gn6_PD_DIV" name="{B}Divination{B}" abbrev="" description="0 - Prescience, 1 - Foreboding, 2 - Forewarning, 3 - Misfortune, 4 - Perfect Timing, 5 - Precognition, 6 - Scrier&apos;s Gaze (see WH40K, pg. 420)." category="psychic" footnote="yes" priority="760" nature="include" cost="0">
    <live>gnAcc.showDivin | (roster.gk5E | roster.ba5E | roster.da6E | roster.el | unitid.csm6_Huron | roster.sw5E)</live>
    </option>
  <option id="gn6_PD_PYR" name="{B}Pyromancy{/B}" abbrev="" description="0 - Fiery Breath, 1 - Fiery Form, 2 - Fire Shield, 3 - Inferno, 4 - Spontaneous Combustion, 5 - Sunburst, 6 - Molten Beam (see WH40K, pg. 421)." category="psychic" footnote="yes" priority="770" nature="include" cost="0">
    <live>gnAcc.showPyro | (roster.gk5E | roster.sm | roster.chA | roster.da6E | roster.rs | roster.csm6E)</live>
    </option>
  <option id="gn6_PD_TEK" name="{B}Telekinesis{/B}" abbrev="" description="0 - Assail, 1 - Crush, 2 - Gate of Infinity, 3 - Objuration Mechanicum, 4 - Shockwave, 5 - Telekine Dome, 6 - Vortex of Doom (see WH40K, pg. 422)." category="psychic" footnote="yes" priority="780" nature="include" cost="0">
    <live>gnAcc.showTelek | (roster.gk5E | roster.sm | roster.chA | roster.ba5E | roster.da6E | roster.ty5 | roster.rs | roster.sw5E)</live>
    </option>
  <option id="gn6_PD_TEP" name="{B}Telepathy{/B}" abbrev="" description="0 - Psychic Shriek, 1 - Dominate, 2 - Mental Fortitude, 3 - Puppet Master, 4 - Terrify, 5 - Invisibility, 6 -  Hallucination (see WH40K, pg. 423)." category="psychic" footnote="yes" priority="790" nature="include" cost="0">
    <live><![CDATA[gnAcc.showTelep | (roster.sm | roster.chA | roster.ba5E | roster.da6E | roster.el | roster.ty5 | (roster.csm6E & !unitid.csm6_Huron))]]></live>
    </option>
  <option id="gn6_PPHead" name="{B}6E Psychic Disciplines: {/B}" abbrev="" category="psychic" priority="703" cost="0" textcost=" ">
    <evaluate>~ Assigning Tag for Psychic Powers visibility
var retval as number
retval = entity.assign[UnitTags.gn6_Psy6E]</evaluate>
    </option>
  <option id="gn6_PD_BIO" name="{B}Biomancy{/B}" abbrev="" description="0 - Smite, 1 - Iron Arm, 2 - Enfeeble, 3 - Endurance, 4 - Life Leech, 5 - Warp Speed, 6 - Haemorrhage (see WH40K, pg. 419)." category="psychic" footnote="yes" priority="750" nature="include" cost="0">
    <live>gnAcc.showBiom | (roster.sm | roster.ba5E | roster.rs | roster.ty5 | roster.csm6E | roster.sw5E)</live>
    </option>
  <option id="gnSaga" name="{macro color1}-- Sagas --{text 010101}" abbrev="" category="Saga" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnHellG" name="Hellgun" abbrev="HellG" description="24&quot; Range; S3; AP5; Rapid Fire." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnHellP" name="Hellpistol" abbrev="HellP" description="12&quot; Range; S3; AP5; Pistol" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_HvyBG" name="Heavy Bolter" abbrev="HBoltG" description="Range 36&quot;; S5; AP4; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnHvyFl" name="Heavy Flamer" abbrev="HFlamer" description="Template; S 5; AP 4; Assault 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnLasC" name="Lascannon" abbrev="LasC" description="Range: 48&quot;; S 9; AP 2; Heavy 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnRosarius" name="Rosarius" abbrev="Ros" description="Confers a 4+ Invulnerable save." category="wargear" equipment="yes" footnote="yes" priority="200" cost="25" costtype="single">
    <comment>Wargear Description.</comment>
    <evaluate>call gnInv4</evaluate>
    </option>
  <option id="gnLasP" name="Laspistol" abbrev="LasP" description="Range: 12&quot;; S 3; AP -; Pistol." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gnMMelta" name="Multi-melta" abbrev="Mmelta" description="Range 24&quot;; S 8; AP 1; Heavy 1, Melta." category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="gnMeltaG" name="Meltagun" abbrev="MeltaG" description="Range 12&quot;; S 8; AP 1; Assault 1, Melta." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnMissile" name="Missile Launcher" abbrev="MisL" description="Frag: Range 48&quot;; S 4; AP 6; Heavy 1, Blast.\nKrak: Range 48&quot;; S 8; AP 3; Heavy 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPlasC" name="Plasma Cannon" abbrev="PlasC" description="Range 36&quot;; S 7; AP 2; Heavy 1, Blast, Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPlasG" name="Plasma gun" abbrev="PlasG" description="Range 24&quot;; S 7; AP 2; Rapid Fire, Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPlasP" name="Plasma Pistol" abbrev="PlasP" description="Range 12&quot;; S 7; AP 2; Pistol, Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gnPowW" name="Power Weapon" abbrev="PW" description="S User; AP 3; Melee (see WH40k, pg. 61)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gnShotG" name="Shotgun" abbrev="Shotgun" description="12&quot; Range; S 3; AP -; Assault2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnSnipeR" name="Sniper Rifle" abbrev="SnipeR" description="Range 36&quot;; S X; AP 6; Heavy 1, Sniper." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnStormB" name="Storm Bolter" abbrev="StormB" description="Range 24&quot;; S 4; AP 5; Assault 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnCCWHdr" name="{macro color1}-- Close Combat --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnGrenades" name="{macro color1}-- Grenades --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnHeavyW" name="{macro color1}-- Heavy --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnHullWpn" name="{macro color1}-- Hull Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnOneHand" name="{macro color1}-- One Hand Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnPsychic" name="{macro color1}-- Psychic Powers --{text 010101}" abbrev="" category="psychic" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSepSkill" name=" " abbrev="" category="skills" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn5E_SerA" name="" abbrev="" category="wargear" footnote="yes" priority="0" cost="0" costtype="single" item="gn5E_SerA" show="design"></option>
  <option id="gn5E_SerH" name="" abbrev="" category="wargear" footnote="yes" priority="0" cost="0" costtype="single" item="gn5E_SerH" show="design"></option>
  <option id="gnSkills" name="{macro color1}-- Special Rules--{text 010101}" abbrev="" category="skills" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcAddUn" name=" " abbrev="" category="add" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcPsy" name=" " abbrev="" category="psychic" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcRange" name=" " abbrev="" category="ranged" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcRost" name=" " abbrev="" category="chRoster" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcVeh" name=" " abbrev="" category="vehicle" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcWar" name=" " abbrev="" category="wargear" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcWpn" name=" " abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpecial" name="{macro color1}-- Special --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSponson" name="{macro color1}-- Sponson --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnTurret" name="{macro color1}-- Turret Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnTwoHand" name="{macro color1}-- Two Hand Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnVehicleU" name="{macro color1}-- Vehicle Upgrades --{text 010101}" abbrev="" category="vehicle" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnVehicleW" name="{macro color1}-- Vehicle Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnAssault" name="{macro color1}-- Assault --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnLeftS" name="{macro color1}-- Left Side --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnPoints" name="Points Left" abbrev="" category="wargear" priority="1000" nature="include" cost="0" infoonly="yes" show="design">
    <cost><![CDATA[~ Work out what text to display, uses generic strings for setting the colours, red if below zero.  Script uses generic stat 'gearlimit' from def file and generic exclusion 'gear'.  Strings are set to either set the text red (redText) or green (grnText) and then revert it back to standard colour at the end (stdText)

~ declare variables
var ptsleft as number
var ptLimit as number

ptLimit = unit.stat[gearlimit]

~ subtract the use of the exclusion from the stat set for the unit for wargear allowance
ptsleft = ptLimit - unit.usage[gear]

~set the name of the option
name = $points & ptsleft

~ Color the text appropriately
if (ptsleft < 0) then

  ~ wargear is below zero so colour the name red
  name = $redText & $lSpacer & name & $rSpacer & $stdText
else

  ~ wargear is above zero so colour text appropriatley
  name = $grnText & $lSpacer & name & $rSpacer & $stdText
endif]]></cost>
    </option>
  <option id="gnRightS" name="{macro color1}-- Right Side --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnTpt" name="{macro color1}-- Transport --{text 010101}" abbrev="" category="transport" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn0to1" name="{macro color1}-- Choose 0-1 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_BolsD" name="Bolster Defenses" abbrev="" description="Bolster Defenses" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="gn6_BlesO" name="Blessing of the Omnissiah" abbrev="BlessingoftheOmnissiah" description="Blessing of the Omnissiah" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_HerI" name="Heroic Intervention" abbrev="HeroicIntervention" description="Heroic Intervention" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_HonoC" name="Honour of the Chapter" abbrev="" description="Honour of the Chapter" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fearle" priority="305" nature="auto" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn0to2" name="{macro color1}-- Choose 0-2 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn0to3" name="{macro color1}-- Choose 0-3 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn0to4" name="{macro color1}-- Choose 0-4 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnWargear" name="{macro color1}-- Wargear --{text 010101}" abbrev="" category="wargear" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnLtCl" name="Lightning Claw" abbrev="LC" description="S User; AP 3; Melee, Shred, Specialist Weapon." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate><![CDATA[~ set add CCW tag if the SM file only
~if (unit.tagis[roster.sm] > 0) then
   call gnAddCCW
~else
~   if (unit.tagis[roster.ba5E] > 0) then
     call gnAddCCW
~   endif
~endif

~ tag as special weapon
call gn6_AdSWT]]></evaluate>
    </option>
  <option id="gnLtClPr" name="Lightning Claws (pair)" abbrev="2xLC" description="S User; AP 3; Melee, Shred, Specialist Weapon." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add both CCW tags as lightning claws act differently
call gnAddCCW
call gnAddCCW</evaluate>
    </option>
  <option id="gnAddOn" name="{macro color1}-- Add On --{text 010101}" abbrev="" category="chUpgrade" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnBoltPUn" name="Bolt Pistol" abbrev="BoltPistol" description="12&quot; Range; S 4; AP 5; Pistol." category="weapons" footnote="yes" priority="0" cost="0" signature="combos">
    <comment>used for units that use remainder script</comment>
    </option>
  <option id="gnCCWUn" name="Close Combat Weapon" abbrev="CCW" description="S User; AP - ; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <comment>used for units that use remainder script</comment>
    </option>
  <option id="gnHellPUn" name="Hellpistol" abbrev="HellP" description="12&quot; Range; S3; AP5; Pistol" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for remainder scripts</comment>
    </option>
  <option id="gnKrakG" name="Krak Grenades" abbrev="KrakGrenades" description="Range 8&quot;; S 6; AP 4; Assault 1." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnLasPUn" name="Laspistol" abbrev="LasP" description="Range: 12&quot;; S 3; AP -; Pistol." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for remainder scripts</comment>
    </option>
  <option id="gnPlasPUn" name="Plasma Pistol" abbrev="PlasP" description="Range 12&quot;; S 7; AP 2; Pistol, Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for remainder scripts</comment>
    </option>
  <option id="gnCombF" name="Combi-Flamer" abbrev="CombF" description="Boltgun: Range 24&quot;; S 4; AP 5; Rapid Fire.\nFlamer: Template; S 4; AP 5; Assault 1 (once per battle)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnCombGL" name="Combi-Grenade Launcher" abbrev="CombGL" description="24&quot; Range; S4; AP5; Rapid Fire (Bolter)\n24&quot; Range, [S3; AP6; Assault 1; Blast] OR [S6; AP4; Assault 1] (Grenade Launcher - once per battle)" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCombMG" name="Combi-Meltagun" abbrev="CombMG" description="Boltgun: Range 24&quot;; S 4; AP 5; Rapid Fire.\nMeltagun: Range 12&quot;; S 8; AP 1; Assault 1, Melta (once per battle)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnCombPG" name="Combi-Plasmagun" abbrev="CombPG" description="Boltgun: Range 24&quot;; S 4; AP 5; Rapid Fire.\nPlasmagun: Range 24&quot;; S 7; AP 2; Gets Hot, Rapid Fire (once per battle)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnCombSC" name="Combi-Stake Crossbow" abbrev="CombSC" description="24&quot; Range; S4; AP5; Rapid Fire (Bolter)\n24&quot; Range; S3; AP5; Assault 2; Psykers wounded on 2+ w/ no normal save. (Stake Crossbow - once per battle)" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCombNP" name="Combi-Needle Pistol" abbrev="CombNP" description="24&quot; Range; S4; AP5; Rapid Fire (Bolter)\n12&quot; Range; SX, AP6; Pistol; 1D6 AP vs Vehicles (Needle Pistol - once per battle)\n" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnMeltaB" name="Melta Bombs" abbrev="MeltaBombs" description="S 8; AP 1; Armourbane, Unwieldy (see WH40k, pg. 62)." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnOtherW" name="{macro color1}-- Other Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSqdOpt" name="{macro color1}-- Squad Options --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnWeapon" name="{macro color1}-- Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_Dozer" name="Dozer Blade" abbrev="Dozer" description="(see WH40k, pg. 87)." category="vehicle" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_ExArm" name="Extra Armour" abbrev="ExArm" description="Extra Armour (see WH40k, pg. 87)." category="vehicle" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_HKM" name="Hunter-killer Missile" abbrev="HKM" description="Unlimited range, S8; AP3; Heavy 1; One use only; (see WH40k, pg. 87)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPMSB" name="Pintle-mounted Storm Bolter" abbrev="PMSB" description="24&quot; Range; S4; AP5; Assault 2. Treated as an additional defensive weapon." category="vehicle" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Search" name="Searchlight" abbrev="Search" description="(see WH40k, pg. 87)." category="vehicle" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Smoke" name="Smoke Launchers" abbrev="Smoke" description="(see WH40k, pg. 87)." category="vehicle" footnote="yes" priority="0" cost="0"></option>
  <option id="gnHStub" name="Heavy Stubber" abbrev="HStub" description="Range 36&quot;; S 4; AP -; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCombB" name="Combi-Boltgun" abbrev="CombB" description="24&quot; Range; S4; AP5; Rapid Fire; Twin-Linked." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnElite" name="Count as Elite {macro n_Elite}" abbrev="" category="chRoster" cost="0" show="design">
    <evaluate>~ assign tags
call gnToElite</evaluate>
    </option>
  <option id="gnTroop" name="Count as Troop {macro n_Troop}" abbrev="" category="chRoster" cost="0" show="design">
    <evaluate>~assign to group
call gnToTroop</evaluate>
    </option>
  <option id="gnFast" name="Count as Fast Attack {macro n_Fast}" abbrev="" category="chRoster" cost="0" show="design">
    <evaluate>~ assign tags
call gnToFast</evaluate>
    </option>
  <option id="gnHQ" name="Count as HQ {macro n_HQ}" abbrev="" category="chRoster" cost="0" show="design">
    <evaluate>~ assign grouping
call gnToHQ</evaluate>
    </option>
  <option id="gnHeavy" name="Count as Heavy {macro n_Heavy}" abbrev="" category="chRoster" cost="0" show="design">
    <evaluate>~assign grouping
call gnToHeavy</evaluate>
    </option>
  <option id="gnSuperHvy" name="Count as Super Heavy {macro n_SprHvy}" abbrev="" category="chRoster" cost="0" show="design">
    <evaluate>var result as number
result = unit.delete[Group.?]
result = unit.assign[Group.SuperHeavy]</evaluate>
    </option>
  <option id="gnRoster" name="{macro color1}-- Roster Change --{text 010101}" abbrev="" category="chRoster" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnAutoC_E" name="Autocannon" abbrev="Autocannon" description="48&quot; Range; S 7; AP 4; Heavy 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnAddUnit" name="{macro color1}-- Add To Unit --{text 010101}" abbrev="" category="add" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnSpcAddOn" name=" " abbrev="" category="chUpgrade" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnLasgun" name="Lasgun" abbrev="LG" description="Range: 24&quot;; S 3; AP -; Rapid Fire." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for remainder scripts</comment>
    </option>
  <option id="gnUpgrades" name="{macro color1}-- Weapon Upgrades --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnTLHvyBlt" name="Twin-Linked Heavy Bolter" abbrev="TLHBoltG" description="36&quot; Range; S5; AP4; Heavy 3 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTLLasC" name="Twin-Linked Lascannon" abbrev="TLLasC" description="48&quot; Range; S9; AP2; Heavy 1 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnAssltC" name="Assault Cannon" abbrev="AssaultCannon" description="24&quot; Range; S 6; AP 4; Heavy4, Rending." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTLAssltC" name="Twin-Linked Assault Cannon" abbrev="TLAssltC" description="24&quot; Range; S6; AP4; Heavy 4 Rending Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTLAutoC" name="Twin-Linked Autocannon" abbrev="TLAutoC" description="48&quot; Range; S7; AP4; Heavy 2 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnBattleC" name="Battle Cannon" abbrev="BattleCannon" description="72&quot; Range; S 8; AP 3; Ordnance1, Large Blast." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnMultiL" name="Multilaser" abbrev="MultiL" description="Range: 36&quot;; S 6; AP -; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnAerialA" name="Aerial Assault" abbrev="AA" description="May fire all of its weapons when traveling at Cruising speed." category="skills" footnote="yes" priority="15" nature="auto" cost="0" textcost=" "></option>
  <option id="gn6_SupSon" name="Supersonic" abbrev="Supersonic" description="Supersonic (see WH40k, pg. 42)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnToElite" name="roster: Elite" abbrev="" category="chRoster" priority="0" nature="base" cost="0" show="never">
    <evaluate>~assign to group
call gnToElite

~ call script
call gnChgGrouL</evaluate>
    </option>
  <option id="gnToFast" name="roster: Fast" abbrev="" category="chRoster" priority="0" nature="base" cost="0" show="never">
    <evaluate>~assign to group
call gnToFast

~ call script
call gnChgGrouL</evaluate>
    </option>
  <option id="gnToHQ" name="roster: HQ" abbrev="" category="chRoster" priority="0" nature="base" cost="0" show="never">
    <evaluate>~assign to group
call gnToHQ

~ call script
call gnChgGrouL</evaluate>
    </option>
  <option id="gnToHeavy" name="roster: Heavy" abbrev="" category="chRoster" priority="0" nature="base" cost="0" show="never">
    <evaluate>~assign to group
call gnToHeavy

~ call script
call gnChgGrouL</evaluate>
    </option>
  <option id="gnSShield" name="Supression Shield" abbrev="SShield" description="Counts as an additional close combat weapon, and confers a 4+ Invulnerable save." category="weapons" priority="110" cost="0">
    <evaluate>~ Adding in CCW bonus and Invulnerable Save
call gnAddCCW
call gnInv4</evaluate>
    </option>
  <option id="gnToNone" name="roster: none" abbrev="" category="chRoster" priority="0" nature="base" cost="0" show="never">
    <evaluate>~assign to group
call gnToNone

~ call script
call gnChgGrouL</evaluate>
    </option>
  <option id="gnToTroop" name="roster: Troop" abbrev="" category="chRoster" priority="0" nature="base" cost="0" show="never">
    <evaluate>~assign to group
call gnToTroop

~ call script
call gnChgGrouL</evaluate>
    </option>
  <option id="gnPowF" name="Power Fist" abbrev="PowerFist" description="S x2; AP 2; Melee, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW

~double strength
call gnMulStr2

~ Unwieldy: reduce intitiative
call gnInit1

~ tag as special weapon
call gn6_AdSWT</evaluate>
    </option>
  <option id="gnAutoG" name="Autogun" abbrev="Autogun" description="24&quot; Range; S 3; AP -;  Rapid Fire." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Acute" name="Acute Senses" abbrev="Acute" description="Acute Senses (see WH40k, pg. 33)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_CouAtk" name="Counter-attack" abbrev="CouAtk" description="Counter-attack (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnCA]</evaluate>
    </option>
  <option id="gn6_Fearle" name="Fearless" abbrev="Fearless" description="Fearless (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnF]</evaluate>
    </option>
  <option id="gn6_FNP" name="Feel No Pain" abbrev="FNP" description="Feel No Pain (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnFNP]</evaluate>
    </option>
  <option id="gn6_Fleet" name="Fleet" abbrev="Fleet" description="Fleet (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnFl]</evaluate>
    </option>
  <option id="gn6_FurCha" name="Furious Charge" abbrev="Furious" description="Furious Charge (see WH40k, pg. 37)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnFC]</evaluate>
    </option>
  <option id="gn6_HitRun" name="Hit &amp; Run" abbrev="Hit&amp;Run" description="Hit &amp; Run (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut | roster.el</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnHR]</evaluate>
    </option>
  <option id="gn6_Infilt" name="Infiltrate" abbrev="Infiltrate" description="Infiltrate (see WH40k, pg. 38)." category="skills" footnote="yes" priority="0" cost="0">
    <link option="gn6_Acute" priority="90" cost="1." index="1">
      <live><![CDATA[smAdvantag.SeeButDont & !(smTags.Sergeant)]]></live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnI]</evaluate>
    </option>
  <option id="gn6_MTC" name="Move Through Cover" abbrev="MoveThroughCover" description="Move Through Cover (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnMTC]</evaluate>
    </option>
  <option id="gn6_NightV" name="Night Vision" abbrev="NightVision" description="Night Vision (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnNV]</evaluate>
    </option>
  <option id="gn6_PreEne" name="Preferred Enemy" abbrev="PreferredEnemy" description="Preferred Enemy (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnPE]</evaluate>
    </option>
  <option id="gn6_Scout" name="Scouts" abbrev="Scout" description="Scouts (see WH40k, pg. 41)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnS]</evaluate>
    </option>
  <option id="gn6_SkiRid" name="Skilled Rider" abbrev="SkilledRider" description="Skilled Rider(see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnSR]</evaluate>
    </option>
  <option id="gn6_SloPur" name="Slow and Purposeful" abbrev="SlowandPurposeful" description="Slow and Purposeful (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" nature="auto" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnSAP]</evaluate>
    </option>
  <option id="gnSmall" name="Small Targets" abbrev="Sml Tgt" description="Improve cover save by +1, conditions apply (p75 WH40K)" category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnST]</evaluate>
    </option>
  <option id="gn6_Stealt" name="Stealth" abbrev="Stealth" description="Stealth (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnSt]</evaluate>
    </option>
  <option id="gn6_Stubrn" name="Stubborn" abbrev="Stubborn" description="Stubborn (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnStu]</evaluate>
    </option>
  <option id="gn6_Swarms" name="Swarms" abbrev="Swarms" description="Swarms (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnSwa]</evaluate>
    </option>
  <option id="gn6_TnkHun" name="Tank Hunters" abbrev="TankHunters" description="Tank Hunters (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gn6_TH]</evaluate>
    </option>
  <option id="gnTrue" name="True Grit" abbrev="TG" description="No attack bonus, counts bolter as CCW, conditions apply (p76 WH40K)" category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnTG]</evaluate>
    </option>
  <option id="gnTurbo" name="Turbo-boosters" abbrev="" description="Bikes/jetbikes may move up to 24&quot;, cover save of 3+, conditions apply (p76 WH40K 5E)" category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnTB]</evaluate>
    </option>
  <option id="gnVuln" name="Vulnerable to Blasts/Templates" abbrev="Vuln" description="Vehicles count hits as two, units count wounds as two, conditions apply (p76 WH40K 5E)" category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnVTB]</evaluate>
    </option>
  <option id="gn6_ChFst" name="Chainfist" abbrev="Chainfist" description="S x2; AP 2; Melee, Armourbane, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~double strength
call gnMulStr2

~reduce intitiative
call gnInit1

~ tag as special weapon
call gn6_AdSWT</evaluate>
    </option>
  <option id="gnPowWUn" name="Power Weapon" abbrev="PW" description="S User; AP 3; Melee (see WH40k, pg. 61)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnAutoP" name="Autopistol" abbrev="Autopistol" description="12&quot; Range; S 3; AP -;  Pistol." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gnTLHStub" name="Twin-Linked Heavy Stubber" abbrev="TLHStub" description="36&quot; Range; S4; AP6; Heavy 3 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPsych" name="{macro color1}-- Psychic Powers --{text 010101}" abbrev="" category="psychic" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnBike" name="{macro color1}-- Bike Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_THSS" name="Thunder Hammer &amp; Storm Shield" abbrev="TH&amp;SS" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy.\n4+ Invulnerable Save in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~double strength
call gnMulStr2

~reduce intitiative
call gnInit1

~invulnerable save for Storm Shield
call gnInv4

~ tag as special weapon
call gn6_AdSWT</evaluate>
    </option>
  <option id="gn6_TH" name="Thunder Hammer" abbrev="TH" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW

~double strength
call gnMulStr2

~reduce intitiative
call gnInit1

~ tag as special weapon
call gn6_AdSWT</evaluate>
    </option>
  <option id="gnRanged" name="{macro color1}-- Ranged --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_ChFstU" name="Chainfist" abbrev="Chainfist" description="S x2; AP 2; Melee, Armourbane, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnPowFUn" name="Power Fist" abbrev="PowerFist" description="S x2; AP 2; Melee, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_THSSUn" name="Thunder Hammer &amp; Storm Shield" abbrev="TH&amp;SS" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy.\n4+ Invulnerable Save in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnInfP" name="Inferno Pistol" abbrev="InfP" description="Range 6&quot;; S 8; AP 1; Pistol, Melta." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>WH/ DH Version</comment>
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gnLtClPrUn" name="Lightning Claws (pair)" abbrev="2xLC" description="S User; AP 3; Melee, Shred, Specialist Weapon." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnShotGMS" name="Shotgun w/ Manstopper shells" abbrev="ShotG" description="Range 12&quot;; S 4; AP -; Assault 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCCWFr" name="Close Combat Weapon" abbrev="CCW" description="S User; AP - ; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>first item chosen is free</comment>
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnBoltPFr" name="Bolt Pistol" abbrev="BoltPistol" description="12&quot; Range; S 4; AP 5; Pistol." category="weapons" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    <cost>~ 0 pts standard for only one as a free weapon choice
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnPowWFr" name="Power Weapon" abbrev="PW" description="S User; AP 3; Melee (see WH40k, pg. 61)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    <cost>~ 0 pts standard for only one as a free weapon choice
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnAutoPUn" name="Autopistol" abbrev="Autopistol" description="12&quot; Range; S 3; AP -;  Pistol." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_PotMS" name="Power of the Machine Spirit" abbrev="MachineSpirit" description="Power of the Machine Spirit (see WH40k, pg. 40)." category="vehicle" equipment="yes" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnSpace" name=" " abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnBoltGFr" name="Boltgun" abbrev="BoltG" description="Range 24&quot;; S 4; AP 5; Rapid Fire." category="weapons" footnote="yes" priority="0" cost="0">
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnStormBFr" name="Storm Bolter" abbrev="StormB" description="Range 24&quot;; S 4; AP 5; Assault 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnStormS" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ Setting 4+ Invulnerable save
call gnInv4</evaluate>
    </option>
  <option id="gnStormSFr" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="weapons" priority="0" cost="0">
    <evaluate>~ Setting 4+ Invulnerable save
call gnInv4</evaluate>
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gn6_THFr" name="Thunder Hammer" abbrev="TH" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~double strength
call gnMulStr2

~reduce intitiative
call gnInit1

~ tag as special weapon
call gn6_AdSWT</evaluate>
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gn6_THSSFr" name="Thunder Hammer &amp; Storm Shield" abbrev="TH&amp;SS" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy.\n4+ Invulnerable Save in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~double strength
call gnMulStr2

~reduce intitiative
call gnInit1

~invulnerable save for Storm Shield
call gnInv4

~ tag as special weapon
call gn6_AdSWT</evaluate>
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnTLBoltG" name="Twin-Linked Boltgun" abbrev="TLBoltG" description="24&quot; Range; S4; AP5; Rapid Fire, Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTLStormB" name="Twin-Linked Storm Bolters" abbrev="TLStormB" description="24&quot; Range; S 4; AP 5; Assault 2, Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_HvyBGU" name="Heavy Bolter" abbrev="HBoltG" description="Range 36&quot;; S5; AP4; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnBoltG" name="Boltgun" abbrev="BoltG" description="Range 24&quot;; S 4; AP 5; Rapid Fire." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnPintle" name="{macro color1}-- Pintle Weapons --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnTLHvyF" name="Twin-Linked Heavy Flamer" abbrev="TLHvyF" description="Template; S5; AP4; Assault 1, Twin-linked." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnForceWUn" name="Force Weapon" abbrev="FW" description="S User; AP 3; Melee, Force." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnTLMMelta" name="Twin-Linked Multi-melta" abbrev="TLMmelta" description="24&quot; Range; S8; AP1; Heavy 1 Linked Melta" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Evisc" name="Eviscerator" abbrev="Eviscerator" description="S x2; AP 2; Melee, Armourbane, Two-handed, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~double strength
call gnMulStr2

~reduce intitiative
call gnInit1</evaluate>
    </option>
  <option id="gnAssets" name="{macro color1}-- Assets --{text 010101}" abbrev="" category="assets" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn2CCW" name="2 x Close Combat Weapon" abbrev="CCW x 2" description="If used with another close combat weapon, +1 attack in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW
call gnAddCCW</evaluate>
    </option>
  <option id="gn1to3" name="{macro color1}-- Choose 1-3 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnAPDemo" name="Demolisher Cannon" abbrev="DemoC" description="24&quot; Range; S10; AP2; Ordnance 1; 5&quot; Blast" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>AP version</comment>
    <live/>
    </option>
  <option id="gn0to5" name="{macro color1}-- Choose 0-5 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnCamoN" name="Camo Netting" abbrev="CamoN" description="If using Hidden Set-up the vehicle may deploy anywhere in the deployment zone, not just behind features or terrain." category="vehicle" priority="0" cost="0"></option>
  <option id="igMineS" name="Mine Plough (IA)" abbrev="MineS" description="Acts as Dozer Blade, removes minefields on a 4+ and has Sharpnel Launcher: 8&quot;R, S2, AP 1, Assault 2, Blast (IG Update)." category="wargear" footnote="yes" priority="0" cost="0">
    <link option="gn6_Dozer" nature="include" hide="yes" index="0"></link>
    </option>
  <option id="gnOne" name="{macro color1}-- Choose 1 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnThree" name="{macro color1}-- Choose 3 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnTwo" name="{macro color1}-- Choose 2 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_DeeStr" name="Deep Strike" abbrev="DeepStrike" description="Deep Strike (see WH40k, pg. 36)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn4to8" name="{macro color1}-- Choose 4-8 --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_EteWar" name="Eternal Warrior" abbrev="Eternal" description="Eternal Warrior (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnEW]</evaluate>
    </option>
  <option id="gn6_Rage" name="Rage" abbrev="Rage" description="Rage (see WH40k, pg. 41)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gn6_Rage]</evaluate>
    </option>
  <option id="gn6_Relent" name="Relentless" abbrev="Relentless" description="Relentless (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gn6_Relent]</evaluate>
    </option>
  <option id="gnAddForm" name="{macro color1}-- Add To Formation --{text 010101}" abbrev="" category="add" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnMMeltaUn" name="Multi-melta" abbrev="Mmelta" description="Range 24&quot;; S 8; AP 1; Heavy 1, Melta." category="weapons" footnote="yes" priority="0" cost="0">
    <comment>Meant for units - removes kill team evaluation so that this option will work on a remaindered basis.</comment>
    </option>
  <option id="gnMeltaGUn" name="Meltagun" abbrev="MeltaG" description="Range 12&quot;; S 8; AP 1; Assault 1, Melta." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Meant for units - removes kill team evaluation so that this option will work on a remaindered basis.</comment>
    </option>
  <option id="gnTLHBltUn" name="Twin-Linked Heavy Bolter" abbrev="TLHBoltG" description="36&quot; Range; S5; AP4; Heavy 3 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Meant for units - removes kill team evaluation so that this option will work on a remaindered basis.</comment>
    </option>
  <option id="gnTLPlasC" name="Twin-Linked Plasma Cannon" abbrev="PlasC" description="36&quot; Range; S7; AP2; Heavy 1; Linked; Blast; Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCML" name="Cyclone Missile Launcher" abbrev="CycML" description="Frag: Range: 48&quot;; S4; AP6; Heavy 2, Blast.\nKrak: Range: 48&quot;; S8; AP3; Heavy 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnCombSh" name="Combat Shield" abbrev="CombatShield" description="6+ Invulnerable Save." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ Setting 6+ Invulnerable save
call gnInv6</evaluate>
    </option>
  <option id="gn6_DCCW" name="Dreadnought CCW" abbrev="DCCW" description="S x2; AP 2; Melee." category="weapons" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnFlameC" name="Flamestorm Cannons" abbrev="FlamestormCan" description="Range: Template; S 6; AP 3; Heavy 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnHurrBlt" name="Hurricane Bolter" abbrev="HurrBlt" description="Three weapons, each Range: 24&quot;; S4; AP5; Rapid Fire, Twin Linked." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnIronHalo" name="Iron Halo" abbrev="IronH" description="Confers a 4+ Invulnerable save." category="wargear" equipment="yes" footnote="yes" priority="200" cost="25" costtype="single">
    <comment>Wargear Description.</comment>
    <evaluate>~Setting 4+ Invulnerable save to unit
call gnInv4</evaluate>
    </option>
  <option id="gnStormS3" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <comment>Modified for new 5E Space Marines</comment>
    <evaluate>~ Setting 3+ Invulnerable save
call gnInv3</evaluate>
    </option>
  <option id="gn6_THSS3" name="Thunder Hammer &amp; Storm Shield" abbrev="TH&amp;SS" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy.\n3+ Invulnerable Save in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Modified for new 5E space Marines</comment>
    <evaluate>~double strength
call gnMulStr2

~reduce intitiative
call gnInit1

~invulnerable save for Storm Shield
call gnInv3

~ tag as special weapon
call gn6_AdSWT</evaluate>
    </option>
  <option id="gn6_THSS3U" name="Thunder Hammer &amp; Storm Shield" abbrev="TH&amp;SS" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy.\n3+ Invulnerable Save in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Modified for new 5E Space Marines</comment>
    </option>
  <option id="gn6_Signum" name="Signum" abbrev="Signum" description="Signum; see (C:SM, pg. 100)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnTLPlasG" name="Twin-Linked Plasmagun" abbrev="TLPlasG" description="24&quot; Range; S7; AP2; Rapid Fire; Linked; Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnTML" name="Typhoon Missile Launcher" abbrev="TypML" description="Frag: Range 48&quot;; S4; AP6; Heavy 2, Blast.\nKrak: Range 48&quot;; S8; AP3; Heavy 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnPowArm" name="Power Armour" abbrev="" description="Confers a 3+ Armour Save." category="wargear" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnScoArm" name="Scout Armour" abbrev="" description="Confers a 4+ Armour Save." category="wargear" footnote="yes" priority="0" cost="0"></option>
  <option id="gnDML" name="Deathwind Missile Launcher" abbrev="DeaML" description="Range: 12&quot;; S5; AP-; Heavy 1, Large Blast" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gnArtArm" name="Artificer Armour" abbrev="ArtArm" description="Confers a 2+ Armour save." category="wargear" equipment="yes" footnote="yes" priority="200" cost="25" costtype="single">
    <comment>Wargear Description.</comment>
    <evaluate>~Setting 2+ Armour save to unit
call gnSave2</evaluate>
    </option>
  <option id="gnStormS3F" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="weapons" priority="0" cost="0">
    <evaluate>~ Setting 3+ Invulnerable save
call gnInv3</evaluate>
    <cost>~ 0 pts standard for only one
if (selection = 1) then

  @each = 0
endif</cost>
    </option>
  <option id="gnTLHvyFlU" name="Twin-Linked Heavy Flamer" abbrev="TLHvyF" description="Template; S5; AP4; Assault 1, Twin-linked." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnMultiLUn" name="Multilaser" abbrev="MultiL" description="Range: 36&quot;; S 6; AP -; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTLLasCUn" name="Twin-Linked Lascannon" abbrev="TLLasC" description="48&quot; Range; S9; AP2; Heavy 1 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCarArm" name="Carapace Armour" abbrev="" description="Confers a 4+ Armour Save." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnFlkArm" name="Flak Armour" abbrev="" description="Confers a 5+ Armour Save." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnHStubUn" name="Heavy Stubber" abbrev="HStub" description="Range 36&quot;; S 4; AP -; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPMFlamer" name="Pintle-mounted Flamer" abbrev="PMFlamer" description="Template; S4; AP5; Assault 1" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPMHvyFl" name="Pintle-mounted Heavy Flamer" abbrev="PMHFlamer" description="Template; S5; AP4; Assault 1" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnPMHStub" name="Pintle-mounted Heavy Stubber" abbrev="PMHStub" description="36&quot; Range; S4; AP6; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnLasCUn" name="Lascannon" abbrev="LasC" description="Range: 48&quot;; S 9; AP 2; Heavy 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnSShldUn" name="Supression Shield" abbrev="SShield" description="Counts as an additional close combat weapon, and confers a 4+ Invulnerable save." category="weapons" priority="110" cost="0"></option>
  <option id="gnLtClUn" name="Lightning Claw" abbrev="LC" description="S User; AP 3; Melee, Shred, Specialist Weapon." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_UTArt" name="{B}Artillery{/B}" abbrev="" description="Artillery (see WH40k, pg. 46)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gnSpcUnitT" index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_AutoUT" name="Automatic Unit Type" abbrev="" description="See WH40K rulebook, pgs. 44-49." category="unittype" footnote="yes" priority="0" nature="include" cost="0" textcost=" ">
    <link option="gnSpcUnitT" nature="include" index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    <evaluate><![CDATA[~ Routine to determine model's unit type and display automatically

~ initialize variables
~ type is actual unit info gained from tags
var type as number

~ desc is going to be description outputted as text
var desc as string

~ Infantry
if (unit.tagis[UnitTags.infantry] = 1) then
   desc = "Infantry"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
      done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Beasts
if (unit.tagis[UnitTags.beasts] = 1) then
   desc = "Beasts"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Cavalry
if (unit.tagis[UnitTags.cavalry] = 1) then
   desc = "Cavalry"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Bikes
if (unit.tagis[UnitTags.bikes] = 1) then
      desc = "Bikes"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Jetbikes
if (unit.tagis[UnitTags.jetbike] = 1) then
   desc = "JetBikes"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Eldar Jetbikes
if (unit.tagis[UnitTags.ejetbike] = 1) then
   desc = "Eldar Jetbikes"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Artillery
if (unit.tagis[UnitTags.artillery] = 1) then
   desc = "Artillery"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Jump Units
if (unit.tagis[UnitTags.jumpunits] = 1) then
      desc = "Jump Units"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Jet Pack Units
if (unit.tagis[UnitTags.jetpack] = 1) then
   desc = "Jet Pack Units"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Monstrous Creatures
if (unit.tagis[UnitTags.monsterous] = 1) then
      desc = "Monstrous Creature"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Jump Monstrous Creatures
if (unit.tagis[UnitTags.jumpmonste] = 1) then
      desc = "Jump Monstrous Creature"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Flying Monstrous Creatures
if (unit.tagis[UnitTags.flymonster] = 1) then
      desc = "Flying Monstrous Creature"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Flying Monstrous Creatures
if (unit.tagis[UnitTags.jetmonster] = 1) then
      desc = "Jet Pack Monstrous Creature"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Character)"
     done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B}"
      done
   endif
endif

~ Infantry (Jetpack)
if (unit.tagis[UnitTags.infjetpack] = 1) then
   desc = "Infantry"
   if (unit.tagis[UnitTags.character] = 1) then
      name = "{B}" & desc & "{/B} (Jetpack, Character)"
      done
   elseif (unit.tagis[UnitTags.character] = 0) then
      name = "{B}" & desc & "{/B} (Jetpack)"
      done
   endif
endif]]></evaluate>
    </option>
  <option id="gn6_UTJmU" name="{B}Jump Units{/B}" abbrev="" description="Jump Units (see WH40k, pg. 47)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Bulky" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_DeeStr" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gnSpcUnitT" index="2"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTMC" name="{B}Monstrous Creature{/B}" abbrev="MC" description="Monstrous Creature (see WH40k, pg. 48)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fear" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_MTC" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="3"></link>
    <link option="gn6_Smash" priority="305" nature="include" textcost=" " index="4"></link>
    <link option="gnSpcUnitT" index="5"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnCCWUn2" name="Close Combat Weapon" abbrev="CCW" description="S User; AP - ; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for units that use remainder script</comment>
    </option>
  <option id="gnTermArm" name="Terminator Armour" abbrev="TermArm" description="Confers a 2+ Armour save and a 5+ Invulnerable save." category="wargear" equipment="yes" footnote="yes" priority="200" cost="0" signature="combos">
    <link option="da6_DeaA" priority="305" nature="auto" textcost=" " index="1">
      <live><![CDATA[(roster.da6E & !ally.?) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="da6_VenS" priority="305" nature="auto" textcost=" " index="2">
      <live><![CDATA[(roster.da6E & !ally.?) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_Bulky" priority="305" nature="auto" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <evaluate>~Setting 2+/5+ Armour save to unit
call gnSave2
call gnInv5</evaluate>
    </option>
  <option id="gnSpcTpt" name=" " abbrev="" category="transport" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_IndCha" name="Independent Character" abbrev="IndChar" description="Independent Character (see WH40k, pg. 39)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Acute" priority="90" cost="1." index="1">
      <live><![CDATA[smAdvantag.SeeButDont & !(smTags.Sergeant)]]></live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTInf" name="{B}Infantry{/B}" abbrev="" description="Infantry (see WH40k, pg. 44)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTCav" name="{B}Cavalry{/B}" abbrev="" description="Cavalry (see WH40k, pg. 48)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fleet" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gnSpcUnitT" index="2"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnRef" name="(page ref.)" abbrev="Ref" category="reference" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gnSpace" priority="10" display="10" category="reference" index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    <visibility>!ruleset.ro_CompOut</visibility>
    </option>
  <option id="gn6_UTBea" name="{B}Beasts{/B}" abbrev="" description="Beasts (see WH40k, pg. 48)." category="unittype" equipment="yes" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fleet" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_MTC" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gnSpcUnitT" index="2"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTTank" name="{B}Vehicle{/B} (Tank)" abbrev="" description="Vehicle (Tank) (see WH40k, pg. 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTWalk" name="{B}Vehicle{/B} (Walker)" abbrev="" description="Vehicle (Walker) (see WH40k, pg. 84)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Psyker" name="Psyker" abbrev="Psyker" description="Psyker (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnTG]

~ Adding tag for visibility of 6E Psychic disciplines
if (entity.tagis[gnAcc.no_Psyker] = 0) then
  retval = entity.assign[gnAcc.is_Psyker]
endif</evaluate>
    </option>
  <option id="gn6_UTBik" name="{B}Bikes{/B}" abbrev="" description="Bikes (see WH40k, pg. 45)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gnSpcUnitT" index="3"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Rend" name="Rending" abbrev="Rending" description="Rending (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnTG]</evaluate>
    </option>
  <option id="gnSpcDGift" name=" " abbrev="" category="DGifts" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnFlamer1" name="Flamer" abbrev="Flamer" description="Template; S 4; AP 5; Assault 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Meant for Space Wolves Grey Hunters</comment>
    </option>
  <option id="gnMeltaG1" name="Meltagun" abbrev="MeltaG" description="Range 12&quot;; S 8; AP 1; Assault 1, Melta." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Meant for Space Wolves Grey Hunters</comment>
    </option>
  <option id="gnPlasG1" name="Plasma gun" abbrev="PlasG" description="Range 24&quot;; S 7; AP 2; Rapid Fire, Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Meant for Space Wolves Grey Hunters</comment>
    </option>
  <option id="gnStormS3A" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <comment>Modified for new 5E Space Marines</comment>
    <evaluate>~ Setting 3+ Invulnerable save
call gnInv3</evaluate>
    </option>
  <option id="gnRepair" name="Repair" abbrev="" description="If a Rhino is immobilzed for any reason, then in subsequent turns the crew can attempt a temporary repair instead of the vehcile shooting. Roll a D6 in the Shotting phase, and on a 6 the vehicle is no longer immobilzed." category="skills" footnote="yes" priority="0" nature="auto" cost="0" textcost=" "></option>
  <option id="gn6_TC10" name="{B}10 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC6" name="{B}6 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_AP3" name="{B}3{/B} Access Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_FP1" name="{B}1{/B} Fire Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTO" name="{B}Vehicle{/B} (Open-topped)" abbrev="" description="Vehicle (Open-topped) (see WH40k, pg. 82)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_AP1" name="{B}1{/B} Access Point" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnAmphib" name="Amphibious" abbrev="" description="Treats all water features as clear terrain." category="skills" footnote="yes" priority="0" nature="auto" cost="0" textcost=" "></option>
  <option id="gn6_FP2" name="{B}2{/B} Fire Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC12" name="{B}12 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_FP0" name="{B}0{/B} Fire Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC15" name="{B}15 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnStormSUn" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_THUn" name="Thunder Hammer" abbrev="TH" description="S x2; AP 2; Melee, Concussive, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_UTFS" name="{B}Vehicle{/B} (Fast, Skimmer)" abbrev="" description="Vehicle (Fast, Skimmer) (see WH40k, pg. 83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_DCCW2" name="Dreadnought CCW" abbrev="DCCW" description="S x2; AP 2; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gn6_UTSuW" name="{B}Vehicle{/B} (Super-Heavy Walker)" abbrev="" description="Vehicle (Super-Heavy Walker) (see Apocalypse, pg. 92)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnSpcWpBio" name=" " abbrev="" category="Biomorph" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_TC16" name="{B}16 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC5" name="{B}5 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnKrakG_E" name="Krak Grenades" abbrev="KrakGrenades" description="Range 8&quot;; S 6; AP 4; Assault 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnMeltaB_E" name="Melta Bombs" abbrev="MeltaBombs" description="S 8; AP 1; Armourbane, Unwieldy (see WH40k, pg. 62)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnPowArm_E" name="Power Armour" abbrev="" description="Confers a 3+ Armour Save." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnAutoC" name="Autocannon" abbrev="Autocannon" description="48&quot; Range; S 7; AP 4; Heavy 2." category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="gnCCWUnDO" name="Close Combat Weapon" abbrev="CCW" description="S User; AP - ; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" show="design" signature="combos">
    <comment>used for units that use remainder script</comment>
    </option>
  <option id="gn6_UTFO" name="{B}Vehicle{/B} (Fast, Open-topped)" abbrev="" description="Vehicle (Fast, Open-topped) (see WH40k, pg. 82-83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTOT" name="{B}Vehicle{/B} (Open-topped, Tank)" abbrev="" description="Vehicle (Open-topped, Tank) (see WH40k, pgs. 82, 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC20" name="{B}20 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTSuT" name="{B}Vehicle{/B} (Super-Heavy Tank)" abbrev="" description="Vehicle (Super-Heavy Tank) (see Apocalypse, pg. 92)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC30" name="{B}30 model{/B} capacity" abbrev="" category="unittype" footnote="yes" priority="900" cost="0" show="design">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFa" name="{B}Vehicle{/B} (Fast)" abbrev="" description="Vehicle (Fast) (see WH40k, pg. 83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnSpcUnitT" name=" " abbrev="" category="unittype" priority="999" nature="auto" cost="0" infoonly="yes" show="design">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFST" name="{B}Vehicle{/B} (Fast, Skimmer, Tank)" abbrev="" description="Vehicle (Skimmer, Tank, Fast) (see WH40k, pgs. 83, 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gnSpcUnitT" index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTJPU" name="{B}Jet Pack Units{/B}" abbrev="" description="Jet Pack Units(see WH40k, pg. 47)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Bulky" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_DeeStr" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gnSpcUnitT" index="3"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn2CCWUn" name="2 x Close Combat Weapon" abbrev="CCW x 2" description="If used with another close combat weapon, +1 attack in close combat." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTrans" name="Transport" abbrev="" category="skills" priority="10" nature="auto" cost="0" textcost=" "></option>
  <option id="gn6_UTST" name="{B}Vehicle{/B} (Skimmer, Tank)" abbrev="" description="Vehicle (Skimmer, Tank) (WH40k, pp. 83, 85-86)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFOS" name="{B}Vehicle{/B} (Fast, Open-topped, Skimmer)" abbrev="" description="Vehicle (Fast, Open-topped, Skimmer) (see WH40k, pp. 82-83)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="308" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="bmHQ_ork" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.ork</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.ork]]></candidate>
    </option>
  <option id="gn6_UTOW" name="{B}Vehicle{/B} (Open-topped, Walker)" abbrev="" description="Vehicle (Open-topped, Walker) (see WH40k, pg. 82,84)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_AP4" name="{B}4{/B} Access Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TCDN" name="{B}One Dreadnought{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFT" name="{B}Vehicle{/B} (Fast, Tank)" abbrev="" description="Vehicle (Fast, Tank) (see WH40k, pgs. 83, 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnSpcSpec" name=" " abbrev="" category="skills" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_UTFl" name="{B}Vehicle{/B} (Flyer)" abbrev="" description="Vehicle (Flyer) (see WH40k, pgs. 80-81)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Skyfir" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="bmHQ_ohw" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.sob</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.sob]]></candidate>
    </option>
  <option id="bmHQ_gk5E" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.gk5E</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.gk5E]]></candidate>
    </option>
  <option id="bmHQ_chA" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.chA</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.chA]]></candidate>
    </option>
  <option id="bmHQ_sm" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.sm</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.sm]]></candidate>
    </option>
  <option id="bmHQ_de" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.de</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.de]]></candidate>
    </option>
  <option id="bmHQ_ta" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.ta</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.ta]]></candidate>
    </option>
  <option id="bmHQ_ty5" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.ty5</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.ty5]]></candidate>
    </option>
  <option id="bmHQ_cd" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.cd</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.cd]]></candidate>
    </option>
  <option id="bmHQ_el" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.el</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.el]]></candidate>
    </option>
  <option id="bmHQ_ne" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.ne5E</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.ne5E]]></candidate>
    </option>
  <option id="bmHQ_ig" name="Add Named HQ" abbrev="" category="add" priority="0" cost="0" unit="*" show="design" textcost="varies">
    <live>race.ig</live>
    <candidate><![CDATA[Group.HQ & (limited.unique | limited.limit1) & race.ig]]></candidate>
    </option>
  <option id="gn6_UTFlH" name="{B}Vehicle{/B} (Flyer w/ Hover mode)" abbrev="" description="Vehicle (Flyer w/Hover Mode) (see WH40k, pgs. 80-81)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Skyfir" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_FP3" name="{B}3{/B} Fire Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTVehS" name="{B}Vehicle{/B} Squadron" abbrev="" description="Vehicle Squadron (see WH40k, pg. 77)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTSuFl" name="{B}Vehicle{/B} (Super-Heavy Flyer)" abbrev="" description="Vehicle (Super-Heavy Flyer) (see Apocalypse, pg. 94)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Skyfir" priority="305" nature="auto" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTGarg" name="{B}Gargantuan Creature{/B}" abbrev="" description="Gargantuan Creature (see Apocalypse, pg. 91)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTSFST" name="{B}Vehicle{/B} (Super-Heavy Tank, Skimmer, Fast)" abbrev="" description="Vehicle (Super-Heavy Tank, Skimmer, Fast) (see Apocalypse, pg. 92)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnInfP2" name="Infernus Pistol" abbrev="InfP" description="6&quot; Range; S8; AP1; Pistol; Melta." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>BA verison</comment>
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_AP0" name="{B}0{/B} Access Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTSu" name="{B}Vehicle{/B} (Super-Heavy Vehicle)" abbrev="" description="Vehicle (Super-Heavy Vehicle) (see Apocalypse, pg. 92)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_AP2" name="{B}2{/B} Access Points" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnUnitUpg" name="{macro color1}-- Upgrades --{text 010101}" abbrev="" category="gnUnitUpg" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gnCombShUn" name="Combat Shield" abbrev="CS" description="6+ Invulnerable Save." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnSubFlak" name="Sub-Flak Armour" abbrev="" description="Confers a 6+ Armour Save." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnLasCut" name="Las-cutter" abbrev="LasCut" description="A las-cutter armed model can forgo their usual attacks in assault (including any bonus for charging) and instead make a single S9 attack allowing no armour saves, at Initiative 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gnStorm3Un" name="Storm Shield" abbrev="StormShield" description="Storm Shield" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnShotG_4" name="Shotgun" abbrev="ShotG" description="Range 12&quot;; S 4; AP -; Assault 2." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnTLAutoC2" name="Twin-Linked Autocannon" abbrev="TLAutoC" description="48&quot; Range; S7; AP4; Heavy 2 Linked" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>Second verison of same weapon, important for Dreadnoughts.</comment>
    </option>
  <option id="gnNote" name=" " abbrev="" category="reference" priority="5" nature="include" cost="0" textcost=" "></option>
  <option id="gnBS4" name=" " abbrev="" category="reference" priority="0" nature="auto" cost="0" show="never" textcost=" ">
    <evaluate>unit.basestat[BS] = 4
</evaluate>
    </option>
  <option id="gnHandFl" name="Hand Flamer" abbrev="HandFl" description="Template; S 3; AP 6; Assault 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_UTOS" name="{B}Vehicle{/B} (Open-topped, Skimmer)" abbrev="" description="Vehicle (Open-topped, Skimmer) (see WH40k, pgs. 82-83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTHST" name="{B}Vehicle{/B} (Heavy, Skimmer, Tank)" abbrev="" description="Vehicle (Heavy, Skimmer, Tank) (see WH40k, pgs. 83, 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFOST" name="{B}Vehicle{/B} (Fast, Open-Topped, Skimmer, Tank)" abbrev="" description="Vehicle (Fast, Open-topped, Skimmer, Tank) (see WH40k, pgs. 82, 83, 85-86)." category="unittype" footnote="yes" priority="0" cost="0">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    </option>
  <option id="gn6_TC2RHI" name="{B}2 Rhinos{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC1LR" name="{B}One Land Raider{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTS" name="{B}Vehicle{/B} (Skimmer)" abbrev="" description="Vehicle (Skimmer) (see WH40k, pg. 83)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTSuFH" name="{B}Vehicle{/B} (Super-Heavy Flyer w/ Hover mode)" abbrev="" description="Vehicle (Super-Heavy Flyer w/ Hover mode) (Apoc, pg. 94)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Skyfir" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC8" name="{B}8 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTInfC" name="{B}Infantry{/B} (Character)" abbrev="" description="Infantry (Character) (see WH40k, pgs. 44, 63)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC35" name="{B}35 model{/B} capacity" abbrev="" category="unittype" footnote="yes" priority="900" cost="0" show="design">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTVeh" name="{B}Vehicle{/B}" abbrev="" category="unittype" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gnSpcUnitT" index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnImmobile" name="Immobile" abbrev="" category="skills" priority="300" nature="include" cost="0" textcost=" "></option>
  <option id="gn6_UTSuTO" name="{B}Vehicle{/B} (Super-Heavy Tank, Open-topped)" abbrev="" description="Vehicle (Super-Heavy Tank, Open-topped) (see Apocalypse, pg. 92)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_SMB_Ch" name="" abbrev="" category="wargear" footnote="yes" priority="0" cost="0" costtype="single" item="gn6_SMB_Ch">
    <evaluate>~ Tagging for Space Marine Bike
var retval as number
retval = entity.assign[gnAcc.gn6_Bike]</evaluate>
    </option>
  <option id="gn6_Strafe" name="Strafing Run" abbrev="StrafingRun" description="Strafing Run (see WH40k, pg. 42)." category="skills" footnote="yes" priority="15" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TTBDDL" name="{B}Battlefield Debris{/B} (Defence Lines)" abbrev="" description="Battlefield Debris (Defence Lines) (See WH40K, pg. 104-105)" category="terrain" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TTUniq" name="{B}Unique{/B}" abbrev="" description="Unique (See WH40K, pg. 115)" category="terrain" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <comment>Meant for Skyshield Landing Pad</comment>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TTMB14" name="{B}Medium Building{/B} (Armour Value 14)" abbrev="" description="Medium Building (Armour Value 14) (See WH40K, pg. 97)" category="terrain" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_SpcTT" name=" " abbrev="" category="terrain" priority="999" nature="auto" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_ComRel" name="Comms Relay" abbrev="CR" description="(See WH40K, pg. 104)." category="wargear" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_GEILas" name="Gun Emplacement with Icarus Lascannon" abbrev="GEwILc" category="wargear" priority="0" cost="0" show="design">
    <link option="6EFort_GE" nature="auto" index="0"></link>
    </option>
  <option id="gn6_WarOpt" name="{macro color1}-- Options --{text 010101}" abbrev="" category="wargear" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_WpnOpt" name="{macro color1}-- Options --{text 010101}" abbrev="" category="weapons" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_GEQGun" name="Gun Emplacement with Quad-Gun" abbrev="GEwQg" category="wargear" footnote="yes" priority="0" cost="0" show="design">
    <link option="6EFort_GE" nature="auto" index="0"></link>
    </option>
  <option id="gn6_TTAPx" name="{B}Access Points:{/B} As per model" abbrev="" category="terrain" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TTFPx" name="{B}Fire Points:{/B} As per model" abbrev="" category="terrain" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFMC" name="{B}Flying Monstrous Creature{/B}" abbrev="" description="Flying Monstrous Creature (see WH40k, pg. 49)." category="unittype" footnote="yes" priority="0" cost="0">
    <link option="gn6_Fear" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_MTC" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="3"></link>
    <link option="gn6_Smash" priority="305" nature="include" textcost=" " index="4"></link>
    <link option="gn6_VecStr" priority="305" nature="include" textcost=" " index="5"></link>
    <link option="gnSpcUnitT" index="6"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_AslVeh" name="Assault Vehicle" abbrev="AslVeh" description="Assault Vehicle (see WH40k, pg. 33)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_AdaW" name="Adamantium Will" abbrev="Will" description="Adamantium Will (see WH40k, pg. 33)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_ArmBan" name="Armourbane" abbrev="Armourbane" description="Armourbane (see WH40k, pg. 33)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Blind" name="Blind" abbrev="Blind" description="Blind (see WH40k, pg. 34)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_BroPsy" name="Brotherhood of Psykers/ Sorcerers" abbrev="Brotherhood" description="Brotherhood of Psykers/ Sorcerers (see WH40k, pg. 34)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_Bulky" name="Bulky" abbrev="Bulky" description="Bulky (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_Concus" name="Concussive" abbrev="Concussive" description="Concussive (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_ExtBul" name="Extremely Bulky" abbrev="ExtBulky" description="Extremely Bulky (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_VerBul" name="Very Bulky" abbrev="VeryBulky" description="Very Bulky (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnAS]</evaluate>
    </option>
  <option id="gn6_Crusad" name="Crusader" abbrev="Crusader" description="Crusader (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnCA]</evaluate>
    </option>
  <option id="gn6_Daemon" name="Daemon" abbrev="Daemon" description="Daemon (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" nature="include" cost="0" textcost=" ">
    <link option="cdS_Inv" priority="133" nature="include" textcost=" " index="0">
      <live><![CDATA[race.cd & !cdATags.2013]]></live>
      </link>
    <link option="gn6_Fear" priority="133" nature="include" cost="0." textcost=" " index="1">
      <live><![CDATA[!race.cd & !cdATags.2013]]></live>
      </link>
    <link option="gn6_Fear" name="S: Fear" priority="133" nature="include" cost="0." textcost=" " index="3">
      <live>race.cd | cdATags.2013</live>
      </link>
    <link option="gn6_Fearle" name="S: Fearless" priority="133" nature="include" cost="0." textcost=" " index="4">
      <live><![CDATA[race.cd & !cdATags.2013]]></live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Fear" name="Fear" abbrev="Fear" description="Fear (see WH40k, pg. 35)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_FleBan" name="Fleshbane" abbrev="Fleshbane" description="Fleshbane (see WH40k, pg. 33)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_ATSKNF" name="And They Shall Know No Fear" abbrev="ATSKNF" description="And They Shall Know No Fear (see WH40k, pg. 33)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]
      
~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnATSKNF]</evaluate>
    </option>
  <option id="gn6_Force" name="Force" abbrev="Force" description="Force (see WH40k, pg. 37)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_SMB" name="Space Marine Bike" abbrev="Bike" description="See Bike as described in the WH40K rulebook. Fitted with TL Bolters." category="wargear" footnote="yes" priority="0" cost="0" costtype="single" signature="combos">
    <linkref id="gn6_BikeWp"/>
    <evaluate>~ Tagging for Space Marine Bike
var retval as number
retval = entity.assign[gnAcc.gn6_Bike]</evaluate>
    </option>
  <option id="gn6_GetHot" name="Gets Hot" abbrev="GetHot" description="Gets Hot (see WH40k, pg. 37)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_HamWra" name="Hammer of Wrath" abbrev="Wrath" description="Hammer of Wrath (see WH40k, pg. 37)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Hatred" name="Hatred" abbrev="Hatred" description="Hatred (see WH40k, pg. 37)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Haywir" name="Haywire" abbrev="Haywire" description="Haywire (see WH40k, pg. 37)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_IgnCov" name="Ignores Cover" abbrev="IgnoreCover" description="Ignores Cover (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_InsDea" name="Instant Death" abbrev="InstantDeath" description="Instant Death (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Interc" name="Interceptor" abbrev="Interceptor" description="Interceptor (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Jink" name="Jink" abbrev="Jink" description="Jink (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Lance" name="Lance" abbrev="Lance" description="Lance (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_NotDie" name="It Will Not Die" abbrev="ItWillNotDie" description="It Will Not Die (see WH40k, pg. 38)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_MasCra" name="Master-crafted" abbrev="Master-crafted" description="Master-crafted (see WH40k, pg. 39)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Melta" name="Melta" abbrev="Melta" description="Melta (see WH40k, pg. 39)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_MisLoc" name="Missile Lock" abbrev="MissileLock" description="Missile Lock (see WH40k, pg. 39)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_MonHun" name="Monster Hunter" abbrev="MonsterHunter" description="Monster Hunter (see WH40k, pg. 39)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_NightF" name="Night Fighting" abbrev="NightFighting" description="Night Fighting (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Outfla" name="Outflank" abbrev="Outflank" description="Outflank (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Pinnin" name="Pinning" abbrev="Pinning" description="Pinning (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Poison" name="Poisoned" abbrev="Poisoned" description="Poisoned (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_PsyPil" name="Psychic Pilot" abbrev="PsychicPilot" description="Psychic Pilot (see WH40k, pg. 40)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Rampag" name="Rampage" abbrev="Rampage" description="Rampage (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Reserv" name="Reserves" abbrev="Reserves" description="Reserves (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Shred" name="Shred" abbrev="Shred" description="Shred (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Shroud" name="Shrouded" abbrev="Shrouded" description="Shrouded (see WH40k, pg. 41)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Skyfir" name="Skyfire" abbrev="Skyfire" description="Skyfire (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Smash" name="Smash" abbrev="Smash" description="Smash (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Sniper" name="Sniper" abbrev="Sniper" description="Sniper (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_SouBla" name="Soul Blaze" abbrev="SoulBlaze" description="Soul Blaze (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_SpecWp" name="Specialist Weapon" abbrev="SpecialistWeapon" description="Specialist Weapon (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_SplFir" name="Split Fire" abbrev="SplitFire" description="Split Fire (see WH40k, pg. 42)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Torren" name="Torrent" abbrev="Torrent" description="Torrent (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    <evaluate>~ assign skill counter
var retval as number
retval = unit.assign[statAdj.gnSkill]

~ tag children for mirroring
retval = unit.children.assign[gnSkills.gnSt]</evaluate>
    </option>
  <option id="gn6_TwnLnk" name="Twin-linked" abbrev="Twin-linked" description="Twin-linked (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TwoHnd" name="Two-Handed" abbrev="wo-Handed" description="Two-Handed (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Unwld" name="Unwieldy" abbrev="Unwieldy" description="Unwieldy (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_VecDan" name="Vector Dancer" abbrev="VectorDancer" description="Vector Dancer (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_VecStr" name="Vector Strike" abbrev="VectorStrike" description="Vector Strike (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Zealot" name="Zealot" abbrev="Zealot" description="Zealot (see WH40k, pg. 43)." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_PsyHoo" name="Psychic Hood" abbrev="PsychicHood" description="Psychic Hood (see WH40k, pg. 68)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="gn6_ChSwd" name="Chainsword" abbrev="Chainsword" description="S User; AP -; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_ChSwdU" name="Chainsword" abbrev="Chainsword" description="S User; AP -; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_EviscU" name="Eviscerator" abbrev="Eviscerator" description="S x2; AP 2; Melee, Armourbane, Two-handed, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~double strength
call gnMulStr2

~reduce intitiative
call gnInit1</evaluate>
    </option>
  <option id="gn6_HCSwd" name="Heavy Chainsword" abbrev="HeavyChainsword" description="S +2; AP 5; Melee, Two-Handed." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~double strength
call gnAddStr2</evaluate>
    </option>
  <option id="gn6_HCSwdU" name="Heavy Chainsword" abbrev="HeavyChainsword" description="S +2; AP 5; Melee, Two-Handed." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_UTIJPC" name="{B}Infantry{/B} (Jetpack, Character)" abbrev="" description="Infantry (see WH40k, pg. 44), Jet Pack Units(see WH40k, pg. 47), Independent Character (see WH40k, pg. 39)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTIJP" name="{B}Infantry{/B} (Jetpack)" abbrev="" description="Infantry (see WH40k, pg. 44), Jet Pack Units(see WH40k, pg. 47)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFSTT" name="{B}Vehicle{/B} (Skimmer, Tank, Transport)" abbrev="" description="Vehicle (Skimmer, Tank, Transport) (WH40k, pgs. 78-80, 83, 85-86)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTTT" name="{B}Vehicle{/B} (Tank, Transport)" abbrev="" description="Vehicle (Tank, Transport) (see WH40k, pg. 78-80, 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC25" name="{B}25 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_ForcAx" name="Force Axe" abbrev="ForceAxe" description="S +1; AP 2; Melee, Force, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ Add +1 Strength
call gnAddStr1

~ tag as force weapon
~ call gnAddForce

~ Unwieldy routine: reduce intitiative
if (root.tagis[UnitTags.walker] = 1) then
   done
else
   call gnInit1
endif</evaluate>
    </option>
  <option id="gn6_ForcSw" name="Force Sword" abbrev="ForceSword" description="S User; AP 3; Melee, Force." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ tag as force weapon
call gnAddForce</evaluate>
    </option>
  <option id="gn6_ForcSt" name="Force Stave" abbrev="ForceStave" description="S +2; AP 4; Melee, Concussive, Force." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ Add +1 Strength
call gnAddStr2

~ tag as force weapon
call gnAddForce</evaluate>
    </option>
  <option id="gn6_PowAx" name="Power Axe" abbrev="PowerAxe" description="S +1; AP 2; Melee, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ Add +1 Strength
call gnAddStr1

~ Unwieldy: reduce intitiative
call gnInit1</evaluate>
    </option>
  <option id="gn6_PowLa" name="Power Lance" abbrev="PowerLance" description="S +1/ User; AP 3/ 4; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_PowMa" name="Power Maul" abbrev="PowerMaul" description="S +2; AP 4; Melee, Concussive." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ Add +2 Strength
call gnAddStr2</evaluate>
    </option>
  <option id="gn6_PowSw" name="Power Sword" abbrev="PowerSword" description="S User; AP 3; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_AslGre" name="Assault Grenades" abbrev="AssaultGrenades" description="Range 8&quot;; S 3; AP -; Assault 1, Blast." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_DefGre" name="Defensive Grenades" abbrev="DefensiveGrenades" description="See WH40K, pg. 62." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_HayGre" name="Haywire Grenades" abbrev="HaywireGrenades" description="Range 8&quot;; S 2; AP -; Assault 1, Haywire." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_PlaGre" name="Plasma Grenades" abbrev="PlasmaGrenades" description="Range 8&quot;; S 4; AP 4; Assault 1, Blast." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_StubG" name="Stub Gun" abbrev="StubGun" description="Range 12&quot;; S 3; AP -; Pistol." category="weapons" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_VMB" name="Vulcan mega-bolter" abbrev="VulcanMegaBolter" description="Range 60&quot;; S 6; AP 3; Heavy 15." category="weapons" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_HLasP" name="Hot-shot Laspistol" abbrev="HotLasP" description="Range: 6&quot;; S 3; AP 3; Pistol." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_HLasPU" name="Hot-shot Laspistol" abbrev="HotLasP" description="Range: 6&quot;; S 3; AP 3; Pistol." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_HLasG" name="Hot-shot Lasgun" abbrev="HotLG" description="Range: 24&quot;; S 3; AP 3; Rapid Fire." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for remainder scripts</comment>
    </option>
  <option id="gn6_ILasC" name="Icarus Lascannon" abbrev="ILc" description="Range 96&quot;; S 9; AP 2; Heavy 1, Interceptor, Skyfire." category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Tr_CA" name="Coordinated Assault" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_CC" name="Conqueror of Cities" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_DC" name="Divide to Conquer" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_DTW" name="The Dust of a Thousand Worlds" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_IO" name="Immovable Object" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_InP" name="Intimidating Presence" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_IsP" name="Inspiring Presence" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_LF" name="Legendary Fighter" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_MA" name="Master of Ambush" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_MD" name="Master of Defence" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_MM" name="Master of Manoeuver" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_MO" name="Master of Offence" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_MV" name="Master of the Vanguard" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_NA" name="Night Attacker" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_PD" name="Princeps of Deceit" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_SG" name="Strategic Genius" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_TP" name="Target Priority" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gn6_Tr_Ten" name="Tenacity" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="407" cost="0" textcost=" "></option>
  <option id="gnBoltP" name="Bolt Pistol" abbrev="BoltPistol" description="12&quot; Range; S 4; AP 5; Pistol." category="weapons" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_Tr_DT" name="Devious Tactician" abbrev="" description="See WH40K rulebook, pg. 111." category="gn6_traits" footnote="yes" priority="405" cost="0" textcost=" "></option>
  <option id="gn6_PlasD" name="Plasma Destroyer" abbrev="PlasDest" description="Range 36&quot;; S 7; AP 2; Heavy 3, Blast." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_LasDes" name="Laser Destroyer" abbrev="LasDes" description="Range 36&quot;; S 9; AP 2; Ordnance 1, Twin-linked." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_UTTOTT" name="{B}Vehicle{/B} (Tank, Open-topped, Transport)" abbrev="" description="Vehicle (Tank, Open-topped, Transport) (see WH40k, pg. 78-80, 82, 85-86)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFHTT" name="{B}Vehicle{/B} (Flyer w/Hover mode, Tank, Transport)" abbrev="" description="Vehicle (Flyer w/Hover mode, Tank, Transport) (see WH40k, pgs. 80-81)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Skyfir" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTImOT" name="{B}Vehicle{/B} (Immobile, Open-topped)" abbrev="" description="Vehicle (Immobile, Open-topped) (see WH40k, pg. 83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTFHT" name="{B}Vehicle{/B} (Flyer w/Hover mode, Transport)" abbrev="" description="Vehicle (Flyer w/Hover mode, Transport) (see WH40k, pgs. 80-81)" category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Skyfir" priority="305" nature="include" textcost=" " index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnSpcTerrT" name=" " abbrev="" category="terrain" priority="0" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn5_LPC" name="Landing Pad Configuration" abbrev="LPC" description="See BRB, pg. 115." category="skills" footnote="yes" priority="300" nature="auto" cost="0" textcost=" "></option>
  <option id="gn6_MSilo" name="Missile Silo" abbrev="" category="wargear" priority="0" cost="0" show="design">
    <link option="6EFort_GEM" nature="auto" index="0"></link>
    </option>
  <option id="gn6_MSiloK" name="Missile Silo w/Krakstorm" abbrev="" category="wargear" priority="0" cost="0" show="design">
    <link option="6EFort_GEM" nature="auto" index="0"></link>
    </option>
  <option id="gn6_TTSB14" name="{B}Small Building{/B} (Armour Value 14)" abbrev="" description="Small Building (Armour Value 14) (See WH40K, pg. 97)" category="terrain" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Croziu" name="Crozius Arcanum" abbrev="CroziusArcanum" description="S +2; AP 4; Melee, Concussive." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ Add +2 Strength
call gnAddStr2</evaluate>
    </option>
  <option id="gn6_PP_2" name="{macro color1}-- Must Choose 2 Psychic Powers --{text 010101}" abbrev="" category="psychic" priority="705" nature="auto" cost="0" infoonly="yes" show="design" textcost=" "></option>
  <option id="gn6_PP_3" name="{macro color1}-- Must Choose 3 Psychic Powers --{text 010101}" abbrev="" category="psychic" priority="705" nature="auto" cost="0" infoonly="yes" show="design" textcost=" "></option>
  <option id="gn6_PP_ALL" name="{macro color1}-- Knows all Psychic Powers --{text 010101}" abbrev="" category="psychic" priority="705" nature="auto" cost="0" infoonly="yes" show="design" textcost=" "></option>
  <option id="gn6_Warlor" name="{B}Warlord{/B}" abbrev="Warlord" description="See WH40k, pg. 111." category="gn6_traits" footnote="yes" priority="400" cost="0" textcost=" ">
    <evaluate>~ Assigning tag to entity for visibility of Warlord Traits
var retval as number
retval = entity.assign[gnAcc.is_Warlord]</evaluate>
    </option>
  <option id="gn6_Traits" name="{macro color1}-- Warlord Traits (optional) --{text 010101}" abbrev="" category="gn6_traits" priority="404" nature="include" cost="0" infoonly="yes" show="design"></option>
  <option id="gn6_UTIm" name="{B}Vehicle{/B} (Immobile)" abbrev="" description="Vehicle (Immobile) (see WH40k, pg. 83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_PP_1" name="{macro color1}-- Must Choose 1 Psychic Power --{text 010101}" abbrev="" category="psychic" priority="705" nature="auto" cost="0" infoonly="yes" show="design" textcost=" "></option>
  <option id="gn6_PP_x" name="{macro color1}-- Must Choose ? Psychic Power --{text 010101}" abbrev="" category="psychic" priority="705" nature="auto" cost="0" infoonly="yes" show="design" textcost=" ">
    <evaluate><![CDATA[var limit as number
limit = unit.stat[gn6_PsyPow]
name = "{macro color1}-- Must Choose " & limit & " Psychic Power(s) --{text 010101}"]]></evaluate>
    </option>
  <option id="gn6_HamWrC" name="Hammer of Wrath" abbrev="Wrath" description="Hammer of Wrath (see WH40k, pg. 37 &amp; 82)." category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTCha" name="{B}Chariot{/B}" abbrev="" description="Chariot (see WH40k, pg. 46)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fearle" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_HamWrC" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gnSpcUnitT" index="2"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="6EFort_GE" name="" abbrev="" category="terrain" priority="0" cost="0" unit="6EFort_GE" show="never"></option>
  <option id="gn6_UTBikC" name="{B}Bikes{/B} (Character)" abbrev="" description="Bikes (Character) (see WH40k, pg. 45)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gnSpcUnitT" index="3"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTCavC" name="{B}Cavalry{/B} (Character)" abbrev="" description="Cavalry (Character) (see WH40k, pg. 48)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fleet" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gnSpcUnitT" index="2"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTMCC" name="{B}Monstrous Creature{/B} (Character)" abbrev="MC" description="Monstrous Creature (Character) (see WH40k, pg. 48)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Fear" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_MTC" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="3"></link>
    <link option="gn6_Smash" priority="305" nature="include" textcost=" " index="4"></link>
    <link option="gnSpcUnitT" index="5"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TC7" name="{B}7 model{/B} capacity" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_CrozUn" name="Crozius Arcanum" abbrev="CroziusArcanum" description="S +2; AP 4; Melee, Concussive." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_UTJeI" name="{B}Jetbike{/B}" abbrev="" description="See WH40k, pg. 45." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gnSpcUnitT" index="3"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTJeld" name="{B}Eldar Jetbike{/B}" abbrev="" description="See WH40k, pg. 45." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <link option="gn6_HamWra" priority="305" nature="include" textcost=" " index="1"></link>
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="2"></link>
    <link option="gn6_Relent" priority="305" nature="include" textcost=" " index="0"></link>
    <link option="gnSpcUnitT" index="3"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTChar" name="{B}Character{/B}" abbrev="" description="Character (see WH40k, pg. 63)." category="unittype" footnote="yes" priority="0" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnShTraits" name="Choose Single Trait" abbrev="" category="gn6_traits" priority="0" cost="0" show="design">
    <link option="csm6_Tr_BC" priority="405" nature="auto" textcost=" " index="24">
      <exclref id="range_01t"/>
      <live>unitid.csm6_Abbad</live>
      </link>
    <link option="csm6_Tr_HI" priority="405" nature="auto" textcost=" " index="25">
      <exclref id="range_01t"/>
      <live>unitid.csm6_Kharn</live>
      </link>
    <link option="csm6_Tr_LT" priority="405" nature="auto" textcost=" " index="27">
      <exclref id="range_01t"/>
      <live>unitid.csm6_Typhu</live>
      </link>
    <link option="csm6_Tr_MD" priority="405" nature="auto" textcost=" " index="26">
      <exclref id="range_01t"/>
      <live>unitid.csm6_Ahrim</live>
      </link>
    <link option="csm6_Tr_MD" priority="405" nature="auto" textcost=" " index="23">
      <exclref id="range_01t"/>
      <live>unitid.csm6_Huron</live>
      </link>
    <link option="da6_Tr_RM" priority="405" nature="auto" textcost=" " index="42">
      <exclref id="range_01t"/>
      <live>(unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="da6_Tr_TH" priority="405" nature="auto" textcost=" " index="34">
      <exclref id="range_01t"/>
      <live>(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial)</live>
      </link>
    <link option="gnSpace" priority="408" category="gn6_traits" index="35">
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="csm6_Tr_BC" index="28">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)</live>
      </link>
    <link option="csm6_Tr_EC" index="29">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)</live>
      </link>
    <link option="csm6_Tr_FS" index="30">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)</live>
      </link>
    <link option="csm6_Tr_HI" index="31">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)</live>
      </link>
    <link option="csm6_Tr_LT" index="32">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)</live>
      </link>
    <link option="csm6_Tr_MD" index="33">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu)</live>
      </link>
    <link option="da6_Tr_BP" index="36">
      <exclref id="range_01t"/>
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial| unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="da6_Tr_CL" index="37">
      <exclref id="range_01t"/>
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="da6_Tr_FL" index="38">
      <exclref id="range_01t"/>
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="da6_Tr_HC" index="39">
      <exclref id="range_01t"/>
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="da6_Tr_RM" index="40">
      <exclref id="range_01t"/>
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="da6_Tr_TH" index="41">
      <exclref id="range_01t"/>
      <live>!(unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_CA" index="5">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_CC" index="12">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_DC" index="16">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_DT" nature="auto" textcost=" " index="22">
      <exclref id="range_01t"/>
      <live>unitid.chR_Arkos</live>
      </link>
    <link option="gn6_Tr_DTW" index="2">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_IO" index="11">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_IO" nature="auto" textcost=" " index="18">
      <exclref id="range_01t"/>
      <live>unitid.ia6_HecRex</live>
      </link>
    <link option="gn6_Tr_InP" index="1">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_InP" nature="auto" textcost=" " index="20">
      <exclref id="range_01t"/>
      <live>unitid.chNecro</live>
      </link>
    <link option="gn6_Tr_IsP" index="0">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_LF" nature="auto" textcost=" " index="21">
      <exclref id="range_01t"/>
      <live>unitid.chZhufor</live>
      </link>
    <link option="gn6_Tr_LF" index="9">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_MA" index="14">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_MD" index="6">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_MM" index="8">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_MO" index="7">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_MV" index="3">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_NA" index="13">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_PD" index="17">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_SG" index="15">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_TP" index="4">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <link option="gn6_Tr_Ten" nature="auto" textcost=" " index="19">
      <exclref id="range_01t"/>
      <live>unitid.imInqLok</live>
      </link>
    <link option="gn6_Tr_Ten" index="10">
      <exclref id="range_01t"/>
      <live>!(unitid.ia6_HecRex | unitid.imInqLok | unitid.chNecro | unitid.chZhufor | unitid.chR_Arkos | unitid.csm6_Huron | unitid.csm6_Abbad | unitid.csm6_Kharn | unitid.csm6_Ahrim | unitid.csm6_Typhu | unitid.da6_Ezek | unitid.da6_Asmo | unitid.da6_Belial | unitid.da6_Samm | unitid.da6_SammS)</live>
      </link>
    <evaluate>var retval as number
retval = unit.assign[gnAcc.showTraits]</evaluate>
    </option>
  <option id="gnShCmnd" name="Show Command Traits" abbrev="" description="Traits will be listed in print out." category="gn6_traits" priority="0" cost="0" show="design">
    <link option="gn6_Tr_CA" name="6 - Coordinated Assault" nature="include" textcost=" " hide="yes" index="5"></link>
    <link option="gn6_Tr_DTW" name="3 - The Dust of a Thousand Worlds" nature="include" textcost=" " hide="yes" index="2"></link>
    <link option="gn6_Tr_InP" name="2 - Intimidating Presence" nature="include" textcost=" " hide="yes" index="1"></link>
    <link option="gn6_Tr_IsP" name="1 - Inspiring Presence" nature="include" textcost=" " hide="yes" index="0"></link>
    <link option="gn6_Tr_MV" name="4 - Master of the Vanguard" nature="include" textcost=" " hide="yes" index="3"></link>
    <link option="gn6_Tr_TP" name="5 - Target Priority" nature="include" textcost=" " hide="yes" index="4"></link>
    <evaluate>var retval as number
retval = unit.assign[gnAcc.showCmnd]</evaluate>
    </option>
  <option id="gnCCW" name="Close Combat Weapon" abbrev="CCW" description="S User; AP - ; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gnShPers" name="Show Personal Traits" abbrev="" description="Traits will be listed in print out." category="gn6_traits" priority="0" cost="0" show="design">
    <link option="gn6_Tr_IO" name="6 - Immovable Object" priority="409" nature="include" textcost=" " hide="yes" index="5"></link>
    <link option="gn6_Tr_LF" name="4 - Legendary Fighter" priority="409" nature="include" textcost=" " hide="yes" index="3"></link>
    <link option="gn6_Tr_MD" name="1 - Master of Defence" priority="409" nature="include" textcost=" " hide="yes" index="0"></link>
    <link option="gn6_Tr_MM" name="3 - Master of Manouvre" priority="409" nature="include" textcost=" " hide="yes" index="2"></link>
    <link option="gn6_Tr_MO" name="2 - Master of Offence" priority="409" nature="include" textcost=" " hide="yes" index="1"></link>
    <link option="gn6_Tr_Ten" name="5 - Tenacity" priority="409" nature="include" textcost=" " hide="yes" index="4"></link>
    <evaluate>var retval as number
retval = unit.assign[gnAcc.showPers]</evaluate>
    </option>
  <option id="gnShStrat" name="Show Strategic Traits" abbrev="" description="Traits will be listed in print out." category="gn6_traits" priority="0" cost="0" show="design">
    <link option="gn6_Tr_CC" name="1 - Conqueror of Cities" priority="409" nature="include" textcost=" " hide="yes" index="0"></link>
    <link option="gn6_Tr_DC" name="5 - Divide to Conquer" priority="409" nature="include" textcost=" " hide="yes" index="4"></link>
    <link option="gn6_Tr_MA" name="3 - Master of Ambush" priority="409" nature="include" textcost=" " hide="yes" index="2"></link>
    <link option="gn6_Tr_NA" name="2 - Night Attacker" priority="409" nature="include" textcost=" " hide="yes" index="1"></link>
    <link option="gn6_Tr_PD" name="6 - Princeps of Deceit" priority="409" nature="include" textcost=" " hide="yes" index="5"></link>
    <link option="gn6_Tr_SG" name="4 - Strategic Genius" priority="409" nature="include" textcost=" " hide="yes" index="3"></link>
    <evaluate>var retval as number
retval = unit.assign[gnAcc.showStrat]</evaluate>
    </option>
  <option id="gn6_QuadG" name="Quad-gun" abbrev="QG" description="Range 48&quot;; S 7; AP 4; Heavy 4, Interceptor, Twin-linked, Skyfire." category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="6EFort_GEF" name="" abbrev="" category="terrain" priority="10" cost="0" unit="6EFort_GEF" show="never">
    <sizelimit>if (tagis[unitid.6EFort_IB] = 1) then
  @minimum = 4
  @maximum = 4
endif

if (tagis[unitid.6EFort_FoR] = 1) then
  @maximum = 4
endif</sizelimit>
    </option>
  <option id="gn6_UTFOT" name="{B}Vehicle{/B} (Fast, Open-Topped, Tank)" abbrev="" description="Vehicle (Fast, Open-topped, Tank) (see WH40k, pgs. 82, 83, 85-86)." category="unittype" footnote="yes" priority="0" cost="0">
    <link option="gn6_Jink" priority="305" nature="include" textcost=" " index="0"></link>
    </option>
  <option id="gn6_GEHB" name="Emplace Heavy Bolter(s)" abbrev="" category="wargear" priority="0" cost="0" show="design">
    <link option="6EFort_GEF" nature="auto" index="0"></link>
    </option>
  <option id="6EFort_GEM" name="" abbrev="" category="terrain" priority="0" cost="0" unit="6EFort_GEM" show="never"></option>
  <option id="gn6_MSKrak" name="Missile Silo w/Krakstorm" abbrev="MSK" description="18-96&quot;R, (Fragstorm Missile: S4, AP5) or (Krakstorm Missile: S8, AP3), Ordnance 1, Barrage, Large Blast ." category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_MSFrag" name="Missile Silo" abbrev="MS" description="Fragstorm Missile: 18-96&quot;R, S4, AP5, Ordnance 1, Barrage, Large Blast." category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_AutoVT" name="Automatic Vehicle Type" abbrev="" description="See WH40K rulebook, pgs. 44-49." category="unittype" footnote="yes" priority="0" nature="include" cost="0" textcost=" ">
    <link option="gnSpcUnitT" nature="include" index="0"></link>
    <link option="gn6_Jink" nature="auto" cost="0." textcost=" " index="1">
      <live>UnitTags.skimmer | UnitTags.skimtank</live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    <evaluate><![CDATA[~ Routine to determine model's unit type and display automatically

~ initialize variables
~ type is actual unit info gained from tags
var type as number

~ desc is going to be description outputted as text
var desc1 as string
var desc2 as string
var desc3 as string
var desc4 as string
var desc5 as string

~ Transport
if (unit.tagis[UnitTags.transport] = 1) then
   desc1 = "Transport"
   if (unit.tagis[UnitTags.opentop] = 1) then
      desc2 = "Open-Topped"
      name = "{B}Vehicle{/B} (" & desc1 & ", " & desc2 & ")"
      done
   else
      name = "{B}Vehicle{/B} (" & desc1 & ")"
      done
   endif
endif

~ Walker
if (unit.tagis[UnitTags.walker] = 1) then
   desc1 = "Walker"
   if (unit.tagis[UnitTags.opentop] = 1) then
      desc2 = "Open-Topped"
      name = "{B}Vehicle{/B} (" & desc1 & ", " & desc2 & ")"
      done
   elseif (unit.tagis[UnitTags.character] = 1) then
      desc2 = "Character"
      name = "{B}Vehicle{/B} (" & desc1 & ", " & desc2 & ")"
      done
   else
      name = "{B}Vehicle{/B} (" & desc1 & ")"
      done
   endif
endif

~ Tank
if (unit.tagis[UnitTags.tank] = 1) then
   desc1 = "Tank"
   if (unit.tagis[UnitTags.transport] = 1) then
      desc1 = "Tank, Transport"
   elseif (unit.tagis[UnitTags.opentop] = 1) then
      desc1 = "Tank, Open-Topped"
   elseif (unit.tagis[UnitTags.fast] = 1) then
      desc1 = "Tank, Fast"
   endif
   name = "{B}Vehicle{/B} (" & desc1 & ")"
endif

~ Flyer
if (unit.tagis[UnitTags.flyer] = 1) then
   desc1 = "Flyer"
   name = "{B}Vehicle{/B} (" & desc1 & ")"
   done
endif

~ Flyer w/ Hover mode
if (unit.tagis[UnitTags.flyerhov] = 1) then
   desc1 = "Flyer w/ Hover mode"
   if (unit.tagis[UnitTags.transport] = 1) then
      desc1 = "Flyer w/ Hover mode, Transport"
   endif
   name = "{B}Vehicle{/B} (" & desc1 & ")"
   done
endif

~ Skimmer
if (unit.tagis[UnitTags.skimmer] = 1) then
   desc1 = "Skimmer"
   if (unit.tagis[UnitTags.opentop] = 1) then
      desc1 = "Skimmer, Open-Topped"
   elseif (unit.tagis[UnitTags.fast] = 1) then
      desc1 = "Skimmer, Fast"
   elseif (unit.tagis[UnitTags.fastopen] = 1) then
      if (unit.tagis[UnitTags.transport] = 1) then
         desc1 = "Skimmer, Fast, Open-topped, Transport"
      else  
         desc1 = "Skimmer, Fast, Open-topped"
      endif
   elseif (unit.tagis[UnitTags.transport] = 1) then
      desc1 = "Skimmer, Transport"
   endif 
   name = "{B}Vehicle{/B} (" & desc1 & ")"
endif

if (unit.tagis[UnitTags.skimtank] = 1) then
   desc1 = "Skimmer, Tank"
   if (unit.tagis[UnitTags.transport] = 1) then
      desc1 = "Skimmer, Tank, Transport"
   else
   endif
   name = "{B}Vehicle{/B} (" & desc1 & ")"
endif

~ Superheavy Tank
if (unit.tagis[UnitTags.suphvytank] = 1) then
   desc1 = "Superheavy Tank"
   if (unit.tagis[UnitTags.opentop] = 1) then
      desc2 = "Open-Topped"
      name = "{B}Vehicle{/B} (" & desc1 & ", " & desc2 & ")"
      done
   if (unit.tagis[UnitTags.skimmer] = 1) then
      desc3 = "Skimmer"
      name = "{B}Vehicle{/B} (" & desc1 & ", " & desc2 & ", " & desc3 & ")"
   else
   endif 
      name = "{B}Vehicle{/B} (" & desc1 & ")"
   endif
endif

~ Superheavy Walker
if (unit.tagis[UnitTags.suphvywalk] = 1) then
   desc1 = "Superheavy Walker"
   name = "{B}Vehicle{/B} (" & desc1 & ")"
   done
endif

~ Superheavy Flyer
if (unit.tagis[UnitTags.suphvyfly] = 1) then
   desc1 = "Superheavy Flyer"
   name = "{B}Vehicle{/B} (" & desc1 & ")"
   done
endif

]]></evaluate>
    </option>
  <option id="gnDemo" name="Demolisher Cannon" abbrev="DemoC" description="24&quot; Range; S10; AP2; Ordnance 1; Large Blast" category="weapons" footnote="yes" priority="0" cost="0"></option>
  <option id="gnFirearm" name="Firearms" abbrev="FireA" description="24&quot; Range; S4; AP6; Rapid Fire; Gets Hot!" category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_PowAxU" name="Power Axe" abbrev="PowerAxe" description="S +1; AP 2; Melee, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_PowLaU" name="Power Lance" abbrev="PowerLance" description="S +1/ User; AP 3/ 4; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_PowMaU" name="Power Maul" abbrev="PowerMaul" description="S +2; AP 4; Melee, Concussive." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_PowSwU" name="Power Sword" abbrev="PowerSword" description="S User; AP 3; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_FlakkM" name="Flakk Missiles (for Missile Launcher)" abbrev="FlakkMissiles" description="48&quot; Range; S 7; AP 4; Heavy1, Skyfire." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <comment>used for remainder scripts</comment>
    </option>
  <option id="gn6_ChAxe" name="Chainaxe" abbrev="Chainaxe" description="S User; AP 4; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW</evaluate>
    </option>
  <option id="gn6_ChAxeU" name="Chainaxe" abbrev="Chainsword" description="S User; AP 4; Melee." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnShCSM" name="Show Chaos Space Marine Traits" abbrev="" description="Traits will be listed in print out." category="gn6_traits" priority="0" cost="0" show="design">
    <link option="csm6_Tr_Bp" name="1 - Black Crusader" priority="409" nature="include" textcost=" " hide="yes" index="0"></link>
    <link option="csm6_Tr_EC" name="6 - Exalted Champion" priority="409" nature="include" textcost=" " hide="yes" index="3"></link>
    <link option="csm6_Tr_FS" name="2 - Flames of Spite" priority="409" nature="include" textcost=" " hide="yes" index="4"></link>
    <link option="csm6_Tr_Hp" name="4 - Hatred Incarnate" priority="409" nature="include" textcost=" " hide="yes" index="5"></link>
    <link option="csm6_Tr_Lp" name="5 - Lord of Terror" priority="409" nature="include" textcost=" " hide="yes" index="1"></link>
    <link option="csm6_Tr_MD" name="3 - Master of Deception" priority="409" nature="include" textcost=" " hide="yes" index="2"></link>
    <live>roster.csm6E</live>
    <evaluate>var retval as number
retval = unit.assign[gnAcc.showCSM]</evaluate>
    </option>
  <option id="gnPowFUn2" name="Power Fist" abbrev="PowerFist" description="S x2; AP 2; Melee, Specialist Weapon, Unwieldy." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_PowWch" name="Power Weapon" abbrev="PW" description="Allows choice of Power Weapon type." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" show="design">
    <linkref id="gnPowrWpn"/>
    </option>
  <option id="gn6_PwWchD" name="Power Weapon" abbrev="PW" description="Allows choice of Power Weapon type." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" design="For models with two swaps." show="design">
    <linkref id="gnPowrWpnD"/>
    </option>
  <option id="gnFlamer" name="Flamer" abbrev="Flamer" description="Template; S 4; AP 5; Assault 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gnForceW" name="Force Weapon" abbrev="FW" description="S User; AP 3; Melee, Force." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ add a CCW tag
call gnAddCCW

~ tag as force weapon
call gnAddForce</evaluate>
    </option>
  <option id="gnRule" name="Special Rule" abbrev="SR" category="skills" priority="305" nature="include" cost="0" design="When added to unit, name with the special rule. No point adding a whole table of footnotes which point to references attached to each unit anyway." textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_DigW" name="Digital Weapons" abbrev="DigitalWeapons" description="Digital Weapons" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_JumpP" name="Jump Pack" abbrev="JumpPack" description="Jump Pack" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0">
    <evaluate>~ Assigning Tag for having Jump Pack
var retval as number
retval = entity.assign[gnAcc.gn6_JumpP]</evaluate>
    </option>
  <option id="gn6_MinL" name="Mindlock" abbrev="Mindlock" description="Mindlock" category="skills" footnote="yes" priority="305" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_ComSqd" name="Combat Squads" abbrev="CombatSquads" description="Combat Squads" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_RitB" name="Rites of Battle" abbrev="RitesofBattle" description="Rites of Battle" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_TelH" name="Teleport Homer" abbrev="TeleportHomer" description="Teleport Homer" category="wargear" footnote="yes" priority="200" cost="0" textcost=" ">
    <comment>Wargear Description.</comment>
    </option>
  <option id="gn6_AdaM" name="Adamantine Mantle" abbrev="AdamantineMantle" description="Adamantine Mantle" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_CamC" name="Camo Cloaks" abbrev="CamoCloaks" description="Camo Cloaks" category="wargear" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Nart" name="Narthecium" abbrev="Narthecium" description="Narthecium" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_Auspex" name="Auspex" abbrev="Auspex" description="Auspex" category="wargear" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_FP1_2" name="{B}1{/B} Fire Points (2 models)" abbrev="" category="unittype" priority="900" nature="auto" cost="0" show="design" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_FragAL" name="Frag Assault Launchers" abbrev="FragAssaultLaunchers" description="Frag Assault Launchers" category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_Agile" name="Agile" abbrev="" description="Agile" category="skills" footnote="yes" priority="305" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnTermArmU" name="Terminator Armour" abbrev="TermArm" description="Confers a 2+ Armour save and a 5+ Invulnerable save." category="wargear" equipment="yes" footnote="yes" priority="200" cost="0" signature="combos">
    <link option="da6_DeaA" priority="305" nature="auto" textcost=" " index="2">
      <live><![CDATA[roster.da6E & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="da6_VenS" priority="305" nature="auto" textcost=" " index="1">
      <live><![CDATA[roster.da6E & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_Bulky" priority="305" nature="auto" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </option>
  <option id="gnSh_DA6" name="Show Dark Angels Traits" abbrev="" description="Traits will be listed in print out." category="gn6_traits" priority="0" cost="0" show="design">
    <link option="da6_Tr_BP" name="5 - Brilliant Planning" priority="409" nature="include" textcost=" " hide="yes" index="5"></link>
    <link option="da6_Tr_CL" name="3 - Courage of the Lion" priority="409" nature="include" textcost=" " hide="yes" index="4"></link>
    <link option="da6_Tr_Fp" name="4 - For the Lion" priority="409" nature="include" textcost=" " hide="yes" index="2"></link>
    <link option="da6_Tr_HC" name="6 - Hold At All Costs" priority="409" nature="include" textcost=" " hide="yes" index="1"></link>
    <link option="da6_Tr_RM" name="1 - Rapid Manoeuvre" priority="409" nature="include" textcost=" " hide="yes" index="0"></link>
    <link option="da6_Tr_TH" name="2 - The Hunt" priority="409" nature="include" textcost=" " hide="yes" index="3"></link>
    <live>roster.da6E</live>
    <evaluate>var retval as number
retval = unit.assign[gnAcc.showDA]</evaluate>
    </option>
  <option id="gn6_SkiFur" name="Skies of Fury" abbrev="Skies of Fury" description="Skies of Fury." category="skills" footnote="yes" priority="0" cost="0">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gnRef2" name="(page ref.)" abbrev="Ref" category="reference" priority="0" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    <visibility>!ruleset.ro_CompOut</visibility>
    </option>
  <option id="gn6_StoM" name="Stormstrike Missiles" abbrev="StormstrikeMissiles" description="72&quot; Range; S 8; AP 2; Heavy 1, Concussive, One use only (DFTS, pg. 66)." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" signature="combos"></option>
  <option id="gn6_FlyAce" name="Flyer Ace" abbrev="FlyerAce" description="See DFTS, pg. 40-43." category="gn6_FlyAce" footnote="yes" priority="600" cost="50" textcost=" ">
    <evaluate>~ Assigning tag to entity for visibility of Flyer Ace
var retval as number
retval = entity.assign[gnAcc.is_FlyAce]</evaluate>
    </option>
  <option id="gnGrenL" name="Grenade Launcher" abbrev="GrenL" description="Frag: 24&quot; Range; S3; AP6; Assault 1; Blast.\nKrak: 24&quot; Range; S6; AP4; Assault 1." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0"></option>
  <option id="gn6_FA_BA" name="Blood Angels" abbrev="" description="1-2 - Angel of Vengeance, 3-4 - Grace of Angels, 5-6 - Aua of Sanguinius (see DFTS, pg. 40)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.ba5E)]]></live>
    </option>
  <option id="gn6_FA_DE" name="Dark Eldar" abbrev="" description="1-2 - Dance of the Dawn, 3-4 - Dance of the Dark, 5-6 - Symbol of Khaine (see DFTS, pg. 40)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.de)]]></live>
    </option>
  <option id="gn6_FA_EL" name="Eldar" abbrev="" description="1-2 - Dance of the Dawn, 3-4 - Dance of the Dark, 5-6 - Symbol of Khaine (see DFTS, pg. 40)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.el)]]></live>
    </option>
  <option id="gn6_FA_SM" name="Space Marines" abbrev="" description="1-2 - Arcane Target System, 3-4 - Defensive Flying, 5-6 - Spirit of the Emperor (see DFTS, pg. 40)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.sm | roster.rs | roster.rg | roster.bt)]]></live>
    </option>
  <option id="gn6_FA_DA" name="Dark Angels" abbrev="" description="1-2 - Hunt the Heretic, 3-4 - Expert Redeployment, 5-6 - Teleport Beacon (see DFTS, pg. 41)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.da6E)]]></live>
    </option>
  <option id="gn6_FA_GK" name="Grey Knights" abbrev="" description="1-2 - Mental Challenge, 3-4 - Third Eye, 5-6 - Psychic Pilot (see DFTS, pg. 41)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.gk5E)]]></live>
    </option>
  <option id="gn6_FA_IG" name="Imperial Guard" abbrev="" description="1-2 - Covert Deployment, 3-4 - Extra Protection, 5-6 - Inspiring Presence (see DFTS, pg. 42)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.ig)]]></live>
    </option>
  <option id="gn6_FA_OR" name="Orks" abbrev="" description="1-2 - Armour Plates, 3-4 - Extra Shooty, 5-6 - Idol of Gork (see DFTS, pg. 42)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.ork)]]></live>
    </option>
  <option id="gn6_FA_SW" name="Space Wolves" abbrev="" description="1-2 - Saga of Majesty, 3-4 - Sagaof the Beastslayer, 5-6 - Saga of the Iron Wolf (see DFTS, pg. 40)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.sw5E)]]></live>
    </option>
  <option id="gn6_FA_BT" name="Black Templars" abbrev="" description="1-2 - Challenge the Heretic, 3-4 - Cleanse the Heretic, 5-6 - Inspire with Faith (see DFTS, pg. 43)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.bt)]]></live>
    </option>
  <option id="gn6_FA_CSM" name="Chaos Space Marines" abbrev="" description="1-2 - Death Incarnate, 3-4 - Fuelled by Murder, 5-6 - Icon of Slaughter (see DFTS, pg. 43)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.csm6E)]]></live>
    </option>
  <option id="gn6_FA_NE" name="Necrons" abbrev="" description="1-2 - Firing Subroutines, 3-4 - Duel Subroutines, 5-6 - Resurrection Vessel (see DFTS, pg. 43)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.ne5E)]]></live>
    </option>
  <option id="gn6_FA_TA" name="Tau Empire" abbrev="" description="1-2 - Targeting Array, 3-4 - Defensive Arrays, 5-6 - Marker Plane (see DFTS, pg. 42)." category="gn6_FlyAce" footnote="yes" priority="605" nature="include" cost="0" show="never">
    <live><![CDATA[gnAcc.is_FlyAce & (roster.ta)]]></live>
    </option>
  <option id="gn6_UTOC" name="{B}Vehicle{/B} (Chariot, Open-topped)" abbrev="" description="Vehicle (Chariot) (see WH40k, pg. 46) and (Open-topped) (see WH40k, pg. 82)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTOFC" name="{B}Vehicle{/B} (Chariot, Fast, Open-topped)" abbrev="" description="Vehicle (Chariot) (see WH40k, pg. 46), (Fast) (see WH40k, pg. 83) and (Open-topped) (see WH40k, pg. 82)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTOFCS" name="{B}Vehicle{/B} (Chariot, Fast, Open-topped, Skimmer)" abbrev="" description="Vehicle (Chariot) (see WH40k, pg. 46), (Fast) (see WH40k, pg. 83), (Open-topped) (see WH40k, pg. 82) and (Skimmer) (see WH40k, pg. 83)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="gn6_UTCJP" name="{B}Cavalry{/B} (Jetpack)" abbrev="" description="Cavalry (see WH40k, pg. 48), Jet Pack Units(see WH40k, pg. 47)." category="unittype" footnote="yes" priority="900" nature="auto" cost="0" textcost=" ">
    <link option="gnSpcUnitT" index="0"></link>
    <live>!ruleset.ro_CompOut</live>
    </option>
  <item id="gn5E_SerA" name="Servo Arm" description="Extra Close Combat attack made at Strength 8 and Initiative 1, ignoring Armour Saves." output="option">
    <tag group="UnitTags" tag="plus1att"/>
    </item>
  <item id="gn6_SMB_Ch" name="Space Marine Bike" description="See Bike as described in the WH40K rulebook. Fitted with TL Bolters.">
    <linkref id="gn6_BikeWp"/>
    <tag group="smTagG" tag="Mounted"/>
    </item>
  <item id="gn5E_SerH" name="Servo Harness" description="Two extra Close Combat attacks made at Strength 8 and Initiative 1, ignoring Armour Saves. Plasma cutter fired as a Twin-linked plasma pistol, but cannot be used in CC. Flamer" output="option">
    <tag group="UnitTags" tag="plus2att"/>
    </item>
  <unit id="6EFort_FoR" name="Fortress of Redemption" cost="220." idtag="yes" statset="container" maxsize="1" startsize="1">
    <link option="gn0to4" name="{macro color1}--May Add --{text 010101}" priority="1" category="wargear" index="12"></link>
    <link option="gn6_GEHB" priority="2" nature="cost" category="wargear" textcost="10 each" index="1"></link>
    <link option="gnSpcWar" priority="3" index="13"></link>
    <link option="gnOne" priority="4" category="wargear" index="11"></link>
    <link option="gn6_MSilo" priority="5" cost="0." textcost=" " select="yes" index="4">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_MSiloK" priority="5" cost="0." textcost="30" index="6">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_GEILas" nature="include" textcost=" " hide="yes" index="15"></link>
    <link option="gn6_SpcTT" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_TTAPx" display="2" index="9"></link>
    <link option="gn6_TTFPx" display="3" index="10"></link>
    <link option="gn6_TTMB14" display="1" index="0"></link>
    <link option="gn6_TTSB14" display="1" index="14"></link>
    <link option="gn6_WarOpt" index="7"></link>
    <tagref id="apAllRaces"/>
    <tagref id="apChapters"/>
    <tag group="Group" tag="Fort"/>
    <prelinks>var retval as number
retval = children.assign[gnAcc.showIcarus]
retval = children.assign[gnAcc.chFortRed]

if (option[gn6_MSiloK].selection = 1) then
  retval = children.assign[gnAcc.showKStorm]
endif</prelinks>
    </unit>
  <unit id="6EFort_GEM" name="Gun Emplacement" statset="unit" maxsize="1" startsize="1">
    <statval stat="Save" value="3"/>
    <statval stat="To" value="7"/>
    <statval stat="Wo" value="2"/>
    <link option="gn6_MSFrag" nature="auto" cost="0." textcost=" " index="3">
      <live>!gnAcc.showKStorm</live>
      </link>
    <link option="gn6_MSKrak" nature="auto" cost="30." index="2">
      <live>gnAcc.showKStorm</live>
      </link>
    <tag group="UnitTags" tag="BSasDash" name="Use a Dash in BS"/>
    <tag group="UnitTags" tag="InasDash" name="Use a Dash in In"/>
    <tag group="UnitTags" tag="LDasDash" name="Use a Dash in Ld"/>
    <tag group="UnitTags" tag="StasDash" name="Use a Dash in St"/>
    <tag group="UnitTags" tag="WSasDash" name="Use a Dash in WS"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="Group" tag="None"/>
    <tag group="UnitTags" tag="AtasDash" name="Use a Dash in At"/>
    </unit>
  <unit id="6EFort_GEF" name="Gun Emplacement" statset="unit" startsize="1">
    <statval stat="Save" value="3"/>
    <statval stat="To" value="7"/>
    <statval stat="Wo" value="2"/>
    <link option="gn6_HvyBG" nature="auto" cost="10." index="2"></link>
    <tag group="UnitTags" tag="AtasDash" name="Use a Dash in At"/>
    <tag group="UnitTags" tag="BSasDash" name="Use a Dash in BS"/>
    <tag group="UnitTags" tag="InasDash" name="Use a Dash in In"/>
    <tag group="UnitTags" tag="LDasDash" name="Use a Dash in Ld"/>
    <tag group="UnitTags" tag="StasDash" name="Use a Dash in St"/>
    <tag group="UnitTags" tag="WSasDash" name="Use a Dash in WS"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="gnAcc" tag="showHvyBlt"/>
    <tag group="Group" tag="None"/>
    </unit>
  <unit id="6EFort_IB" name="Imperial Bastion" cost="75." idtag="yes" statset="container" maxsize="1" startsize="1">
    <link option="gn6_ComRel" priority="5" cost="20." index="4">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_GEILas" priority="5" textcost="35" index="6">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_GEQGun" priority="5" cost="0." textcost="50" index="8">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_HvyBG" name="Emplaced Heavy Bolters" nature="include" cost="0." rangemax="4" remainder="range_04" category="wargear" textcost=" " index="11"></link>
    <link option="gn6_SpcTT" index="3"></link>
    <link option="gn6_TTAPx" display="2" index="9"></link>
    <link option="gn6_TTFPx" display="3" index="10"></link>
    <link option="gn6_TTMB14" display="1" index="0"></link>
    <link option="gn6_WarOpt" index="7"></link>
    <tagref id="apAllRaces"/>
    <tagref id="apChapters"/>
    <tag group="Group" tag="Fort"/>
    <prelinks>var retval as number

if (option[gn6_GEILas].selection = 1) then
  retval = children.assign[gnAcc.showIcarus]
elseif (option[gn6_GEQGun].selection = 1) then
  retval = children.assign[gnAcc.showQuadG]
endif</prelinks>
    </unit>
  <unit id="6EFort_ADL" name="Aegis Defence Lines" cost="50." statset="container" maxsize="1" startsize="1">
    <link option="gn6_ComRel" priority="101" cost="20." category="wargear" index="1">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_GEILas" priority="101" category="wargear" textcost="35" index="2">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_GEQGun" priority="101" category="wargear" textcost="50" index="3">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcTerrT" priority="901" index="5"></link>
    <link option="gn0to1" category="wargear" index="4"></link>
    <link option="gn6_TTBDDL" display="1" index="0"></link>
    <tagref id="apAllRaces"/>
    <tagref id="apChapters"/>
    <tag group="Group" tag="Fort"/>
    <prelinks>var retval as number

if (option[gn6_GEILas].selection = 1) then
  retval = children.assign[gnAcc.showIcarus]
elseif (option[gn6_GEQGun].selection = 1) then
  retval = children.assign[gnAcc.showQuadG]
endif</prelinks>
    </unit>
  <unit id="6EFort_GE" name="Gun Emplacement" statset="unit" maxsize="1" startsize="1">
    <statval stat="Save" value="3"/>
    <statval stat="To" value="7"/>
    <statval stat="Wo" value="2"/>
    <link option="gn6_ILasC" nature="auto" cost="0." textcost=" " index="2">
      <live><![CDATA[gnAcc.showIcarus & gnAcc.chFortRed]]></live>
      </link>
    <link option="gn6_ILasC" nature="auto" cost="35." index="0">
      <live><![CDATA[gnAcc.showIcarus & !gnAcc.chFortRed]]></live>
      </link>
    <link option="gn6_QuadG" nature="auto" cost="50." index="1">
      <live>gnAcc.showQuadG</live>
      </link>
    <tag group="UnitTags" tag="InasDash" name="Use a Dash in In"/>
    <tag group="UnitTags" tag="LDasDash" name="Use a Dash in Ld"/>
    <tag group="UnitTags" tag="StasDash" name="Use a Dash in St"/>
    <tag group="UnitTags" tag="WSasDash" name="Use a Dash in WS"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="Group" tag="None"/>
    <tag group="UnitTags" tag="AtasDash" name="Use a Dash in At"/>
    <tag group="UnitTags" tag="BSasDash" name="Use a Dash in BS"/>
    </unit>
  <unit id="bmNamed" name="Named Character" textcost="varies" idtag="yes" statset="container" minsize="0" modelcount="0">
    <link option="bmHQ_cd" index="9">
      <exclref id="range_11"/>
      <live>roster.cd</live>
      </link>
    <link option="bmHQ_chA" index="3">
      <exclref id="range_11"/>
      <live>roster.chA</live>
      </link>
    <link option="bmHQ_de" index="5">
      <exclref id="range_11"/>
      <live>roster.de</live>
      </link>
    <link option="bmHQ_el" index="10">
      <exclref id="range_11"/>
      <live>roster.el</live>
      </link>
    <link option="bmHQ_ig" index="11">
      <exclref id="range_11"/>
      <live>roster.ig</live>
      </link>
    <link option="bmHQ_ne" index="8">
      <exclref id="range_11"/>
      <live>roster.ne</live>
      </link>
    <link option="bmHQ_ohw" index="1">
      <exclref id="range_11"/>
      <live>roster.ohw</live>
      </link>
    <link option="bmHQ_gk5E" index="2">
      <exclref id="range_11"/>
      <live>roster.gk5E</live>
      </link>
    <link option="bmHQ_ork" index="0">
      <exclref id="range_11"/>
      <live>roster.ork</live>
      </link>
    <link option="bmHQ_sm" index="4">
      <exclref id="range_11"/>
      <live>roster.sm</live>
      </link>
    <link option="bmHQ_ta" index="6">
      <exclref id="range_11"/>
      <live>roster.ta</live>
      </link>
    <link option="bmHQ_ty5" index="7">
      <exclref id="range_11"/>
      <live>roster.ty5</live>
      </link>
    <tag group="race" tag="gk5E"/>
    <tag group="race" tag="ork"/>
    <tag group="race" tag="sm"/>
    <tag group="race" tag="ta"/>
    <tag group="race" tag="ty5"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="race" tag="cd"/>
    <tag group="race" tag="chA"/>
    <tag group="race" tag="de"/>
    <tag group="race" tag="el"/>
    <tag group="race" tag="generic"/>
    <tag group="race" tag="ig"/>
    <tag group="race" tag="impArm"/>
    <tag group="race" tag="ne5E"/>
    <member>ruleset.sc_Heroes</member>
    </unit>
  <unit id="6EFort_SLP" name="Skyshield Landing Pad" cost="75." statset="container" maxsize="1" startsize="1">
    <link option="gnSpcTerrT" priority="901" index="1"></link>
    <link option="gn5_LPC" index="2"></link>
    <link option="gn6_TTUniq" display="1" index="0"></link>
    <tagref id="apAllRaces"/>
    <tagref id="apChapters"/>
    <tag group="Group" tag="Fort"/>
    </unit>
  <scripts>
    <entitystart><![CDATA[~ kill team ammendment
~if (roster.tagis[ruleset.sc_kill] > 0) then

  ~ammend group as long as not rule or none
~  if (unit.tagis[Group.None] + unit.tagis[Group.Brutes] = 0) then

~    var retval as number
~    retval = delete[Group.?]
~    retval = assign[Group.killTeam]
~  endif

  ~ ammend gear limit on all models if immutable 6 is in operation
~  if (roster.tagis[ruleset.kl_imm6] > 0) then

    ~check to see if a model has a gearlimit allowance
~    if (unit.stat[gearlimit] > 0) then

~      unit.stat[gearlimit] = 40
~    endif
~  endif
~endif

if (roster.tagis[ruleset.sc_KillT] = 1) then
  var retval as number
  if (unit.tagis[Group.HQ] = 1) then
    retval = unit.assign[filter.invalid]

  endif

  if (unit.tagis[Group.Heavy] = 1) then
    retval = unit.assign[filter.invalid]

  endif

endif]]></entitystart>
    <entitydone>~ set stats for attacks etc
call gnStatAdj

~ set stats for strength
call gnStatAdj2

~ set stats for WS, BS and Ld
call gnStatAdj3

~ set stats In
call gnStatAdj4

~ handle squad level names
call gnSqdName

~ handle allied FOC
call gnAlly</entitydone>
    <procedure id="gnInv6" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 5+ inv save

var setSave as number
setSave = 6
call gnInvSavei</procedure>
    <procedure id="gnMinStr1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Subtracts 1 from strength

var adjStr as number
adjStr = -1
call gnAdjStri</procedure>
    <procedure id="gnMinStr2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Subtracts 2 from strength

var adjStr as number
adjStr = -2
call gnAdjStri</procedure>
    <procedure id="gnMinStr3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Subtracts 3 from strength

var adjStr as number
adjStr = -3
call gnAdjStri</procedure>
    <procedure id="gnMulStr2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Doubles strength

var setStr as number
setStr = 2
call gnMultStri</procedure>
    <procedure id="gnMulStr3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Triples strength

var setStr as number
setStr = 3
call gnMultStri</procedure>
    <procedure id="gnSave">~ to call script declare a variable called setStdSave as number
~ set this value to be the required invunerable save
~eg:
~ var setStdSave as number
~ setStdSave = 3
~ call gnSave

~ declare variables
var retval as number
var setStdSave as number

~ 2+ save
if (setStdSave = 2) then

  retval = unit.assign[statAdj.save2]
  done
endif
~ 3+ save
if (setStdSave = 3) then

  retval = unit.assign[statAdj.save3]
  done
endif
~ 4+ save
if (setStdSave = 4) then

  retval = unit.assign[statAdj.save4]
  done
endif
~ 5+ save
if (setStdSave = 5) then

  retval = unit.assign[statAdj.save5]
  done
endif
~ 6+ save
if (setStdSave = 6) then

  retval = unit.assign[statAdj.save6]
  done
endif
</procedure>
    <procedure id="gnSave2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 2+ save

var setStdSave as number
setStdSave = 2
call gnSavei</procedure>
    <procedure id="gnSave3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 3+ save

var setStdSave as number
setStdSave = 3
call gnSavei</procedure>
    <procedure id="gnSave4" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 4+ save

var setStdSave as number
setStdSave = 4
call gnSavei</procedure>
    <procedure id="gnSave5" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 5+ save

var setStdSave as number
setStdSave = 5
call gnSavei</procedure>
    <procedure id="gnSave6" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 6+ save

var setStdSave as number
setStdSave = 6
call gnSavei</procedure>
    <procedure id="gnChgGroup"><![CDATA[~ script called from entity done, uses tags from statdj, changes Group tag to new assigned group mentioned by tag

~ declare variables
var retval as number

~ no tag required then exit, no change to squad name
if (unit.tagis[statAdj.toNone] > 0) then

  retval = unit.delete[Group.?]
~  done
endif

~ change to HQ
if (unit.tagis[statAdj.toHQ] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.HQ]
  squad.name = $hq
endif
~ change to elite
if (unit.tagis[statAdj.toElite] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Elite]
  squad.name = $elite
endif
~ change to troops
if (unit.tagis[statAdj.toTroop] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Troop]
  squad.name = $troop
endif
~ change to fast attack
if (unit.tagis[statAdj.toFast] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Fast]
  squad.name = $fastAttack
endif
~ change to heavy
if (unit.tagis[statAdj.toHeavy] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Heavy]
  squad.name = $heavy
endif]]></procedure>
    <procedure id="gnToElite" scripttype="evaluate">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit elite

var retval as number
retval = unit.assign[statAdj.toElite]

call gnChgGrpi</procedure>
    <procedure id="gnToFast" scripttype="evaluate">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit fast

var retval as number
retval = unit.assign[statAdj.toFast]

call gnChgGrpi</procedure>
    <procedure id="gnToHQ" scripttype="evaluate">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit HQ

var retval as number
retval = unit.assign[statAdj.toHQ]

call gnChgGrpi</procedure>
    <procedure id="gnToHeavy" scripttype="evaluate">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit heavy support

var retval as number
retval = unit.assign[statAdj.toHeavy]

call gnChgGrpi</procedure>
    <procedure id="gnToTroop" scripttype="evaluate">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit troop

var retval as number
retval = unit.assign[statAdj.toTroop]

call gnChgGrpi</procedure>
    <procedure id="gnAddCCW" context="link"><![CDATA[~ Add one 'CCW' tag to the unit for every instance taken. Thus, the number of CCWs the unit has is represented by the number of CCW tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.addCCW]
next]]></procedure>
    <procedure id="gnPlus1Atk" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets +1 attack

var retval as number
var i as number

for i = 1 to selection
  
  retval = unit.assign[statAdj.plusAtk1]
next</procedure>
    <procedure id="gnPlus2Atk" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets +2 attack

var retval as number
var i as number

for i = 1 to selection
  
  retval = unit.assign[statAdj.plusAtk2]
next</procedure>
    <procedure id="gnToNone" scripttype="evaluate">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit no grouping

var retval as number
retval = unit.assign[statAdj.toNone]

call gnChgGrpi</procedure>
    <procedure id="gnMultStr">~ to call script declare a variable called setStr as number
~ set this value to be the required strength increment
~eg:
~ var setStr as number
~ setStr = 2
~ call gnAdjStr

~ this will tag the unit to double the strength

~ declare the variables
var retval as number
var setStr as number

~ double the strength
if (setStr = 2) then

  retval = unit.assign[statAdj.xStr2]
  done
endif

~ triple the strength
if (setStr = 3) then

  retval = unit.assign[statAdj.xStr3]
  done
endif</procedure>
    <procedure id="gnInit1" scripttype="evaluate">~ tag unit to be initiative one
var retval as number
retval = unit.assign[statAdj.init1]</procedure>
    <procedure id="gnTptSpace"><![CDATA[~ script adds to the unit (and any parent it has) private stat (defined in def file) gnTptCap.  This stat is the used in the format: val:runtime.gnTptCap? <= n where n is the vehicle's transport capacity in live statements for transports

~ set transport capacity for the immediate unit
entity.stat[gnTptCap] = entity.stat[gnTptCap] + entity.count[model]

~ apply transport count to the parent unit as well
parent.stat[gnTptCap] = parent.stat[gnTptCap] + entity.count[model]

~ apply transport count to the parent parent unit as well
parent.parent.stat[gnTptCap] = parent.parent.stat[gnTptCap] + entity.count[model]

~ now account for squad mechanisms
squad.stat[gnTptCap] = squad.stat[gnTptCap] + count[model]]]></procedure>
    <procedure id="gnMulStr2i">~ script called by eval section of an option, makes appropriate calls to the script.  Doubles strength

var setStr as number
setStr = 2
call gnMultStr</procedure>
    <procedure id="gnAddStr1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to strength

var adjStr as number
adjStr = 1
call gnAdjStr</procedure>
    <procedure id="gnAddStr2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to strength

var adjStr as number
adjStr = 2
call gnAdjStr</procedure>
    <procedure id="gnAddStr3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to strength

var adjStr as number
adjStr = 3
call gnAdjStr</procedure>
    <procedure id="gnInit1i">~ tag unit to be initiative one
var retval as number
retval = unit.assign[statAdj.init1]</procedure>
    <procedure id="gnInv2i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 2+ inv save

var setSave as number
setSave = 2
call gnInvSave</procedure>
    <procedure id="gnInv3i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 3+ inv save

var setSave as number
setSave = 3
call gnInvSave</procedure>
    <procedure id="gnInv4i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 4+ inv save

var setSave as number
setSave = 4
call gnInvSave</procedure>
    <procedure id="gnInv5i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 5+ inv save

var setSave as number
setSave = 5
call gnInvSave</procedure>
    <procedure id="gnInv6i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 5+ inv save

var setSave as number
setSave = 6
call gnInvSave</procedure>
    <procedure id="gnMinStr1i">~ script called by eval section of an option, makes appropriate calls to the script.  Subtracts 1 from strength

var adjStr as number
adjStr = -1
call gnAdjStr</procedure>
    <procedure id="gnMinStr2i">~ script called by eval section of an option, makes appropriate calls to the script.  Subtracts 2 from strength

var adjStr as number
adjStr = -2
call gnAdjStr</procedure>
    <procedure id="gnMinStr3i">~ script called by eval section of an option, makes appropriate calls to the script.  Subtracts 3 from strength

var adjStr as number
adjStr = -3
call gnAdjStr</procedure>
    <procedure id="gnMulStr3i">~ script called by eval section of an option, makes appropriate calls to the script.  Triples strength

var setStr as number
setStr = 3
call gnMultStr</procedure>
    <procedure id="gnPlus1Ati">~ script called by eval section of an option, makes appropriate calls to the script.  Sets +1 attack

var retval as number
var i as number

~for i = 1 to selection
  
  retval = unit.assign[statAdj.plusAtk1]
~next</procedure>
    <procedure id="gnPlus2Ati">~ script called by eval section of an option, makes appropriate calls to the script.  Sets +2 attack

var retval as number
var i as number

~for i = 1 to selection
  
  retval = unit.assign[statAdj.plusAtk2]
~next</procedure>
    <procedure id="gnSave2i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 2+ save

var setStdSave as number
setStdSave = 2
call gnSave</procedure>
    <procedure id="gnSave3i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 3+ save

var setStdSave as number
setStdSave = 3
call gnSave</procedure>
    <procedure id="gnSave4i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 4+ save

var setStdSave as number
setStdSave = 4
call gnSave</procedure>
    <procedure id="gnSave5i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 5+ save

var setStdSave as number
setStdSave = 5
call gnSave</procedure>
    <procedure id="gnSave6i">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 6+ save

var setStdSave as number
setStdSave = 6
call gnSave</procedure>
    <procedure id="gnChgGrouL" context="link" scripttype="evaluate"><![CDATA[~ script called from entity done, uses tags from statdj, changes Group tag to new assigned group mentioned by tag

~ declare variables
var retval as number

~ no tag required then exit, no change to squad name
if (unit.tagis[statAdj.toNone] > 0) then

  retval = unit.delete[Group.?]
~  done
endif

~ change to HQ
if (unit.tagis[statAdj.toHQ] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.HQ]
  squad.name = $hq
endif
~ change to elite
if (unit.tagis[statAdj.toElite] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Elite]
  squad.name = $elite
endif
~ change to troops
if (unit.tagis[statAdj.toTroop] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Troop]
  squad.name = $troop
endif
~ change to fast attack
if (unit.tagis[statAdj.toFast] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Fast]
  squad.name = $fastAttack
endif
~ change to heavy
if (unit.tagis[statAdj.toHeavy] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Heavy]
  squad.name = $heavy
endif]]></procedure>
    <procedure id="gnAdjBaseW">~ to call script declare a variable called baseWS as number
~ set this value to be the required base WS change, inc negatives
~eg:
~ var baseWS as number
~ baseWS = -2
~ call gnAdjBaseW

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseWS as number

~ increase base WS by 1
if (baseWS = 1) then

  retval = unit.assign[statAdj.baseWSP1]
  done
endif
~ increase base WS by 2
if (baseWS = 2) then

  retval = unit.assign[statAdj.baseWSP2]
  done
endif
~ increase base WS by 3
if (baseWS = 3) then

  retval = unit.assign[statAdj.baseWSP3]
  done
endif

~ decrease base WS by 1
if (baseWS = -1) then

  retval = unit.assign[statAdj.baseWSM1]
  done
endif
~ decrease base WS by 2
if (baseWS = -2) then

  retval = unit.assign[statAdj.baseWSM2]
  done
endif
~ decrease base WS by 3
if (baseWS = -3) then

  retval = unit.assign[statAdj.baseWSM3]
  done
endif</procedure>
    <procedure id="gnBasWSM1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base WS by 1

var baseWS as number
baseWS = -1
call gnAdjBasWi</procedure>
    <procedure id="gnBasWSM1i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base WS by 1

var baseWS as number
baseWS = -1
call gnAdjBaseW</procedure>
    <procedure id="gnBasWSM2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base WS by 2

var baseWS as number
baseWS = -2
call gnAdjBasWi</procedure>
    <procedure id="gnBasWSM2i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base WS by 2

var baseWS as number
baseWS = -2
call gnAdjBaseW</procedure>
    <procedure id="gnBasWSM3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base WS by 3

var baseWS as number
baseWS = -3
call gnAdjBasWi</procedure>
    <procedure id="gnBasWSM3i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base WS by 3

var baseWS as number
baseWS = -3
call gnAdjBaseW</procedure>
    <procedure id="gnBasWSP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base WS

var baseWS as number
baseWS = 1
call gnAdjBasWi</procedure>
    <procedure id="gnBasWSP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base WS

var baseWS as number
baseWS = 1
call gnAdjBaseW</procedure>
    <procedure id="gnBasWSP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base WS

var baseWS as number
baseWS = 2
call gnAdjBasWi</procedure>
    <procedure id="gnBasWSP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base WS

var baseWS as number
baseWS = 2
call gnAdjBaseW</procedure>
    <procedure id="gnBasWSP3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base WS

var baseWS as number
baseWS = 3
call gnAdjBasWi</procedure>
    <procedure id="gnBasWSP3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base WS

var baseWS as number
baseWS = 3
call gnAdjBaseW</procedure>
    <procedure id="gnBasBSM1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base BS by 1

var baseBS as number
baseBS = -1
call gnAdjBasBi</procedure>
    <procedure id="gnBasBSM1i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base BS by 1

var baseBS as number
baseBS = -1
call gnAdjBaseB</procedure>
    <procedure id="gnBasBSM2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base BS by 2

var baseBS as number
baseBS = -2
call gnAdjBasBi</procedure>
    <procedure id="gnBasBSM2i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base BS by 2

var baseBS as number
baseBS = -2
call gnAdjBaseB</procedure>
    <procedure id="gnBasBSM3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base BS by 3

var baseBS as number
baseBS = -3
call gnAdjBasBi</procedure>
    <procedure id="gnBasBSM3i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base BS by 3

var baseBS as number
baseBS = -3
call gnAdjBaseB</procedure>
    <procedure id="gnBasBSP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base BS

var baseBS as number
baseBS = 1
call gnAdjBasBi</procedure>
    <procedure id="gnBasBSP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base BS

var baseBS as number
baseBS = 1
call gnAdjBaseB</procedure>
    <procedure id="gnBasBSP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base BS

var baseBS as number
baseBS = 2
call gnAdjBasBi</procedure>
    <procedure id="gnBasBSP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base BS

var baseBS as number
baseBS = 2
call gnAdjBaseB</procedure>
    <procedure id="gnBasBSP3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base BS

var baseBS as number
baseBS = 3
call gnAdjBasBi</procedure>
    <procedure id="gnBasBSP3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base BS

var baseBS as number
baseBS = 3
call gnAdjBaseB</procedure>
    <procedure id="gnAdjBaseO">~ to call script declare a variable called baseWo as number
~ set this value to be the required base Wo change, inc negatives
~eg:
~ var baseWo as number
~ baseWo = -2
~ call gnAdjBaseW

~ this will tag the unit to reduce Wounds by 2

~ declare the variables
var retval as number
var baseWo as number

~ increase base Wo by 1
if (baseWo = 1) then

  retval = unit.assign[statAdj.baseWoP1]
  done
endif
~ increase base Wo by 2
if (baseWo = 2) then

  retval = unit.assign[statAdj.baseWoP2]
  done
endif
~ increase base Wo by 3
if (baseWo = 3) then

  retval = unit.assign[statAdj.baseWoP3]
  done
endif

~ decrease base Wo by 1
if (baseWo = -1) then

  retval = unit.assign[statAdj.baseWoM1]
  done
endif
~ decrease base Wo by 2
if (baseWo = -2) then

  retval = unit.assign[statAdj.baseWoM2]
  done
endif
~ decrease base Wo by 3
if (baseWo = -3) then

  retval = unit.assign[statAdj.baseWoM3]
  done
endif</procedure>
    <procedure id="gnBasWoM1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base Wo by 1

var baseWo as number
baseWo = -1
call gnAdjBasOi</procedure>
    <procedure id="gnBasWoM1i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base Wo by 1

var baseWo as number
baseWo = -1
call gnAdjBaseW</procedure>
    <procedure id="gnBasWoM2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base Wo by 2

var baseWo as number
baseWo = -2
call gnAdjBasOi</procedure>
    <procedure id="gnBasWoM2i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base Wo by 2

var baseWo as number
baseWo = -2
call gnAdjBaseW</procedure>
    <procedure id="gnBasWoM3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base Wo by 3

var baseWo as number
baseWo = -3
call gnAdjBasOi</procedure>
    <procedure id="gnBasWoM3i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base Wo by 3

var baseWo as number
baseWo = -3
call gnAdjBaseW</procedure>
    <procedure id="gnBasWoP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base Wo

var baseWo as number
baseWo = 1
call gnAdjBasOi</procedure>
    <procedure id="gnBasWoP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base Wo

var baseWo as number
baseWo = 1
call gnAdjBaseO</procedure>
    <procedure id="gnBasWoP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base Wo

var baseWo as number
baseWo = 2
call gnAdjBasOi</procedure>
    <procedure id="gnBasWoP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base Wo

var baseWo as number
baseWo = 2
call gnAdjBaseW</procedure>
    <procedure id="gnBasWoP3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base Wo

var baseWo as number
baseWo = 3
call gnAdjBasOi</procedure>
    <procedure id="gnBasWoP3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base Wo

var baseWo as number
baseWo = 3
call gnAdjBaseW</procedure>
    <procedure id="gnBasInP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base In

var baseIn as number
baseIn = 2
call gnAdjBasIi</procedure>
    <procedure id="gnBasInP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base In

var baseIn as number
baseIn = 2
call gnAdjBaseI</procedure>
    <procedure id="gnAdjBasIi" scripttype="evaluate">~ to call script declare a variable called baseIn as number
~ set this value to be the required base In change, inc negatives
~eg:
~ var baseIn as number
~ baseIn = -2
~ call gnAdjBaseI

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseIn as number

~ increase base In by 1
if (baseIn = 1) then

  retval = unit.assign[statAdj.baseInP1]
  done
endif
~ increase base In by 2
if (baseIn = 2) then

  retval = unit.assign[statAdj.baseInP2]
  done
endif
~ increase base In by 3
if (baseIn = 3) then

  retval = unit.assign[statAdj.baseInP3]
  done
endif

~ decrease base In by 1
if (baseIn = -1) then

  retval = unit.assign[statAdj.baseInM1]
  done
endif
~ decrease base In by 2
if (baseIn = -2) then

  retval = unit.assign[statAdj.baseInM2]
  done
endif
~ decrease base In by 3
if (baseIn = -3) then

  retval = unit.assign[statAdj.baseInM3]
  done
endif</procedure>
    <procedure id="gnAdjBaseI">~ to call script declare a variable called baseIn as number
~ set this value to be the required base In change, inc negatives
~eg:
~ var baseIn as number
~ baseIn = -2
~ call gnAdjBaseI

~ this will tag the unit to reduce initiative by 2

~ declare the variables
var retval as number
var baseIn as number

~ increase base In by 1
if (baseIn = 1) then

  retval = unit.assign[statAdj.baseInP1]
  done
endif
~ increase base In by 2
if (baseIn = 2) then

  retval = unit.assign[statAdj.baseInP2]
  done
endif
~ increase base In by 3
if (baseIn = 3) then

  retval = unit.assign[statAdj.baseInP3]
  done
endif

~ decrease base In by 1
if (baseIn = -1) then

  retval = unit.assign[statAdj.baseInM1]
  done
endif
~ decrease base In by 2
if (baseIn = -2) then

  retval = unit.assign[statAdj.baseInM2]
  done
endif
~ decrease base In by 3
if (baseIn = -3) then

  retval = unit.assign[statAdj.baseInM3]
  done
endif</procedure>
    <procedure id="gnBasInP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base In

var baseIn as number
baseIn = 1
call gnAdjBasIi</procedure>
    <procedure id="gnBasInP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base In

var baseIn as number
baseIn = 1
call gnAdjBaseI</procedure>
    <procedure id="gnBasLdP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base Ld

var baseLd as number
baseLd = 2
call gnAdjBasLi</procedure>
    <procedure id="gnBasLdP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base Ld

var baseLd as number
baseLd = 2
call gnAdjBaseL</procedure>
    <procedure id="gnAdjBasLi" scripttype="evaluate">~ to call script declare a variable called baseLd as number
~ set this value to be the required base Ld change, inc negatives
~eg:
~ var baseLd as number
~ baseLd = -2
~ call gnAdjBaseL

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseLd as number

~ increase base Ld by 1
if (baseLd = 1) then

  retval = unit.assign[statAdj.baseLdP1]
  done
endif
~ increase base Ld by 2
if (baseLd = 2) then

  retval = unit.assign[statAdj.baseLdP2]
  done
endif
~ increase base Ld by 3
if (baseLd = 3) then

  retval = unit.assign[statAdj.baseLdP3]
  done
endif

~ decrease base Ld by 1
if (baseLd = -1) then

  retval = unit.assign[statAdj.baseLdM1]
  done
endif
~ decrease base Ld by 2
if (baseLd = -2) then

  retval = unit.assign[statAdj.baseLdM2]
  done
endif
~ decrease base Ld by 3
if (baseLd = -3) then

  retval = unit.assign[statAdj.baseLdM3]
  done
endif</procedure>
    <procedure id="gnAdjBaseL">~ to call script declare a variable called baseLd as number
~ set this value to be the required base Ld change, inc negatives
~eg:
~ var baseLd as number
~ baseLd = -2
~ call gnAdjBaseL

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseLd as number

~ increase base Ld by 1
if (baseLd = 1) then

  retval = unit.assign[statAdj.baseLdP1]
  done
endif
~ increase base Ld by 2
if (baseLd = 2) then

  retval = unit.assign[statAdj.baseLdP2]
  done
endif
~ increase base Ld by 3
if (baseLd = 3) then

  retval = unit.assign[statAdj.baseLdP3]
  done
endif

~ decrease base Ld by 1
if (baseLd = -1) then

  retval = unit.assign[statAdj.baseLdM1]
  done
endif
~ decrease base Ld by 2
if (baseLd = -2) then

  retval = unit.assign[statAdj.baseLdM2]
  done
endif
~ decrease base Ld by 3
if (baseLd = -3) then

  retval = unit.assign[statAdj.baseLdM3]
  done
endif</procedure>
    <procedure id="gnBasLdP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base Ld

var baseLd as number
baseLd = 1
call gnAdjBasLi</procedure>
    <procedure id="gnBasLdP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base Ld

var baseLd as number
baseLd = 1
call gnAdjBaseL</procedure>
    <procedure id="gnAdjBaseS">~ to call script declare a variable called baseSt as number
~ set this value to be the required base St change, inc negatives
~eg:
~ var baseSt as number
~ baseSt = -2
~ call gnAdjBaseS

~ this will tag the unit to reduce Stength by 2

~ declare the variables
var retval as number
var baseSt as number

~ increase base St by 1
if (baseSt = 1) then

  retval = unit.assign[statAdj.baseStP1]
  done
endif
~ increase base St by 2
if (baseSt = 2) then

  retval = unit.assign[statAdj.baseStP2]
  done
endif
~ increase base St by 3
if (baseSt = 3) then

  retval = unit.assign[statAdj.baseStP3]
  done
endif

~ decrease base St by 1
if (baseSt = -1) then

  retval = unit.assign[statAdj.baseStM1]
  done
endif
~ decrease base St by 2
if (baseSt = -2) then

  retval = unit.assign[statAdj.baseStM2]
  done
endif
~ decrease base St by 3
if (baseSt = -3) then

  retval = unit.assign[statAdj.baseStM3]
  done
endif</procedure>
    <procedure id="gnBasStM1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base St by 1

var baseSt as number
baseSt = -1
call gnAdjBasSi</procedure>
    <procedure id="gnBasStM1i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base St by 1

var baseSt as number
baseSt = -1
call gnAdjBaseS</procedure>
    <procedure id="gnBasStM2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base St by 2

var baseSt as number
baseSt = -2
call gnAdjBasSi</procedure>
    <procedure id="gnBasStM2i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base St by 2

var baseSt as number
baseSt = -2
call gnAdjBaseS</procedure>
    <procedure id="gnBasStM3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base St by 3

var baseSt as number
baseSt = -3
call gnAdjBasSi</procedure>
    <procedure id="gnBasStM3i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease base St by 3

var baseSt as number
baseSt = -3
call gnAdjBaseS</procedure>
    <procedure id="gnBasStP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base St

var baseSt as number
baseSt = 1
call gnAdjBasSi</procedure>
    <procedure id="gnBasStP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to base St

var baseSt as number
baseSt = 1
call gnAdjBaseS</procedure>
    <procedure id="gnBasStP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base St

var baseSt as number
baseSt = 2
call gnAdjBasSi</procedure>
    <procedure id="gnBasStP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base St

var baseSt as number
baseSt = 2
call gnAdjBaseS</procedure>
    <procedure id="gnBasStP3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base St

var baseSt as number
baseSt = 3
call gnAdjBasSi</procedure>
    <procedure id="gnBasStP3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to base St

var baseSt as number
baseSt = 3
call gnAdjBaseS</procedure>
    <procedure id="gnBasAtP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base At

var baseAt as number
baseAt = 2
call gnAdjBaseA</procedure>
    <procedure id="gnAdjBasAi" scripttype="evaluate">~ to call script declare a variable called baseAt as number
~ set this value to be the required base At change, inc negatives
~eg:
~ var baseAt as number
~ baseAt = -2
~ call gnAdjBaseA

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseAt as number

~ increase base At by 1
if (baseAt = 1) then

  retval = unit.assign[statAdj.baseAtP1]
  done
endif
~ increase base At by 2
if (baseAt = 2) then

  retval = unit.assign[statAdj.baseAtP2]
  done
endif
~ increase base At by 3
if (baseAt = 3) then

  retval = unit.assign[statAdj.baseAtP3]
  done
endif

~ decrease base At by 1
if (baseAt = -1) then

  retval = unit.assign[statAdj.baseAtM1]
  done
endif
~ decrease base At by 2
if (baseAt = -2) then

  retval = unit.assign[statAdj.baseAtM2]
  done
endif
~ decrease base At by 3
if (baseAt = -3) then

  retval = unit.assign[statAdj.baseAtM3]
  done
endif</procedure>
    <procedure id="gnAdjBaseA">~ to call script declare a variable called baseAt as number
~ set this value to be the required base At change, inc negatives
~eg:
~ var baseAt as number
~ baseAt = -2
~ call gnAdjBaseA

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseAt as number

~ increase base At by 1
if (baseAt = 1) then

  retval = unit.assign[statAdj.baseAtP1]
  done
endif
~ increase base At by 2
if (baseAt = 2) then

  retval = unit.assign[statAdj.baseAtP2]
  done
endif
~ increase base At by 3
if (baseAt = 3) then

  retval = unit.assign[statAdj.baseAtP3]
  done
endif

~ decrease base At by 1
if (baseAt = -1) then

  retval = unit.assign[statAdj.baseAtM1]
  done
endif
~ decrease base At by 2
if (baseAt = -2) then

  retval = unit.assign[statAdj.baseAtM2]
  done
endif
~ decrease base At by 3
if (baseAt = -3) then

  retval = unit.assign[statAdj.baseAtM3]
  done
endif</procedure>
    <procedure id="gnBasAtP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base At

var baseAt as number
baseAt = 1
call gnAdjBasAi</procedure>
    <procedure id="gnBasAtP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to base At

var baseAt as number
baseAt = 1
call gnAdjBaseA</procedure>
    <procedure id="gnBSM1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e BS by 1

var BS as number
BS = -1
call gnAdjBi</procedure>
    <procedure id="gnBSM1i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e BS by 1

var BS as number
BS = -1
call gnAdjB</procedure>
    <procedure id="gnBSM2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e BS by 2

var BS as number
BS = -2
call gnAdjBi</procedure>
    <procedure id="gnBSM2i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e BS by 2

var BS as number
BS = -2
call gnAdjB</procedure>
    <procedure id="gnBSM3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e BS by 3

var BS as number
BS = -3
call gnAdjBi</procedure>
    <procedure id="gnBSM3i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e BS by 3

var BS as number
BS = -3
call gnAdjB</procedure>
    <procedure id="gnBSP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to e BS

var BS as number
BS = 1
call gnAdjBi</procedure>
    <procedure id="gnBSP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to e BS

var BS as number
BS = 1
call gnAdjB</procedure>
    <procedure id="gnBSP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to e BS

var BS as number
BS = 2
call gnAdjBi</procedure>
    <procedure id="gnBSP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to e BS

var BS as number
BS = 2
call gnAdjB</procedure>
    <procedure id="gnBSP3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to e BS

var BS as number
BS = 3
call gnAdjBi</procedure>
    <procedure id="gnBSP3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to e BS

var BS as number
BS = 3
call gnAdjB</procedure>
    <procedure id="gnWSM1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e WS by 1

var WS as number
WS = -1
call gnAdjWi</procedure>
    <procedure id="gnWSM1i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e WS by 1

var WS as number
WS = -1
call gnAdjW</procedure>
    <procedure id="gnWSM2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e WS by 2

var WS as number
WS = -2
call gnAdjWi</procedure>
    <procedure id="gnWSM2i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e WS by 2

var WS as number
WS = -2
call gnAdjW</procedure>
    <procedure id="gnWSM3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e WS by 3

var WS as number
WS = -3
call gnAdjWi</procedure>
    <procedure id="gnWSM3i">~ script called by eval section of an option, makes appropriate calls to the script.  Decrease e WS by 3

var WS as number
WS = -3
call gnAdjW</procedure>
    <procedure id="gnWSP1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to e WS

var WS as number
WS = 1
call gnAdjWi</procedure>
    <procedure id="gnWSP1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to e WS

var WS as number
WS = 1
call gnAdjW</procedure>
    <procedure id="gnWSP2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to e WS

var WS as number
WS = 2
call gnAdjWi</procedure>
    <procedure id="gnWSP2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to e WS

var WS as number
WS = 2
call gnAdjW</procedure>
    <procedure id="gnWSP3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to e WS

var WS as number
WS = 3
call gnAdjWi</procedure>
    <procedure id="gnWSP3i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to e WS

var WS as number
WS = 3
call gnAdjW</procedure>
    <procedure id="gnAdjBaseB">~ to call script declare a variable called baseBS as number
~ set this value to be the required base BS change, inc negatives
~eg:
~ var baseBS as number
~ baseBS = -2
~ call gnAdjBaseB

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseBS as number

~ increase base BS by 1
if (baseBS = 1) then

  retval = unit.assign[statAdj.baseBSP1]
  done
endif
~ increase base BS by 2
if (baseBS = 2) then

  retval = unit.assign[statAdj.baseBSP2]
  done
endif
~ increase base BS by 3
if (baseBS = 3) then

  retval = unit.assign[statAdj.baseBSP3]
  done
endif

~ decrease base BS by 1
if (baseBS = -1) then

  retval = unit.assign[statAdj.baseBSM1]
  done
endif
~ decrease base BS by 2
if (baseBS = -2) then

  retval = unit.assign[statAdj.baseBSM2]
  done
endif
~ decrease base BS by 3
if (baseBS = -3) then

  retval = unit.assign[statAdj.baseBSM3]
  done
endif</procedure>
    <procedure id="gnStatAdj3"><![CDATA[~ script called from entity done global script, calls all relevant subscripts
~ and uses tags from the statAdj group held in the def file

~ ============== base WS adjustments =====================================
~ deal with adjustments to the base WS.  Take the highest adjustment tag, i.e. baseWSP3, take the tagvalue and adjust the WS by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseWSP?] + unit.tagis[statAdj.baseWSM?] > 0) then

  var baseWSAdj as number
  baseWSAdj = unit.tagmax[statAdj.baseWSP?]
  ~ if baseWSAdj is zero then no plus modifiers are present so it is negative
  if (baseWSAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseWSAdj = unit.tagmax[statAdj.baseWSM?]
    baseWSAdj = baseWSAdj - (2 * baseWSAdj)
  endif

  unit.basestat[WS] = unit.basestat[WS] + baseWSAdj
endif

~ ============== base BS adjustments =====================================
~ deal with adjustments to the base BS.  Take the highest adjustment tag, i.e. baseBSP3, take the tagvalue and adjust the BS by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseBSP?] + unit.tagis[statAdj.baseBSM?] > 0) then

  var baseBSAdj as number
  baseBSAdj = unit.tagmax[statAdj.baseBSP?]
  ~ if baseBSAdj is zero then no plus modifiers are present so it is negative
  if (baseBSAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseBSAdj = unit.tagmax[statAdj.baseBSM?]
    baseBSAdj = baseBSAdj - (2 * baseBSAdj)
  endif

  unit.basestat[BS] = unit.basestat[BS] + baseBSAdj
endif

~ ============== base Wo adjustments =====================================
~ deal with adjustments to the base Wo.  Take the highest adjustment tag, i.e. baseWoP3, take the tagvalue and adjust the Wo by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseWoP?] + unit.tagis[statAdj.baseWoM?] > 0) then

  var baseWoAdj as number
  baseWoAdj = unit.tagmax[statAdj.baseWoP?]
  ~ if baseWoAdj is zero then no plus modifiers are present so it is negative
  if (baseWoAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseWoAdj = unit.tagmax[statAdj.baseWoM?]
    baseWoAdj = baseWoAdj - (2 * baseWoAdj)
  endif

  unit.basestat[Wo] = unit.basestat[Wo] + baseWoAdj
endif

~ ============== base In adjustments =====================================
~ deal with adjustments to the base In.  Take the highest adjustment tag, i.e. baseInP3, take the tagvalue and adjust the In by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseInP?] + unit.tagis[statAdj.baseInM?] > 0) then

  var baseInAdj as number
  baseInAdj = unit.tagmax[statAdj.baseInP?]
  ~ if baseInAdj is zero then no plus modifiers are present so it is negative
  if (baseInAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseInAdj = unit.tagmax[statAdj.baseInM?]
    baseInAdj = baseInAdj - (2 * baseInAdj)
  endif

  unit.basestat[In] = unit.basestat[In] + baseInAdj
endif

~ ============== base At adjustments =====================================
~ deal with adjustments to the base At.  Take the highest adjustment tag, i.e. baseAtP3, take the tagvalue and adjust the At by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseAtP?] + unit.tagis[statAdj.baseAtM?] > 0) then

  var baseAtAdj as number
  baseAtAdj = unit.tagmax[statAdj.baseAtP?]
  ~ if baseAtAdj is zero then no plus modifiers are present so it is negative
  if (baseAtAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseAtAdj = unit.tagmax[statAdj.baseAtM?]
    baseAtAdj = baseAtAdj - (2 * baseAtAdj)
  endif

  unit.basestat[At] = unit.basestat[At] + baseAtAdj
endif

~ ============== base Ld adjustments =====================================
~ deal with adjustments to the base Ld.  Take the highest adjustment tag, i.e. baseLdP3, take the tagvalue and adjust the Ld by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseLdP?] + unit.tagis[statAdj.baseLdM?] > 0) then

  var baseLdAdj as number
  baseLdAdj = unit.tagmax[statAdj.baseLdP?]
  ~ if baseLdAdj is zero then no plus modifiers are present so it is negative
  if (baseLdAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseLdAdj = unit.tagmax[statAdj.baseLdM?]
    baseLdAdj = baseLdAdj - (2 * baseLdAdj)
  endif

  unit.basestat[Ld] = unit.basestat[Ld] + baseLdAdj
endif

~ ==============  WS adjustments =====================================
~ deal with adjustments to the  WS.  Take the highest adjustment tag, i.e. WSP3, take the tagvalue and adjust the WS by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.WSP?] + unit.tagis[statAdj.WSM?] > 0) then

  var WSAdj as number
  WSAdj = unit.tagmax[statAdj.WSP?]
  ~ if WSAdj is zero then no plus modifiers are present so it is negative
  if (WSAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    WSAdj = unit.tagmax[statAdj.WSM?]
    WSAdj = WSAdj - (2 * WSAdj)
  endif

  unit.stat[WS] = unit.basestat[WS] + WSAdj
endif

~ ==============  BS adjustments =====================================
~ deal with adjustments to the  BS.  Take the highest adjustment tag, i.e. BSP3, take the tagvalue and adjust the BS by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.BSP?] + unit.tagis[statAdj.BSM?] > 0) then

  var BSAdj as number
  BSAdj = unit.tagmax[statAdj.BSP?]
  ~ if BSAdj is zero then no plus modifiers are present so it is negative
  if (BSAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    BSAdj = unit.tagmax[statAdj.BSM?]
    BSAdj = BSAdj - (2 * BSAdj)
  endif

  unit.stat[BS] = unit.basestat[BS] + BSAdj
endif]]></procedure>
    <procedure id="gnInvSave">~ to call script declare a variable called setSave as number
~ set this value to be the required invunerable save
~eg:
~ var setSave as number
~ setSave = 3
~ call gnInvSave

~ this will tag the unit to have a 3+ invunerable save

~ declare variables
var retval as number
var setSave as number

~ 2+ inv save
if (setSave = 2) then

  retval = unit.assign[statAdj.inv2]
  done
endif
~ 3+ inv save
if (setSave = 3) then

  retval = unit.assign[statAdj.inv3]
  done
endif
~ 4+ inv save
if (setSave = 4) then

  retval = unit.assign[statAdj.inv4]
  done
endif
~ 5+ inv save
if (setSave = 5) then

  retval = unit.assign[statAdj.inv5]
  done
endif
~ 6+ inv save
if (setSave = 6) then

  retval = unit.assign[statAdj.inv6]
  done
endif
</procedure>
    <procedure id="gnToElitei">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit elite

var retval as number
retval = assign[statAdj.toElite]

call gnChgGroup</procedure>
    <procedure id="gnToFasti">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit fast

var retval as number
retval = assign[statAdj.toFast]

call gnChgGroup</procedure>
    <procedure id="gnToHQi">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit HQ

var retval as number
retval = assign[statAdj.toHQ]

call gnChgGroup</procedure>
    <procedure id="gnToHeavyi">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit heavy support

var retval as number
retval = assign[statAdj.toHeavy]

call gnChgGroup</procedure>
    <procedure id="gnToNonei">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit no grouping

var retval as number
retval = assign[statAdj.toNone]

call gnChgGroup</procedure>
    <procedure id="gnToTroopi">~ script called by eval section of an option, assigns tag from statAdj.  Makes unit troop

var retval as number
retval = assign[statAdj.toTroop]

call gnChgGroup</procedure>
    <procedure id="gnAdjB">~ to call script declare a variable called BS as number
~ set this value to be the required  BS change, inc negatives
~eg:
~ var BS as number
~ BS = -2
~ call gnAdjB

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var BS as number

~ increase  BS by 1
if (BS = 1) then

  retval = unit.assign[statAdj.BSP1]
  done
endif
~ increase  BS by 2
if (BS = 2) then

  retval = unit.assign[statAdj.BSP2]
  done
endif
~ increase  BS by 3
if (BS = 3) then

  retval = unit.assign[statAdj.BSP3]
  done
endif

~ decrease  BS by 1
if (BS = -1) then

  retval = unit.assign[statAdj.BSM1]
  done
endif
~ decrease  BS by 2
if (BS = -2) then

  retval = unit.assign[statAdj.BSM2]
  done
endif
~ decrease  BS by 3
if (BS = -3) then

  retval = unit.assign[statAdj.BSM3]
  done
endif</procedure>
    <procedure id="gnAdjW">~ to call script declare a variable called WS as number
~ set this value to be the required  WS change, inc negatives
~eg:
~ var WS as number
~ WS = -2
~ call gnAdjB

~ this will tag the unit to reduce WS by 2

~ declare the variables
var retval as number
var WS as number

~ increase  WS by 1
if (WS = 1) then

  retval = unit.assign[statAdj.WSP1]
  done
endif
~ increase  WS by 2
if (WS = 2) then

  retval = unit.assign[statAdj.WSP2]
  done
endif
~ increase  WS by 3
if (WS = 3) then

  retval = unit.assign[statAdj.WSP3]
  done
endif

~ decrease  WS by 1
if (WS = -1) then

  retval = unit.assign[statAdj.WSM1]
  done
endif
~ decrease  WS by 2
if (WS = -2) then

  retval = unit.assign[statAdj.WSM2]
  done
endif
~ decrease  WS by 3
if (WS = -3) then

  retval = unit.assign[statAdj.WSM3]
  done
endif</procedure>
    <procedure id="gnTptSpac2"><![CDATA[~ script adds to the unit (and any parent it has) private stat (defined in def file) gnTptCap.  This stat is the used in the format: val:runtime.gnTptCap? <= n where n is the vehicle's transport capacity in live statements for transports

~ set transport capacity for the immediate unit
entity.stat[gnTptCap] = entity.stat[gnTptCap] + (entity.count[model] * 2)

~ apply transport count to the parent unit as well
parent.stat[gnTptCap] = parent.stat[gnTptCap] + (entity.count[model] * 2)

~ apply transport count to the parent parent unit as well
parent.parent.stat[gnTptCap] = parent.parent.stat[gnTptCap] + (entity.count[model] * 2)

~ now account for squad mechanisms
squad.stat[gnTptCap] = squad.stat[gnTptCap] + (count[model] * 2)]]></procedure>
    <procedure id="gnSqdName"><![CDATA[~ script renames all squad level entities by classifying by roster position with unit name tagged to it.
var sqdName as string
var unitName as string
var rosterPosn as string

~ first get the roster position and assign it to the start of the string
if (tagis[Group.HQ] > 0) then

  sqdName = $hq
endif
if (tagis[Group.Elite] > 0) then

  sqdName = $elite
endif
if (tagis[Group.Troop] > 0) then

  sqdName = $troop
endif
if (tagis[Group.Fast] > 0) then

  sqdName = $fastAttack
endif
if (tagis[Group.Heavy] > 0) then

  sqdName = $heavy
endif
if (tagis[Group.Formation] > 0) then

  sqdName = $formn
endif
if (tagis[Group.Legend] > 0) then

  sqdName = $legend
endif
~ next assign the unit name to a string
unitName = unit.name

~ put all the string together
sqdName = sqdName & $nameSep & unitName

~ now assign to the squad name
squad.name = sqdName]]></procedure>
    <procedure id="gnStatAdj"><![CDATA[~ script called from entity done global script, calls all relevant subscripts
~ and uses tags from the statAdj group held in the def file

~ ============== extra attacks ====================================
~ deal with extra attacks, count number of addCCW tags, drop one and then cap at one additional attack.

var ccwTags as number
var maxAttacks as number
ccwTags = unit.tagcount[statAdj.addCCW]

if (unit.tagis[swTags.Marked] = 0) then
if (ccwTags > 0) then

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 6th Edition Ammendment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ first set a flag to indicate if the extra attack calculation should be carried out, if 0 then do not perform calc, if <> 0 then perform calc.  Set to do not perform by default
  var ammendCCW as number
  ammendCCW = 0

~ next check if there is more than one special CCW weapon.  If there isnt then set the ammendCCW to 1 as long it isnt a power fist, lightning claw or thunder hammer
  if (tagcount[statAdj.specialWpn] < 2) then

    if (tagcount[statAdj.gn6_spcwpn] < 1) then

      ammendCCW = 1
    endif
  else
    ~ if get to this point then there are two special CCW weapons.  Now compare them one by one to see if     they are the same, if they are then set the ammendCCW flag to 1
    ~ power weapon
    if (tagcount[statAdj.powerW] > 1) then
      ammendCCW = 1
    endif
    ~ force weapon
    if (tagcount[statAdj.forceW] > 1) then
      ammendCCW = 1
    endif
    ~ poisoned weapon
    if (tagcount[statAdj.poisonW] > 1) then
      ammendCCW = 1
    endif
    ~ rending weapon
    if (tagcount[statAdj.rendingW] > 1) then
      ammendCCW = 1
    endif
    ~ witch blade
    if (tagcount[statAdj.witchB] > 1) then
      ammendCCW = 1
    endif

    ~ now deal with Specialist Weapons; calculate if two specialist weapon tags are present and then set ammendCCW tag to 1
    if (tagcount[statAdj.gn6_spcwpn] = 2) then
      ammendCCW = 1
    endif
  endif

~ as long as ammendCCW <> 0 then alter the attacks (this only occurs when there are either one special CCW or two special CCW that are the same
  if (ammendCCW = 1) then

    maxAttacks = ccwTags
    maxAttacks = minimum(maxAttacks, 2)
    stat[At] = stat[At] + maxAttacks - 1
  endif
endif
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ End 6th Edition Ammendment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~ check for presence of +1 or +2 attacks, if found then count the number of times it occurs and add an attack for each occurence.  Tags used are the range plusAtkN where N is the number of attacks to add

if (unit.tagis[statAdj.plusAtk?] > 0) then

  var addAtk1 as number
  var addAtk2 as number

  addAtk1 = unit.tagcount[statAdj.plusAtk1]
  addAtk2 = unit.tagcount[statAdj.plusAtk2]

  ~ double the plusAtk2 to account for it adding two attacks
  addAtk2 = addAtk2 * 2

  ~ add both values to the attacks
  unit.stat[At] = unit.basestat[At] + addAtk1 + addAtk2
endif
else
endif

~ ============== initiative ========================================
~ deal with initiative changes, take the highest assigned initiative as a numerical value, set the initiative to that value.  Tags used are the range initN where N is the save to be set

~ first check the unit has an initiative tag, if so then act on it
if (unit.tagis[statAdj.init?] > 0) then

  var init as number
  init = tagmax[statAdj.init?]
  unit.stat[In] = init
endif

~ ============== standard saves ========================================
~ deal with standard saves, take the LOWEST assigned save as a numerical value, set the basestat to be this value.  Tags used are the range saveN where N is the save to be set

~ first check the unit has a save tag, if so then act on it
if (unit.tagis[statAdj.save?] > 0) then

  var stdSave as number
  stdSave = tagmin[statAdj.save?]
  unit.basestat[Save] = stdSave
endif

~ ============== invunerable saves ========================================
~ deal with invunerable saves, take the LOWEST assigned invunerable save as a numerical value.  Convert the save to value to be handled by the finalise script for the stat 'Save' in the def file.  Tags used are the range invN where N is the save to be set

~ first check the unit has an invunerable save tag, if so then act on it
if (unit.tagis[statAdj.inv?] > 0) then

  var invSave as number
  invSave = tagmin[statAdj.inv?]
  invSave = invSave + 10
  unit.stat[Save] = invSave
endif]]></procedure>
    <procedure id="gnChild"><![CDATA[~ used by standard units that have been attached as children
~ if the runtime flag is set as a child then remove any composition group tags
~ script called from gnStatAdj

if (tagis[runtime.child] > 0) then

  ~ if script reaches this point then the unit is a child
  call gnToNonei
endif]]></procedure>
    <procedure id="gnAdjStr">~ to call script declare a variable called adjStr as number
~ set this value to be the required strength change, inc negatives
~eg:
~ var adjStr as number
~ adjStr = -2
~ call gnAdjStr

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var adjStr as number

~ add +1 str
if (adjStr = 1) then

  retval = unit.assign[statAdj.plusStr1]
  done
endif
~ add +2 str
if (adjStr = 2) then

  retval = unit.assign[statAdj.plusStr2]
  done
endif
~ add +3 str
if (adjStr = 3) then

  retval = unit.assign[statAdj.plusStr3]
  done
endif
~ subtract 1 str
if (adjStr = -1) then

  retval = unit.assign[statAdj.minusStr1]
  done
endif
~ subtract 2 str
if (adjStr = -2) then

  retval = unit.assign[statAdj.minusStr2]
  done
endif
~ subtract 3 str
if (adjStr = -3) then

  retval = unit.assign[statAdj.minusStr3]
  done
endif</procedure>
    <procedure id="gnTpt10">~ makes a unit a transport with a capacity of 10
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap10]</procedure>
    <procedure id="gnTpt12">~ makes a unit a transport with a capacity of 12
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap12]</procedure>
    <procedure id="gnTpt15">~ makes a unit a transport with a capacity of 15
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap15]</procedure>
    <procedure id="gnTpt5">~ makes a unit a transport with a capacity of 5
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap5]</procedure>
    <procedure id="gnTpt6">~ makes a unit a transport with a capacity of 6
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap6]</procedure>
    <procedure id="gnTpt7">~ makes a unit a transport with a capacity of 7
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap7]</procedure>
    <procedure id="gnTpt8">~ makes a unit a transport with a capacity of 8
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap8]</procedure>
    <procedure id="gnTpt9">~ makes a unit a transport with a capacity of 9
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap9]</procedure>
    <procedure id="gnAddStr1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to strength

var adjStr as number
adjStr = 1
call gnAdjStri</procedure>
    <procedure id="gnAddStr2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 2 to strength

var adjStr as number
adjStr = 2
call gnAdjStri</procedure>
    <procedure id="gnAddStr3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 3 to strength

var adjStr as number
adjStr = 3
call gnAdjStri</procedure>
    <procedure id="gnStatAdj2"><![CDATA[~ ---------- New addition 11th december 06 by Harkan ----------------------

~ script called from entity done global script, calls all relevant subscripts
~ and uses tags from the statAdj group held in the def file

~ ============== base St adjustments =====================================
~ deal with adjustments to the base St.  Take the highest adjustment tag, i.e. baseStP3, take the tagvalue and adjust the St by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.baseStP?] + unit.tagis[statAdj.baseStM?] > 0) then

  var baseStAdj as number
  baseStAdj = unit.tagmax[statAdj.baseStP?]
  ~ if baseStAdj is zero then no plus modifiers are present so it is negative
  if (baseStAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
    baseStAdj = unit.tagmax[statAdj.baseStM?]
    baseStAdj = baseStAdj - (2 * baseStAdj)
  endif

  unit.basestat[St] = unit.basestat[St] + baseStAdj
endif

~ ============== strength adjustments =====================================

~ first check for the presence of multiple strength adjustment tags, if these are found then work out each adjustment and then add them into the stat gnMultiStr.  This is then used by the def file to display multiple strengths

~ set variables, reset gn stat
var strMul as number
var strAdd as number
var strComb as number
var multiAdj as number
basestat[gnMultiStr] = 0
stat[gnMultiStr] = 0
multiAdj = 0

~ first add up the number of strength adjustment tags
strMul = tagcount[statAdj.xStr?]
strAdd = tagcount[statAdj.plusStr?] + tagcount[statAdj.minStr?]
strComb = strMul + strAdd

~ if more than one then set flag
if (strComb > 1) then

~  multiAdj = 1

  ~add adjustments into gn stat
  ~ first declare variables
~  var strMult as number
~  var strDiff as number
~  var txtVerA as string
~  var txtVerB as string
~  var txtVerC as string

  ~ work out any multipliers, convert to text
~  strMult = unit.tagmax[statAdj.xStr?]
~  strMult = unit.basestat[St]  * strMult
~  txtVerA = strMult

  ~work out any increases, convert to text
~  strDiff = unit.tagmax[statAdj.plusStr?]
  ~ if strDiff is zero then no plus modifiers are present so it is a negative
~  if (strDiff = 0) then

    ~ get the tag value and turn it into a negative value
~    strDiff = unit.tagmax[statAdj.minusStr?]
~    strDiff = strDiff - (2 * strDiff)
~  endif
~  strDiff = unit.basestat[St] + strDiff
~  txtVerB = strDiff

  ~create final text and assign to stat
~  txtVerC = txtVerA & txtVerB
~  stat[gnMultiStr] = txtVerC

~name = "gnMultiStr: " & stat[gnMultiStr]

endif

~ run this section only if there are no multiple adjustments
~if (strComb < 1) then

  ~ deal with strength multipliers, take the highest assigned strength multiplier as a variable and then     multiply the strength by it.  Tags used are the range xStrN where N is the multiplier

  ~ first check the unit has a tag on it, if so then deal with it
  if (unit.tagis[statAdj.xStr?] > 0) then

    var strMult as number
    strMult = unit.tagmax[statAdj.xStr?]
    unit.stat[St] = unit.basestat[St] * strMult

  ~ Modification for Suffer Not the Unclean (BT Vow)
    if (tagis[btTags.SufferNot] <= 0) then
       unit.stat[St] = unit.basestat[St] * strMult
    else
       if (tagis[btTags.SufferNot] > 0) then
          if (option[gnPowFUn].selection > 0) then
             unit.stat[St] = (unit.basestat[St] * 2)
          endif
       endif
    endif

  ~ Modification for IC with Thunderwolf Mount (SW Wargear)
    if (tagis[swTags.IC_TWMount] <= 0) then
    
      unit.stat[St] = unit.basestat[St] * strMult
    endif
  endif

  ~ Modification for actual RAW interpretation of strength adjustment
  ~ NOTE: Unused, using as placeholder
    ~if (tagis[gnAcc.gnRAW_ST] <= 0) then
    ~var strMult as number
    ~   unit.stat[St] = (unit.basestat[St] * strMult)
    ~else
    ~   if (tagis[gnAcc.gnRAW_ST] > 0) then
    ~      if (option[gnPowF].selection > 0) then
    ~         unit.stat[St] = ((unit.basestat[St] * 2) - 1)
    ~      endif
    ~   endif
    ~endif

  ~ deal with strength adjustments, take the present strength adjuster and add this to the strength stat.    Minus modifiers work in the same way (principle of adding a negative number).  Tags used are the range     plusStrN or minusStrN where N is the value to adjust

  ~ first check for the presence of the relevant tags
  if (unit.tagis[statAdj.plusStr?] + unit.tagis[statAdj.minusStr?] > 0) then

    var strDiff as number
    strDiff = unit.tagmax[statAdj.plusStr?]
    ~ if strDiff is zero then no plus modifiers are present so it is a negative
    if (strDiff = 0) then

      ~ get the tag value and turn it into a negative value
      strDiff = unit.tagmax[statAdj.minusStr?]
      strDiff = strDiff - (2 * strDiff)
    endif

    unit.stat[St] = unit.basestat[St] + strDiff
  endif
~endif]]></procedure>
    <procedure id="gnInv2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 2+ inv save

var setSave as number
setSave = 2
call gnInvSavei</procedure>
    <procedure id="gnInv3" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 3+ inv save

var setSave as number
setSave = 3
call gnInvSavei</procedure>
    <procedure id="gnInv4" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 4+ inv save

var setSave as number
setSave = 4
call gnInvSavei</procedure>
    <procedure id="gnInv5" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Sets 5+ inv save

var setSave as number
setSave = 5
call gnInvSavei</procedure>
    <procedure id="gnTpt16">~ makes a unit a transport with a capacity of 16
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap16]</procedure>
    <procedure id="gnChildren">~ script called by eval section of an option, assigns tag from statAdj.  Makes child unit no grouping

var retval as number
retval = children.delete[Group.?]</procedure>
    <procedure id="gnAddCCWU" scripttype="postlinks"><![CDATA[~ Add one 'CCW' tag to the unit for every instance taken. Thus, the number of CCWs the unit has is represented by the number of CCW tags.
~ statAdj script handles actual adding of attacks to stat

var retval as number
retval = assign[statAdj.addCCW]]]></procedure>
    <procedure id="gnAddForce" context="link">~ Add one force weapon tag to the unit for every instance taken. Thus, the number of force weapon CCWs the unit has is represented by the number of force weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.forceW]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddLight" context="link">~ Add one lightning claw weapon tag to the unit for every instance taken. Thus, the number of lightning claw weapon CCWs the unit has is represented by the number of lightning claw weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.lightC]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddPois" context="link">~ Add one poison weapon tag to the unit for every instance taken. Thus, the number of poison weapon CCWs the unit has is represented by the number of poison weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.poisonW]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddPowW" context="link">~ Add one power weapon tag to the unit for every instance taken. Thus, the number of power weapon CCWs the unit has is represented by the number of power weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.powerW]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddRend" context="link">~ Add one rending weapon tag to the unit for every instance taken. Thus, the number of rending weapon CCWs the unit has is represented by the number of rending weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.rendingW]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddPowF" context="link">~ Add one power fist tag to the unit for every instance taken. Thus, the number of power fist CCWs the unit has is represented by the number of power fist tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.powerF]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddThund" context="link">~ Add one thunder hammer weapon tag to the unit for every instance taken. Thus, the number of thunder hammer weapon CCWs the unit has is represented by the number of thunder hammer weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.thunderH]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddWitch" context="link">~ Add one witch weapon tag to the unit for every instance taken. Thus, the number of witch weapon CCWs the unit has is represented by the number of witch weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.witchB]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnAddSpec" context="link">~ Add one special weapon tag to the unit for every instance taken. Thus, the number of special weapon CCWs the unit has is represented by the number of special weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.specialWpn]
next</procedure>
    <procedure id="gnAddChaF" context="link">~ Add one chain fist tag to the unit for every instance taken. Thus, the number of chain fist CCWs the unit has is represented by the number of chain fist tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.chainF]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gnInvSavei" scripttype="evaluate">~ to call script declare a variable called setSave as number
~ set this value to be the required invunerable save
~eg:
~ var setSave as number
~ setSave = 3
~ call gnInvSave

~ this will tag the unit to have a 3+ invunerable save

~ declare variables
var retval as number
var setSave as number

~ 2+ inv save
if (setSave = 2) then

  retval = unit.assign[statAdj.inv2]
  done
endif
~ 3+ inv save
if (setSave = 3) then

  retval = unit.assign[statAdj.inv3]
  done
endif
~ 4+ inv save
if (setSave = 4) then

  retval = unit.assign[statAdj.inv4]
  done
endif
~ 5+ inv save
if (setSave = 5) then

  retval = unit.assign[statAdj.inv5]
  done
endif
~ 6+ inv save
if (setSave = 6) then

  retval = unit.assign[statAdj.inv6]
  done
endif
</procedure>
    <procedure id="gnSavei" scripttype="evaluate">~ to call script declare a variable called setStdSave as number
~ set this value to be the required invunerable save
~eg:
~ var setStdSave as number
~ setStdSave = 3
~ call gnSave

~ declare variables
var retval as number
var setStdSave as number

~ 2+ save
if (setStdSave = 2) then

  retval = unit.assign[statAdj.save2]
  done
endif
~ 3+ save
if (setStdSave = 3) then

  retval = unit.assign[statAdj.save3]
  done
endif
~ 4+ save
if (setStdSave = 4) then

  retval = unit.assign[statAdj.save4]
  done
endif
~ 5+ save
if (setStdSave = 5) then

  retval = unit.assign[statAdj.save5]
  done
endif
~ 6+ save
if (setStdSave = 6) then

  retval = unit.assign[statAdj.save6]
  done
endif
</procedure>
    <procedure id="gnAdjStri" scripttype="evaluate">~ to call script declare a variable called adjStr as number
~ set this value to be the required strength change, inc negatives
~eg:
~ var adjStr as number
~ adjStr = -2
~ call gnAdjStr

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var adjStr as number

~ add +1 str
if (adjStr = 1) then

  retval = unit.assign[statAdj.plusStr1]
  done
endif
~ add +2 str
if (adjStr = 2) then

  retval = unit.assign[statAdj.plusStr2]
  done
endif
~ add +3 str
if (adjStr = 3) then

  retval = unit.assign[statAdj.plusStr3]
  done
endif
~ subtract 1 str
if (adjStr = -1) then

  retval = unit.assign[statAdj.minusStr1]
  done
endif
~ subtract 2 str
if (adjStr = -2) then

  retval = unit.assign[statAdj.minusStr2]
  done
endif
~ subtract 3 str
if (adjStr = -3) then

  retval = unit.assign[statAdj.minusStr3]
  done
endif</procedure>
    <procedure id="gnMultStri" scripttype="evaluate">~ to call script declare a variable called setStr as number
~ set this value to be the required strength increment
~eg:
~ var setStr as number
~ setStr = 2
~ call gnAdjStr

~ this will tag the unit to double the strength

~ declare the variables
var retval as number
var setStr as number

~ double the strength
if (setStr = 2) then

  retval = unit.assign[statAdj.xStr2]
  done
endif

~ triple the strength
if (setStr = 3) then

  retval = unit.assign[statAdj.xStr3]
  done
endif</procedure>
    <procedure id="gnAdjBi" scripttype="evaluate">~ to call script declare a variable called BS as number
~ set this value to be the required  BS change, inc negatives
~eg:
~ var BS as number
~ BS = -2
~ call gnAdjB

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var BS as number

~ increase  BS by 1
if (BS = 1) then

  retval = unit.assign[statAdj.BSP1]
  done
endif
~ increase  BS by 2
if (BS = 2) then

  retval = unit.assign[statAdj.BSP2]
  done
endif
~ increase  BS by 3
if (BS = 3) then

  retval = unit.assign[statAdj.BSP3]
  done
endif

~ decrease  BS by 1
if (BS = -1) then

  retval = unit.assign[statAdj.BSM1]
  done
endif
~ decrease  BS by 2
if (BS = -2) then

  retval = unit.assign[statAdj.BSM2]
  done
endif
~ decrease  BS by 3
if (BS = -3) then

  retval = unit.assign[statAdj.BSM3]
  done
endif</procedure>
    <procedure id="gnAdjBasBi" scripttype="evaluate">~ to call script declare a variable called baseBS as number
~ set this value to be the required base BS change, inc negatives
~eg:
~ var baseBS as number
~ baseBS = -2
~ call gnAdjBaseB

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseBS as number

~ increase base BS by 1
if (baseBS = 1) then

  retval = unit.assign[statAdj.baseBSP1]
  done
endif
~ increase base BS by 2
if (baseBS = 2) then

  retval = unit.assign[statAdj.baseBSP2]
  done
endif
~ increase base BS by 3
if (baseBS = 3) then

  retval = unit.assign[statAdj.baseBSP3]
  done
endif

~ decrease base BS by 1
if (baseBS = -1) then

  retval = unit.assign[statAdj.baseBSM1]
  done
endif
~ decrease base BS by 2
if (baseBS = -2) then

  retval = unit.assign[statAdj.baseBSM2]
  done
endif
~ decrease base BS by 3
if (baseBS = -3) then

  retval = unit.assign[statAdj.baseBSM3]
  done
endif</procedure>
    <procedure id="gnAdjBasWi" scripttype="evaluate">~ to call script declare a variable called baseWS as number
~ set this value to be the required base WS change, inc negatives
~eg:
~ var baseWS as number
~ baseWS = -2
~ call gnAdjBaseW

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseWS as number

~ increase base WS by 1
if (baseWS = 1) then

  retval = unit.assign[statAdj.baseWSP1]
  done
endif
~ increase base WS by 2
if (baseWS = 2) then

  retval = unit.assign[statAdj.baseWSP2]
  done
endif
~ increase base WS by 3
if (baseWS = 3) then

  retval = unit.assign[statAdj.baseWSP3]
  done
endif

~ decrease base WS by 1
if (baseWS = -1) then

  retval = unit.assign[statAdj.baseWSM1]
  done
endif
~ decrease base WS by 2
if (baseWS = -2) then

  retval = unit.assign[statAdj.baseWSM2]
  done
endif
~ decrease base WS by 3
if (baseWS = -3) then

  retval = unit.assign[statAdj.baseWSM3]
  done
endif</procedure>
    <procedure id="gnAdjBasSi" scripttype="evaluate">~ to call script declare a variable called baseSt as number
~ set this value to be the required base St change, inc negatives
~eg:
~ var baseSt as number
~ baseSt = -2
~ call gnAdjBaseS

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseSt as number

~ increase base St by 1
if (baseSt = 1) then

  retval = unit.assign[statAdj.baseStP1]
  done
endif
~ increase base St by 2
if (baseSt = 2) then

  retval = unit.assign[statAdj.baseStP2]
  done
endif
~ increase base St by 3
if (baseSt = 3) then

  retval = unit.assign[statAdj.baseStP3]
  done
endif

~ decrease base St by 1
if (baseSt = -1) then

  retval = unit.assign[statAdj.baseStM1]
  done
endif
~ decrease base St by 2
if (baseSt = -2) then

  retval = unit.assign[statAdj.baseStM2]
  done
endif
~ decrease base St by 3
if (baseSt = -3) then

  retval = unit.assign[statAdj.baseStM3]
  done
endif</procedure>
    <procedure id="gnAdjWi" scripttype="evaluate">~ to call script declare a variable called WS as number
~ set this value to be the required  WS change, inc negatives
~eg:
~ var WS as number
~ WS = -2
~ call gnAdjB

~ this will tag the unit to reduce WS by 2

~ declare the variables
var retval as number
var WS as number

~ increase  WS by 1
if (WS = 1) then

  retval = unit.assign[statAdj.WSP1]
  done
endif
~ increase  WS by 2
if (WS = 2) then

  retval = unit.assign[statAdj.WSP2]
  done
endif
~ increase  WS by 3
if (WS = 3) then

  retval = unit.assign[statAdj.WSP3]
  done
endif

~ decrease  WS by 1
if (WS = -1) then

  retval = unit.assign[statAdj.WSM1]
  done
endif
~ decrease  WS by 2
if (WS = -2) then

  retval = unit.assign[statAdj.WSM2]
  done
endif
~ decrease  WS by 3
if (WS = -3) then

  retval = unit.assign[statAdj.WSM3]
  done
endif</procedure>
    <procedure id="gnChgGrpi" scripttype="evaluate"><![CDATA[~ script called from entity done, uses tags from statdj, changes Group tag to new assigned group mentioned by tag

~ declare variables
var retval as number

~ no tag required then exit, no change to squad name
if (unit.tagis[statAdj.toNone] > 0) then

  retval = unit.delete[Group.?]
~  done
endif

~ change to HQ
if (unit.tagis[statAdj.toHQ] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.HQ]
  squad.name = $hq
endif
~ change to elite
if (unit.tagis[statAdj.toElite] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Elite]
  squad.name = $elite
endif
~ change to troops
if (unit.tagis[statAdj.toTroop] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Troop]
  squad.name = $troop
endif
~ change to fast attack
if (unit.tagis[statAdj.toFast] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Fast]
  squad.name = $fastAttack
endif
~ change to heavy
if (unit.tagis[statAdj.toHeavy] > 0) then

  retval = unit.delete[Group.?]
  retval = unit.assign[Group.Heavy]
  squad.name = $heavy
endif]]></procedure>
    <procedure id="gnAddPowFi">~ Add one power fist tag to the unit for every instance taken. Thus, the number of power fist CCWs the unit has is represented by the number of power fist tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
var selection as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.powerF]
next

~ Add a special CCW weapon tag
call gnAddSpeci</procedure>
    <procedure id="gnAddSpeci">~ Add one special weapon tag to the unit for every instance taken. Thus, the number of special weapon CCWs the unit has is represented by the number of special weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
var selection as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.specialWpn]
next</procedure>
    <procedure id="gnAddChaFi">~ Add one chain fist tag to the unit for every instance taken. Thus, the number of chain fist CCWs the unit has is represented by the number of chain fist tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
var selection as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.chainF]
next

~ Add a special CCW weapon tag
call gnAddSpeci</procedure>
    <procedure id="gnAddPowWi">~ Add one power weapon tag to the unit for every instance taken. Thus, the number of power weapon CCWs the unit has is represented by the number of power weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
var selection as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.powerW]
next

~ Add a special CCW weapon tag
call gnAddSpeci</procedure>
    <procedure id="gnAddThuni">~ Add one thunder hammer weapon tag to the unit for every instance taken. Thus, the number of thunder hammer weapon CCWs the unit has is represented by the number of thunder hammer weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
var selection as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.thunderH]
next

~ Add a special CCW weapon tag
call gnAddSpeci</procedure>
    <procedure id="gnTpt20">~ makes a unit a transport with a capacity of 20
var retval as number

~ first assign the transport tag
retval = assign[gnAcc.gnTpt]

~ next assign the capacity
retval = assign[gnAcc.gnCap20]</procedure>
    <procedure id="gnAdjBasOi" scripttype="evaluate">~ to call script declare a variable called baseWo as number
~ set this value to be the required base Wo change, inc negatives
~eg:
~ var baseWo as number
~ baseWo = -2
~ call gnAdjBaseI

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseWo as number

~ increase base Wo by 1
if (baseWo = 1) then

  retval = unit.assign[statAdj.baseWoP1]
  done
endif
~ increase base Wo by 2
if (baseWo = 2) then

  retval = unit.assign[statAdj.baseWoP2]
  done
endif
~ increase base Wo by 3
if (baseWo = 3) then

  retval = unit.assign[statAdj.baseWoP3]
  done
endif

~ decrease base Wo by 1
if (baseWo = -1) then

  retval = unit.assign[statAdj.baseWoM1]
  done
endif
~ decrease base Wo by 2
if (baseWo = -2) then

  retval = unit.assign[statAdj.baseWoM2]
  done
endif
~ decrease base Wo by 3
if (baseWo = -3) then

  retval = unit.assign[statAdj.baseWoM3]
  done
endif</procedure>
    <procedure id="gnAdjBasI">~ to call script declare a variable called baseIn as number
~ set this value to be the required base In change, inc negatives
~eg:
~ var baseIn as number
~ baseIn = -2
~ call gnAdjBaseI

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var baseIn as number

~ increase base In by 1
if (baseIn = 1) then

  retval = unit.assign[statAdj.baseInP1]
  done
endif
~ increase base In by 2
if (baseIn = 2) then

  retval = unit.assign[statAdj.baseInP2]
  done
endif
~ increase base In by 3
if (baseIn = 3) then

  retval = unit.assign[statAdj.baseInP3]
  done
endif

~ decrease base In by 1
if (baseIn = -1) then

  retval = unit.assign[statAdj.baseInM1]
  done
endif
~ decrease base In by 2
if (baseIn = -2) then

  retval = unit.assign[statAdj.baseInM2]
  done
endif
~ decrease base In by 3
if (baseIn = -3) then

  retval = unit.assign[statAdj.baseInM3]
  done
endif</procedure>
    <procedure id="gnAddIni1" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to initiative

var adjIni as number
adjIni = 1
call gnAdjInii</procedure>
    <procedure id="gnAddIni1i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to initiative

var adjIni as number
adjIni = 1
call gnAdjIni</procedure>
    <procedure id="gnAdjIni">~ to call script declare a variable called adjStr as number
~ set this value to be the required strength change, inc negatives
~eg:
~ var adjIni as number
~ adjIni = -2
~ call gnAdjIni

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var adjIni as number

~ add +1 ini
if (adjIni = 1) then
  retval = unit.assign[statAdj.plusIni1]
  done
endif

~ add +2 ini
if (adjIni = 2) then
  retval = unit.assign[statAdj.plusIni2]
  done
endif</procedure>
    <procedure id="gnAdjInii" scripttype="evaluate">~ to call script declare a variable called adjStr as number
~ set this value to be the required strength change, inc negatives
~eg:
~ var adjIni as number
~ adjIni = -2
~ call gnAdjIni

~ this will tag the unit to reduce strength by 2

~ declare the variables
var retval as number
var adjIni as number

~ add +1 ini
if (adjIni = 1) then
  retval = unit.assign[statAdj.plusIni1]
  done
endif

~ add +2 ini
if (adjIni = 2) then
  retval = unit.assign[statAdj.plusIni2]
  done
endif</procedure>
    <procedure id="gnStatAdj4"><![CDATA[~ script called from entity done global script, calls all relevant subscripts
~ and uses tags from the statAdj group held in the def file

~ ============== Initiative adjustments =====================================
~ deal with adjustments to Initiative.  Take the highest adjustment tag, i.e. AddIni1, take the tagvalue and adjust the In by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.plusIni?] + unit.tagis[statAdj.plusIni?] > 0) then

  var AddInAdj as number
  AddInAdj = unit.tagmax[statAdj.plusIni?]
  ~ if AddInAdj is zero then no plus modifiers are present so it is negative
~  if (AddInAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
~    AddInAdj = unit.tagmax[statAdj.plusIni?]
~    AddInAdj = AddInAdj - (2 * AddInAdj)
~  endif

  unit.stat[In] = unit.stat[In] + AddInAdj
endif

~ ============== HP adjustments =====================================
~ deal with adjustments to HP.  Take the highest adjustment tag, i.e. AddHP1, take the tagvalue and adjust the HP by the same amount.  Positive modifiers are dealt with first then negative modifiers

~ first check for the presence of a tag
if (unit.tagis[statAdj.plusHP?] + unit.tagis[statAdj.plusHP?] > 0) then

  var AddHPAdj as number
  AddHPAdj = unit.tagmax[statAdj.plusHP?]
  ~ if AddInHPj is zero then no plus modifiers are present so it is negative
~  if (AddHPAdj = 0) then

    ~ get the tagvalue and turn it into a negative value
~    AddHPAdj = unit.tagmax[statAdj.plusHP?]
~    AddHPAdj = AddHPAdj - (2 * AddHPAdj)
~  endif

  unit.stat[HP] = unit.stat[HP] + AddHPAdj
endif]]></procedure>
    <procedure id="gnAddIni2" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to initiative

var adjIni as number
adjIni = 2
call gnAdjInii</procedure>
    <procedure id="gnAddIni2i">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to initiative

var adjIni as number
adjIni = 2
call gnAdjIni</procedure>
    <procedure id="gn6_AdSWT" context="link">~ Add one Special Weapon Tag to the unit for every instance taken. Thus, the number of Special Weapon CCWs the unit has is represented by the number of Special Weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.gn6_spcwpn]
next

~ Add a special CCW weapon tag
call gnAddSpec</procedure>
    <procedure id="gn6_AdSWTi">~ Add one Special Weapon tag to the unit for every instance taken. Thus, the number of Special Weapon CCWs the unit has is represented by the number of Special Weapon tags.
~ statAdj script handles actual adding of attacks to stat

var i as number
var selcount as number
var retval as number
var selection as number

selcount = selection
for i = 1 to selcount

  retval = unit.assign[statAdj.gn6_spcwpn]
next

~ Add a special CCW weapon tag
call gnAddSpeci</procedure>
    <procedure id="gnAlly" scripttype="postlinks"><![CDATA[if (tagis[ally.?] > 0) then
  var retval as number

  if (tagis[Group.HQ] > 0) then
    retval = assign[gnAllyGrp.gnAllyHQ]
    name = name & $allyHQ
    call gnToNonei
  endif

  if (tagis[Group.Troop] > 0) then
    retval = assign[gnAllyGrp.gnAllyTrp]
    name = name & $allyTroop
    call gnToNonei
  endif

  if (tagis[Group.Elite] > 0) then
    retval = assign[gnAllyGrp.gnAllyElit]
    name = name & $allyElite
    call gnToNonei
  endif

  if (tagis[Group.Fast] > 0) then
    retval = assign[gnAllyGrp.gnAllyFast]
    name = name & $allyFast
    call gnToNonei
  endif

  if (tagis[Group.Heavy] > 0) then
    retval = assign[gnAllyGrp.gnAllyHvy]
    name = name & $allyHeavy
    call gnToNonei
  endif

endif]]></procedure>
    <procedure id="gnAddHPi" scripttype="evaluate">~ script called by eval section of an option, makes appropriate calls to the script.  Adds 1 to HP

var adjHP as number
adjHP = 1
call gnAdjHPi</procedure>
    <procedure id="gnAdjHPi" scripttype="evaluate">~ to call script declare a variable called adjHP as number
~ set this value to be the required strength change, inc negatives
~eg:
~ var adjIni as number
~ adjHP = 2
~ call gnAdjHP

~ this will tag the unit to increase HP by 1

~ declare the variables
var retval as number
var adjHP as number

~ add +1 HP
if (adjHP = 1) then
  retval = unit.assign[statAdj.plusHP1]
  done
endif

~ add +2 HP
if (adjHP = 2) then
  retval = unit.assign[statAdj.plusHP2]
  done
endif</procedure>
    </scripts>
  <rule id="gnTpt01" message="This unit is not allowed a transport" summary="Transport not allowed" scope="squad">
    <test/>
    <valid><![CDATA[~ ** ammended **
~ this routine only applies to non-roster choice transports such as chimeras, rhinos, trucks etc NOT to heavy choice transports such as landraiders, battlewagons and the like
if (tagis[gnAcc.gnTptHvy] > 0) then

  @valid = 1
  done
endif

~check if the unit is allowed a transport by comparing against the accrued tags from the def file
if (tagis[gnAcc.gnTptOk] > 0) then

  @valid = 1
  done
endif

~if reaches this point then the unit is not marked as being allowed a transport, now check if the unit has been given a transport
if (tagis[gnAcc.gnTpt] < 1) then

    @valid = 1
    done
endif

~if reaches this point then the unit is not allowed a transport but one has been given to it
@valid = 0
]]></valid>
    </rule>
  <rule id="limitItem2" message="You are only allowed two of these items in the army list" summary="0 - 2 Limit on item" scope="merge">
    <test>limited.limitI2</test>
    <valid><![CDATA[if (count[basic] <= tagvalue[limited.limitI?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="gnAllyFast" message="Each Allied Detachment must have 0-1 Fast." summary="Composition &apos;Allied Fast&apos; (0-1)">
    <test/>
    <valid><![CDATA[var allies as number
var allyGrp as number
var limit as number

limit = 1

if (tagis[ruleset.ro_2ndAlly] = 1) then
  limit = 2
  @summary = "Composition 'Allied Fast' (0-2)"
endif


allies = tagcount[ally.?]
allyGrp = tagcount[gnAllyGrp.gnAllyFast]

if (allies < 1) then
  @valid = 1

else
  if (allyGrp <= limit) then
    @valid = 1

  endif
endif

if (tagis[ruleset.ro_Apoc] = 1) then
  @valid = 1

endif]]></valid>
    </rule>
  <rule id="bmNamed2" message="You may take only one named character." summary="You may take only one named character.">
    <set set="sc_Heroes"/>
    <test/>
    <valid><![CDATA[if (overall.tagcount[gnAcc.gnNameChar] <= 1) then
   @valid = 1
endif]]></valid>
    </rule>
  <rule id="gnAllyTrps" message="Each Allied Detachment must have 1-2 troops." summary="Composition &apos;Allied Troops&apos; (1-2)">
    <test/>
    <valid><![CDATA[var allies as number
var allyGrp as number

allies = tagcount[ally.?]
allyGrp = tagcount[gnAllyGrp.gnAllyTrp]

if (allies < 1) then
  @valid = 1

else
  if (tagis[ruleset.ro_2ndAlly] < 1) then
    if (allyGrp <= 2) then
      if (allyGrp > 0) then
        @valid = 1

      endif
    endif
  else
    @summary = "Composition 'Allied Troops' (2-4)"
    if (allyGrp <= 4) then
      if (allyGrp > 1) then
        @valid = 1

      endif
    endif
  endif
endif

if (tagis[ruleset.ro_Apoc] = 1) then
  @valid = 1

endif]]></valid>
    </rule>
  <rule id="gnAllyElit" message="Each Allied Detachment must have 0-1 Elite." summary="Composition &apos;Allied Elite&apos; (0-1)">
    <test/>
    <valid><![CDATA[var allies as number
var allyGrp as number
var limit as number

limit = 1

if (tagis[ruleset.ro_2ndAlly] = 1) then
  limit = 2
  @summary = "Composition 'Allied Elite' (0-2)"
endif

allies = tagcount[ally.?]
allyGrp = tagcount[gnAllyGrp.gnAllyElit]

if (allies < 1) then
  @valid = 1

else
  if (allyGrp <= limit) then
    @valid = 1

  endif
endif

if (tagis[ruleset.ro_Apoc] = 1) then
  @valid = 1

endif]]></valid>
    </rule>
  <rule id="gnAllyHQ" message="Each Allied Detachment must have 1 HQ." summary="Composition &apos;Allied HQ&apos; (1)">
    <test/>
    <valid><![CDATA[var allies as number
var allyGrp as number

allies = tagcount[ally.?]
allyGrp = tagcount[gnAllyGrp.gnAllyHQ]

if (allies < 1) then
  @valid = 1

else

~ ocrrection for Daemonic Heralds
  if (tagis[ally.cd] = 1) then
    var corr as number
    var hrld as number
    hrld = tagcount[cdFATags.Herald]
    corr = hrld/2
    corr = round(corr,0,-1)
    allyGrp = allyGrp - corr
  endif

~ ocrrection for Unlocked HQ units
  if (tagis[gnAllyGrp.gnFreeHQ] > 0) then
    var corr as number
    corr = tagcount[gnAllyGrp.gnFreeHQ]
    allyGrp = allyGrp - corr
  endif

~ resume normal
  if (tagis[ruleset.ro_2ndAlly] < 1) then
    if (allyGrp <= 1) then
      if (allyGrp > 0) then
        @valid = 1
    
      endif
    endif
  else
    @summary = "Composition 'Allied HQ' (2)"
    if (allyGrp <= 2) then
      if (allyGrp > 1) then
        @valid = 1

      endif
    endif
  endif
endif

if (tagis[ruleset.ro_Apoc] = 1) then
  @valid = 1

endif]]></valid>
    </rule>
  <rule id="lmt2ndPrim" message="Invalid Roster: Second Primary Detachments require 2000+ point lists." summary="Set roster to 2000+ points">
    <test/>
    <valid><![CDATA[@valid = 1

if (tagis[ruleset.ro_2ndPrim] = 1) then

~ get current size of the roster
var rosterSize as number
rosterSize = roster.usersize

  if (rosterSize < 2000) then
    @valid = 0

  endif
endif]]></valid>
    </rule>
  <rule id="gnAllyHvy" message="Each Allied Detachment must have 0-1 Heavy." summary="Composition &apos;Allied Heavy&apos; (0-1)">
    <test/>
    <valid><![CDATA[var allies as number
var allyGrp as number
var limit as number

limit = 1

if (tagis[ruleset.ro_2ndAlly] = 1) then
  limit = 2
  @summary = "Composition 'Allied Heavy' (0-2)"
endif


allies = tagcount[ally.?]
allyGrp = tagcount[gnAllyGrp.gnAllyHvy]

if (allies < 1) then
  @valid = 1

else
  if (allyGrp <= limit) then
    @valid = 1

  endif
endif

if (tagis[ruleset.ro_Apoc] = 1) then
  @valid = 1

endif]]></valid>
    </rule>
  <rule id="limitItem4" message="You are only allowed four of these items in the army list" summary="0 - 4 Limit on item" scope="merge">
    <test>limited.limitI4</test>
    <valid><![CDATA[if (count[basic] <= tagvalue[limited.limitI?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="limitItem3" message="You are only allowed three of these items in the army list" summary="0 - 3 Limit on item" scope="merge">
    <test>limited.limitI3</test>
    <valid><![CDATA[if (count[basic] <= tagvalue[limited.limitI?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="limitUnit3" message="You are only allowed three of these units in the army list" summary="0 - 3 Limit on unit" scope="merge">
    <test>limited.limit3</test>
    <valid><![CDATA[if (count[unit] <= tagvalue[limited.limit?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="limitUnit2" message="You are only allowed two of these units in the army list" summary="0 - 2 Limit on unit" scope="merge">
    <test>limited.limit2</test>
    <valid><![CDATA[if (count[unit] <= tagvalue[limited.limit?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="Warlord" message="You must have one Warlord in the army list" summary="There can be only one Warlord">
    <test/>
    <valid><![CDATA[~ If Kill Team Battle Mission is in force, ignore the rest of this rule
if (tagcount[ruleset.sc_KillT] = 1) then
   @valid = 1
   done
endif

if (tagcount[gnAcc.is_Warlord] = 0) then
  @summary = "There must be one Warlord"
  elseif (tagcount[gnAcc.is_Warlord] > 1) then
    done
else
  @valid = 1
endif]]></valid>
    </rule>
  <rule id="unofficial" message="Warning: The current roster or units within it may need opponents&apos;s permission to use." summary="Unofficial units/roster" severity="warning">
    <test/>
    <valid><![CDATA[if (tagcount[ruleset.ro_NCM] < 1) then

 @valid = 1
endif

if (tagis[ruleset.ro_SpHd] = 1) then
  @valid = 1
endif]]></valid>
    </rule>
  <rule id="limitUnit1" message="You are only allowed one of these units in the army list" summary="0 - 1 Limit on unit" scope="merge">
    <test>limited.limit1</test>
    <valid><![CDATA[if (count[unit] <= tagvalue[limited.limit?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="unique" message="You may only take one of each Unique Character." summary="You may only take one of each Unique Character." scope="merge">
    <test/>
    <valid><![CDATA[if (tagcount[limited.unique] <= 1) then
   @valid = 1
endif]]></valid>
    </rule>
  <rule id="limitUnit5" message="You are only allowed five of these units in the army list" summary="0 - 5 Limit on unit" scope="merge">
    <test>limited.limit5</test>
    <valid><![CDATA[if (count[unit] <= tagvalue[limited.limit?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="gnTpt03" message="This unit is not allowed a transport" summary="Transport not allowed" scope="squad">
    <test/>
    <valid><![CDATA[~ ** new **
~ this routine only applies to heavy choice transports such as landraiders, battlewagons and the like
if (tagis[gnAcc.gnTpt] > 0) then

  @valid = 1
  done
endif

~if reaches this point then the unit is not marked as being allowed a transport, now check if the unit has been given a transport
if (tagis[gnAcc.gnTpt] < 1) then

    @valid = 1
    done
endif

~if reaches this point then the unit is not allowed a transport but one has been given to it
@valid = 0
]]></valid>
    </rule>
  <rule id="bmToobig" message="Invalid Roster: Kill Team rosters are limited to 200 points." summary="Set roster to 200 points">
    <test/>
    <valid><![CDATA[@valid = 1

if (tagis[ruleset.sc_KillT] = 1) then

  if (tagis[roster.size200] < 1) then
    @valid = 0

  endif
endif]]></valid>
    </rule>
  <rule id="limitItem5" message="You are only allowed five of these items in the army list" summary="0 - 5 Limit on item" scope="merge">
    <test>limited.limitI5</test>
    <valid><![CDATA[if (count[basic] <= tagvalue[limited.limitI?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="limitUnit4" message="You are only allowed four of these units in the army list" summary="0 - 4 Limit on unit" scope="merge">
    <test>limited.limit4</test>
    <valid><![CDATA[if (count[unit] <= tagvalue[limited.limit?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="gnTpt02" message="The unit size has exceeded the capacity of the transport" summary="Transport capacity exceeded" scope="squad" priority="100">
    <test/>
    <valid><![CDATA[~ check if the unit is an AP formation, if so then exit
if (tagis[gnAcc.gnAPForm] > 0) then

  @valid = 1
  done
endif

~ check if the unit is set to ignore, if so then exit
if (tagis[gnAcc.noTptCap] > 0) then

  @valid = 1
  done
endif

~check if the unit has a transport by comparing against the accrued tags from the def file
if (tagis[gnAcc.gnTpt] + tagis[gnAcc.gnTptHvy] < 1) then

  @valid = 1
  done
endif

~if reaches this point then the unit has a transport, now check against the stat gnTptCap against the tagged capacity
if (stat[gnTptCap] <= tagvalue[gnAcc.gnCap?]) then

  @valid = 1
  done
endif

~if it reaches this point a vehicle has been added and the unit stat is more than the tagged capacity
@valid = 0
]]></valid>
    </rule>
  <rule id="bmNamed1" message="Invalid Roster: Clash of Titans requires a Named Character." summary="Add Named Character">
    <test/>
    <valid><![CDATA[@valid = 1

if (tagis[ruleset.sc_Heroes] = 1) then

~  if (tagis[unitid.bmNamed] <> 1) then
  if (tagis[gnAcc.gnNameChar] <> 1) then
    @valid = 0

  endif
endif]]></valid>
    </rule>
  <rule id="gnLdr01" message="This unit is not allowed a character" summary="Character not allowed" scope="squad">
    <test/>
    <valid><![CDATA[~check if the unit is allowed a character by comparing against the accrued tags from the def file
if (tagis[gnAcc.gnLdrOK] > 0) then

  @valid = 1
  done
endif

~if reaches this point then the unit is not marked as being allowed a leader, now check if the unit has been given a leader
if (tagis[gnAcc.gnLdr] < 1) then

  @valid = 1
  done
endif

~if reaches this point then the unit is not allowed a transport but one has been given to it
@valid = 0
]]></valid>
    </rule>
  <rule id="bmBadunit" message="No HQ or Heavy Support units are permitted in Kill Teams." summary="No HQ or Heavy Support" scope="unit">
    <test/>
    <valid>@valid = 1

if (tagis[ruleset.sc_KillT] = 1) then

  if (tagis[filter.invalid] = 1) then
    @valid = 0

  endif
endif</valid>
    </rule>
  <rule id="limitItem1" message="You are only allowed one of these items in the army list" summary="0 - 1 Limit on item" scope="merge">
    <test>limited.limitI1</test>
    <valid><![CDATA[if (count[basic] <= tagvalue[limited.limitI?]) then

  @valid = 1
endif]]></valid>
    </rule>
  <rule id="rosterLimt" message="Character is only allowed in certain size rosters" summary="Roster size limitation" scope="unit">
    <test/>
    <valid><![CDATA[~first check for presence of limiting tags, if none found then mark as valid and exit
if (tagis[limited.rstr?] = 0) then

  @valid = 1
  done
endif

~ check to see if a limit has been set, if not then exit
if (roster.usersize = 999999) then

  @valid = 1
  done
endif

~ get current size of the roster
var rosterSize as number
rosterSize = roster.usersize

~ get points limitation of character (numerical value of tag * 100)
var charLimit as number
charLimit = tagmax[limited.rstr?]

~ compare values and flag as valid if necc
if (rosterSize >= charLimit) then

  @valid = 1
endif]]></valid>
    </rule>
  <statcalc id="Fastperc" name=" % Fast" scope="tree" priority="40" decimals="1">
    <display/>
    <test>Group.Fast</test>
    <tally>@value=@value+cost[total]
</tally>
    <calc>@value=@value*100/cost[total]</calc>
    </statcalc>
  <statcalc id="Fortperc" name=" % Fortification" scope="tree" priority="60" decimals="1">
    <display/>
    <test>Group.Fort</test>
    <tally>@value = @value + cost[total]
</tally>
    <calc>@value = @value*100 / cost[total]</calc>
    </statcalc>
  <statcalc id="HQperc" name=" % HQ" scope="tree" decimals="1">
    <display/>
    <test>Group.HQ</test>
    <tally>@value=@value+cost[total]</tally>
    <calc>@value=@value*100/cost[total]</calc>
    </statcalc>
  <statcalc id="gnCountHQ" name="Count overall HQ" visibility="hidden">
    <display/>
    <test/>
    <tally>@value = tally[unit:Group.HQ]</tally>
    <calc/>
    </statcalc>
  <statcalc id="Eliteperc" name=" % Elite" scope="tree" priority="20" decimals="1">
    <display/>
    <test>Group.Elite</test>
    <tally>@value=@value+cost[total]
</tally>
    <calc>@value=@value*100/cost[total]</calc>
    </statcalc>
  <statcalc id="Troopperc" name=" % Troops" scope="tree" priority="30" decimals="1">
    <display/>
    <test>Group.Troop</test>
    <tally>@value=@value+cost[total]
</tally>
    <calc>@value=@value*100/cost[total]</calc>
    </statcalc>
  <statcalc id="gnFileVers" name="Files version" priority="90" decimals="2">
    <display/>
    <test/>
    <calc>@value = 1.17</calc>
    </statcalc>
  <statcalc id="HAperc" name=" % Heavy" scope="tree" priority="50" decimals="1">
    <display/>
    <test>Group.Heavy</test>
    <tally>@value=@value+cost[total]
</tally>
    <calc>@value=@value*100/cost[total]</calc>
    </statcalc>
  <statcalc id="ModelC" name="Model Count" priority="80">
    <display/>
    <test/>
    <calc>@value=count[model] - tagcount[gnAcc.noCount]</calc>
    </statcalc>
  <statcalc id="WGperc" name=" % Wargear" scope="item" priority="70" decimals="1">
    <display/>
    <test/>
    <tally>@value=@value+cost[total]
</tally>
    <calc>@value=@value*100/cost[total]</calc>
    </statcalc>
  <string id="allyElite" text=" (Elite)"></string>
  <string id="allyFast" text=" (Fast)"></string>
  <string id="allyHQ" text=" (HQ)"></string>
  <string id="allyHeavy" text=" (Heavy)"></string>
  <string id="heavy" text="Heavy Support"></string>
  <string id="elite" text="Elite"></string>
  <string id="troop" text="Troops"></string>
  <string id="nameSep" text=": "></string>
  <string id="D" text="D"></string>
  <string id="stdText" text="{text 010101}"></string>
  <string id="grnText" text="{macro color1}"></string>
  <string id="points" text="Points Left: "></string>
  <string id="lSpacer" text="-- "></string>
  <string id="rSpacer" text=" --"></string>
  <string id="formn" text="Formation"></string>
  <string id="legend" text="Legendary"></string>
  <string id="redText" text="{text ff0000}"></string>
  <string id="D6" text="D6 + "></string>
  <string id="hq" text="HQ"></string>
  <string id="allyTroop" text=" (Troops)"></string>
  <string id="fastAttack" text="Fast Attack"></string>
  </document>
