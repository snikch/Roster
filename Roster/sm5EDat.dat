<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Army Builder Data">
  <linkset id="smOptA">
    <link option="gnSpcWar" priority="10" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="1"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="18"></link>
    <link option="smAGL" priority="20" cost="15." index="19"></link>
    <link option="smHR" priority="20" cost="10." index="22"></link>
    <link option="sm5E_DigWp" priority="20" cost="10." index="20"></link>
    <link option="gnSpcWar" priority="25" index="27"></link>
    <link option="gnWargear" name="{macro color1}-- Replace Power Armour with --{text 010101}" priority="30" index="15"></link>
    <link option="gnArtArm" priority="35" cost="15." index="16">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWar" priority="40" index="24"></link>
    <link option="gnWargear" name="{macro color1}-- May have one of the following --{text 010101}" priority="43" category="wargear" index="25"></link>
    <link option="gn6_SMB_Ch" priority="45" cost="35." index="26">
      <exclref id="range_01a"/>
      <live><![CDATA[!smTags.Captain & !ruleset.smChSiege]]></live>
      </link>
    <link option="gn6_SMB_Ch" priority="45" cost="35." index="17">
      <exclref id="range_01a"/>
      <live><![CDATA[smTags.Captain & !ruleset.smChSiege]]></live>
      </link>
    <link option="gn6_JumpP" priority="45" cost="25." index="23">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWar" priority="48" index="30">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace BoltP / ChSwd with --{text 010101}" priority="60" index="28"></link>
    <link option="gnBoltG" priority="65" cost="0." rangemax="2" category="weapons" textcost="Free" index="3">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombF" priority="65" cost="10." rangemax="2" category="weapons" index="8">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="65" cost="10." rangemax="2" category="weapons" index="9">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="65" cost="10." rangemax="2" category="weapons" index="6">
      <exclref id="onehand"/>
      </link>
    <link option="gnLtCl" priority="65" cost="15." rangemax="2" category="weapons" index="7">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="65" cost="15." rangemax="2" category="weapons" index="5">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="65" cost="25." rangemax="2" category="weapons" index="11">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormB" priority="65" cost="3." rangemax="2" category="weapons" index="4">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormS3" priority="65" cost="15." rangemax="2" category="weapons" index="10">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="65" cost="15." rangemax="2" category="weapons" index="34">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="65" cost="15." rangemax="2" category="weapons" index="32">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="65" cost="15." rangemax="2" category="weapons" index="31">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="65" cost="15." rangemax="2" category="weapons" index="33">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_TH" priority="65" cost="30." rangemax="2" category="weapons" index="13">
      <exclref id="onehand"/>
      </link>
    <link option="smRB" priority="65" cost="30." rangemax="2" category="weapons" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="66" index="29"></link>
    </linkset>
  <linkset id="smOptB">
    <link option="gnSpace" priority="25" category="wargear" index="36">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="38"></link>
    <link option="gnMeltaB_E" priority="35" cost="5." category="wargear" index="37"></link>
    <link option="smAGL" priority="35" cost="15." index="19"></link>
    <link option="smHR" priority="35" cost="10." index="22"></link>
    <link option="sm5E_DigWp" priority="35" cost="10." index="20"></link>
    <link option="gnSpcWar" priority="38" index="40">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="60" index="1"></link>
    <link option="gnCombF" priority="65" cost="5." category="weapons" index="27">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="65" cost="5." category="weapons" index="26">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="65" cost="5." category="weapons" index="28">
      <exclref id="range_01"/>
      </link>
    <link option="gnLtCl" priority="65" cost="10." category="weapons" index="29">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_TH" priority="65" cost="20." category="weapons" index="8">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="70" index="21"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Power Weapon with --{text 010101}" priority="75" index="30"></link>
    <link option="gn6_ChFst" priority="80" cost="15." category="weapons" index="31">
      <exclref id="range_01a"/>
      </link>
    <link option="gnLtCl" priority="80" cost="5." category="weapons" index="32">
      <exclref id="range_01a"/>
      </link>
    <link option="gnPowF" priority="80" cost="10." category="weapons" index="33">
      <exclref id="range_01a"/>
      </link>
    <link option="gnStormS3" priority="80" cost="10." category="weapons" index="34">
      <exclref id="range_01a"/>
      </link>
    <link option="gn6_TH" priority="80" cost="15." category="weapons" index="35">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="81" index="39"></link>
    </linkset>
  <linkset id="smOptAA">
    <link option="gnSpcWar" priority="10" index="14">
      <live><![CDATA[!smTags.Librarian & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="1">
      <live>!smTags.Librarian</live>
      </link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="18">
      <live>!smTags.Librarian</live>
      </link>
    <link option="sm5E_DigWp" priority="20" cost="10." index="20">
      <live>!smTags.Librarian</live>
      </link>
    <link option="gnSpcWar" priority="25" index="29">
      <live><![CDATA[!(smTags.Librarian & ruleset.ro_CompOut)]]></live>
      </link>
    <link option="gnWargear" name="{macro color1}-- May have one of the following --{text 010101}" priority="30" index="25"></link>
    <link option="gn6_JumpP" priority="35" cost="15." index="23">
      <exclref id="range_01a"/>
      <live>smTags.Chaplain</live>
      </link>
    <link option="gn6_JumpP" priority="35" cost="25." index="27">
      <exclref id="range_01a"/>
      <live>smTags.Librarian</live>
      </link>
    <link option="gn6_SMB" priority="35" cost="35." index="31">
      <exclref id="range_01a"/>
      <live>!ruleset.smChSiege</live>
      </link>
    <link option="gnBoltPUn" priority="53" cost="0." remainder="range_01" category="weapons" textcost=" " hide="yes" index="34">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="53" cost="0." remainder="range_01" category="weapons" textcost=" " index="26">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowF" priority="53" cost="15." category="wargear" index="5">
      <exclref id="range_01"/>
      <live>smTags.Chaplain</live>
      </link>
    <link option="gnSpcWar" priority="58" index="33">
      <live><![CDATA[(smTags.Chaplain | smTags.Librarian) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="70" index="30"></link>
    <link option="gnBoltG" priority="73" cost="0." category="weapons" textcost="Free" index="3">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombF" priority="73" cost="15." category="weapons" index="8">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="73" cost="15." category="weapons" index="9">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="73" cost="15." category="weapons" index="6">
      <exclref id="range_01"/>
      </link>
    <link option="gnPlasP" priority="73" cost="15." category="weapons" index="28">
      <exclref id="range_01"/>
      </link>
    <link option="gnStormB" priority="73" cost="3." category="weapons" index="4">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="78" index="32"></link>
    </linkset>
  <linkset id="smOptBB">
    <link option="gnSpace" priority="45" category="wargear" index="14">
      <live><![CDATA[!smTags.Librarian & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpace" name="{macro color1}-- Options --{text 010101}" priority="50" category="wargear" index="38">
      <live>!smTags.Librarian</live>
      </link>
    <link option="gnMeltaB_E" priority="55" cost="5." category="wargear" index="40">
      <live>!smTags.Librarian</live>
      </link>
    <link option="gnStormB" priority="55" remainder="range_01" category="weapons" textcost=" " index="29">
      <live><![CDATA[smTags.Chaplain & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnStormB" priority="55" remainder="range_01" category="weapons" textcost=" " hide="yes" index="46">
      <live><![CDATA[smTags.Chaplain & ruleset.ro_CompOut]]></live>
      </link>
    <link option="sm5E_DigWp" priority="55" cost="10." index="20">
      <live>!smTags.Librarian</live>
      </link>
    <link option="gnSpcWar" priority="58" index="45">
      <live><![CDATA[!smTags.Librarian & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="60" index="39">
      <live>smTags.Chaplain</live>
      </link>
    <link option="gn0to1" priority="65" category="weapons" index="1">
      <live>!smTags.Chaplain</live>
      </link>
    <link option="gnCombF" priority="70" cost="5." category="weapons" index="41">
      <exclref id="range_01"/>
      <live>smTags.Chaplain</live>
      </link>
    <link option="gnCombF" priority="70" cost="10." category="weapons" index="27">
      <exclref id="range_01"/>
      <live>!smTags.Chaplain</live>
      </link>
    <link option="gnCombMG" priority="70" cost="10." category="weapons" index="26">
      <exclref id="range_01"/>
      <live>!smTags.Chaplain</live>
      </link>
    <link option="gnCombMG" priority="70" cost="5." category="weapons" index="42">
      <exclref id="range_01"/>
      <live>smTags.Chaplain</live>
      </link>
    <link option="gnCombPG" priority="70" cost="5." category="weapons" index="43">
      <exclref id="range_01"/>
      <live>smTags.Chaplain</live>
      </link>
    <link option="gnCombPG" priority="70" cost="10." category="weapons" index="28">
      <exclref id="range_01"/>
      <live>!smTags.Chaplain</live>
      </link>
    <link option="gnStormB" priority="70" cost="5." category="weapons" index="37">
      <exclref id="range_01"/>
      <live>!smTags.Chaplain</live>
      </link>
    <link option="gnStormS3" priority="70" cost="15." category="weapons" index="34">
      <exclref id="range_01"/>
      <live>!smTags.Chaplain</live>
      </link>
    <link option="gnSpcWpn" priority="71" index="44"></link>
    </linkset>
  <linkset id="sm5E_LibPP">
    <link option="gnPsychic" name="{macro color1}-- Choose Source of Psychic Powers --{text 010101}" priority="701" index="12"></link>
    <link option="gnSpace" priority="704" category="psychic" index="13">
      <live>(UnitTags.gn6_PsyCod | UnitTags.gn6_Psy6E)</live>
      </link>
    <link option="sm5_PPHead" index="11">
      <exclref id="range_01pp"/>
      </link>
    </linkset>
  <linkset id="smTrans">
    <link option="sm5EDrop" priority="505" index="2">
      <exclref id="transport"/>
      <live><![CDATA[((smTags.TacSquad & smTags.AllowHW) & !ruleset.smChSiege)]]></live>
      </link>
    <link option="sm5EDrop" priority="505" index="1">
      <exclref id="transport"/>
      <live><![CDATA[!smTags.TacSquad & !(ruleset.smChSiege & (smTags.Sternguard | smTags.DevSquad | smTags.CommSquad))]]></live>
      </link>
    <link option="sm5E_Razor" priority="505" index="3">
      <exclref id="transport"/>
      <live>!smTags.Dread</live>
      </link>
    <link option="sm5E_Rhino" priority="505" index="7">
      <exclref id="transport"/>
      <live>!smTags.Dread</live>
      </link>
    <link option="gnSpace" priority="508" category="transport" index="4">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <live><![CDATA[!(smTags.apFsm5_IEC | ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF)) ]]></live>
    </linkset>
  <linkset id="smAutoDP">
    <link option="gnTpt" priority="500" index="0">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnTpt" name="{macro color1}-- Must choose One Drop Pod --{text 010101}" priority="503" index="7">
      <live><![CDATA[smTags.apFICDDS & !smTags.TermiAsSqd]]></live>
      </link>
    <link option="iaa2e_DDP" priority="505" index="6">
      <exclref id="range_11e"/>
      <live><![CDATA[smTags.apFICDDS & !smTags.TermiAsSqd]]></live>
      </link>
    <link option="sm5EDrop" priority="505" nature="auto" index="9">
      <exclref id="range_11e"/>
      <live><![CDATA[smTags.apFICDDS & smTags.TermiAsSqd]]></live>
      </link>
    <link option="sm5EDrop" priority="505" select="yes" index="8">
      <exclref id="range_11e"/>
      <live><![CDATA[smTags.apFICDDS & !smTags.TermiAsSqd]]></live>
      </link>
    <link option="sm5EDrop" priority="505" nature="auto" index="5">
      <exclref id="transport"/>
      <live><![CDATA[(smTags.TacSquad & smTags.AllowHW) & !smTags.apFICDDS]]></live>
      </link>
    <link option="sm5EDrop" priority="505" nature="auto" index="4">
      <exclref id="transport"/>
      <live>!(smTags.TacSquad | smTags.apFICDDS)</live>
      </link>
    </linkset>
  <linkset id="smChronus">
    <link option="gnSpace" name="{macro color1}-- Add Tank Commander --{text 010101}" priority="100" category="taUpgrade" index="17">
      <live>ruleset.smCh5E</live>
      </link>
    <link option="smBroSgtCh" priority="105" index="18">
      <live>ruleset.smCh5E</live>
      </link>
    </linkset>
  <linkset id="smTerTrans">
    <link option="gnTpt" priority="500" index="0">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="sm5E_LR" priority="505" index="1">
      <exclref id="transport"/>
      </link>
    <link option="sm5E_LRC" priority="505" index="2">
      <exclref id="transport"/>
      </link>
    <link option="sm5E_LRR" priority="505" index="3">
      <exclref id="transport"/>
      </link>
    <link option="gnSpace" priority="508" category="transport" index="4">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <live><![CDATA[!(smTags.apFsm5_IEC | ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
    </linkset>
  <linkset id="smDrop">
    <link option="sm5EDrop" priority="505" category="transport" index="1">
      <exclref id="transport"/>
      <live><![CDATA[(!ruleset.smChSiege & smTags.Dread)]]></live>
      </link>
    <link option="gnSpace" priority="510" category="transport" index="2">
      <live><![CDATA[(ruleset.ro_ImpArm & smTags.Dread) & !ruleset.smChSiege]]></live>
      </link>
    <link option="gnTpt" name="{macro color1}-- Imperial Armour Transport --{text 010101}" priority="515" index="3">
      <live><![CDATA[(ruleset.ro_ImpArm & smTags.Dread) & !ruleset.smChSiege]]></live>
      </link>
    <link option="iaa2e_DDP" name="Lucius Pattern Drop Pod (IA)" priority="520" category="transport" index="4">
      <exclref id="transport"/>
      <live><![CDATA[(ruleset.ro_ImpArm & smTags.Dread) & !ruleset.smChSiege]]></live>
      </link>
    </linkset>
  <linkset id="smUTWalker">
    <link option="gn6_MTC" priority="305" nature="auto" textcost=" " index="2">
      <live><![CDATA[smTags.Ironclad & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="smSR_Vene" priority="305" nature="auto" textcost=" " index="3">
      <live><![CDATA[smTags.Venerable & !ruleset.ro_CompOut]]></live>
      </link>
    </linkset>
  <linkset id="smUT_Tac">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!(smTags.Sergeant) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!(unitid.rs5ESgtTac | unitid.sm5ESgtTac)</live>
    </linkset>
  <linkset id="smUT_Dev">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="6">
      <live><![CDATA[ia9TagsG.Vaylund & ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtDev</live>
    </linkset>
  <linkset id="smUT_Drop">
    <link option="gn6_AslVeh" priority="305" nature="auto" description="See (IAAse, pg. 32)." textcost=" " index="17">
      <live><![CDATA[!ruleset.ro_CompOut & unitid.iaa2e_DDP]]></live>
      </link>
    <link option="gn6_TCDN" priority="900" display="2" nature="auto" textcost=" " index="16">
      <live><![CDATA[!ruleset.ro_CompOut & unitid.iaa2e_DDP]]></live>
      </link>
    <link option="gn6_TCDN" priority="900" display="3" nature="auto" textcost=" " index="18">
      <live><![CDATA[!ruleset.ro_CompOut & !unitid.iaa2e_DDP]]></live>
      </link>
    <link option="gn6_TC10" name="{B}10 model{/B} capacity, or" priority="900" display="2" nature="auto" textcost=" " index="15">
      <live><![CDATA[!ruleset.ro_CompOut & iaHelper.iaVersion & !smTags.Deathwind & !unitid.iaa2e_DDP]]></live>
      </link>
    <link option="gn6_TC12" name="{B}12 model{/B} capacity, or" priority="900" display="2" nature="auto" textcost=" " index="9">
      <live><![CDATA[!ruleset.ro_CompOut & !iaHelper.iaVersion & !smTags.Deathwind & !unitid.iaa2e_DDP]]></live>
      </link>
    <link option="gn6_UTImOT" priority="900" display="1" nature="auto" textcost=" " index="11">
      <live><![CDATA[!ruleset.ro_CompOut & !unitid.da6_Drop]]></live>
      </link>
    <link option="smSR_DPA" index="14"></link>
    <link option="sm5E_SR_IG" index="12"></link>
    <link option="sm5E_SR_Im" index="13"></link>
    </linkset>
  <linkset id="smUT_Sco">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Infilt" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_MTC" priority="305" nature="auto" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Scout" priority="305" nature="auto" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtSco</live>
    </linkset>
  <linkset id="smUT_LotD">
    <link option="gn6_Fearle" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SloPur" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_Aid" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Spect" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtLoD</live>
    </linkset>
  <linkset id="smUT_Stern">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtSte</live>
    </linkset>
  <linkset id="smUT_TechM">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="9"></link>
    <link option="gn6_BlesO" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_BolsD" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Term">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!(smTags.Sergeant) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!(unitid.sm5ESgtTer | unitid.sm5ESgtTA)</live>
    </linkset>
  <linkset id="smUT_Sicar">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_BFHer" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Rites" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Surpr" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Lysan">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_EteWar" priority="305" nature="auto" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="gn6_BolsD" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ChapT" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Drill" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Com">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Asl">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="6"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtAsl</live>
    </linkset>
  <linkset id="smUT_Bikes">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !smTags.AttackBike & smTagG.Mounted & smTags.EligibleM & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComBi" index="3">
      <live><![CDATA[!smTags.AttackBike & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtBik</live>
    </linkset>
  <linkset id="smUT_Cassi">
    <link option="gn6_FNP" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HonoC" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Litur" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Pedro">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="gnSpace" priority="901" category="unittype" index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ChapT" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_HtL" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Inspi" index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Orbit" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Tigur">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="403" category="gn6_traits" index="19">
      <live>!gnAcc.is_Warlord</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Gift" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Maste" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Vulka">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="gnSpace" priority="901" category="unittype" index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ChapT" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Khan">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="18"></link>
    <link option="smSR_ChapT" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Hunt" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Calga">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_EteWar" priority="305" nature="auto" textcost=" " index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="22">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_God" index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Orbit" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Titan" index="21">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_MotF">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="9"></link>
    <link option="gn6_BlesO" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_BolsD" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Shrik">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ChapT" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_See" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Capt">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="16"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Chap">
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="15"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HonoC" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Litur" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_ChMas">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="16"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Orbit" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Lib">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_IndCha" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Psyker" name="Psyker (Mastery Level 1)" priority="305" nature="auto" textcost=" " index="18">
      <live><![CDATA[!ruleset.ro_CompOut & !smTags.sm_LibEpis]]></live>
      </link>
    <link option="gn6_Psyker" name="Psyker (Mastery Level 2)" priority="305" nature="auto" textcost=" " index="20">
      <live><![CDATA[!ruleset.ro_CompOut & smTags.sm_LibEpis]]></live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="15"></link>
    <link option="smSR_ComTa" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_LR">
    <link option="gn6_AslVeh" priority="305" nature="include" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AP3" priority="900" display="3" nature="auto" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_TC10" priority="900" display="2" nature="auto" textcost=" " index="6">
      <live><![CDATA[iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_TC12" priority="900" display="2" nature="auto" textcost=" " index="2">
      <live><![CDATA[!iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_UTTT" priority="900" display="1" nature="auto" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="901" category="unittype" index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_LRC">
    <link option="gn6_AslVeh" priority="305" nature="include" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AP3" priority="900" display="3" nature="auto" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_TC16" priority="900" display="2" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_UTTT" priority="900" display="1" nature="auto" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="901" category="unittype" index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Razor">
    <link option="gn6_AP3" priority="900" display="3" nature="auto" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_TC6" priority="900" display="2" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_Rhino">
    <link option="gnRepair" priority="305" nature="auto" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AP3" priority="900" display="3" nature="auto" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_FP1" priority="900" display="4" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_TC10" priority="900" display="2" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_ScB">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2"></link>
    <link option="gn6_Infilt" priority="305" nature="auto" textcost=" " index="6">
      <live>!roster.rs</live>
      </link>
    <link option="gn6_Scout" priority="305" nature="auto" textcost=" " index="8">
      <live>!roster.rs</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3"></link>
    <link option="smSR_ComTa" index="4"></link>
    <live>!unitid.sm5ESgtScB</live>
    </linkset>
  <linkset id="smUT_Van">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComSq" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HerI" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <live>!unitid.sm5ESgtVan</live>
    </linkset>
  <linkset id="smUT_Telio">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Acute" priority="305" nature="auto" textcost=" " index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Infilt" priority="305" nature="auto" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_MTC" priority="305" nature="auto" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Scout" priority="305" nature="auto" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Stealt" priority="305" nature="auto" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Eye" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_Voice" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUT_HonG">
    <link option="gn6_ATSKNF" priority="305" nature="auto" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="7"></link>
    <link option="smSR_ComTa" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSR_HonDe" index="6">
      <live><![CDATA[smTags.ChapChamp & !ruleset.ro_CompOut]]></live>
      </link>
    </linkset>
  <linkset id="smUT_LS">
    <link option="gn6_DeeStr" priority="305" nature="auto" textcost=" " index="4"></link>
    <link option="gn6_Scout" priority="305" nature="auto" textcost=" " index="3">
      <live><![CDATA[smTags.LS_Storm & !roster.rs]]></live>
      </link>
    <link option="gn6_TC5" priority="900" display="2" nature="auto" textcost=" " index="2">
      <live>smTags.LS_Storm</live>
      </link>
    <live>!ruleset.ro_CompOut</live>
    </linkset>
  <linkset id="smUT_Serv">
    <link option="gnSpace" priority="308" category="skills" index="5">
      <live><![CDATA[!smTags.Sergeant & !ruleset.ro_bFormat & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" index="6"></link>
    <link option="smSR_MindL" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <linkset id="smUTDrop">
    <link option="smSR_DPA" index="0"></link>
    </linkset>
  <linkset id="smUT_Chron">
    <link option="gn6_AutoUT" priority="900" display="1" index="0"></link>
    <link option="smSR_TankC" index="15"></link>
    <live>!ruleset.ro_CompOut</live>
    </linkset>
  <linkset id="smUT_LRA">
    <link option="gn6_AslVeh" priority="305" nature="include" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AP3" priority="900" display="3" nature="auto" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_TC10" priority="900" display="2" nature="auto" textcost=" " index="6">
      <live><![CDATA[(iaHelper.iaVersion | !unitid.apLsm5LRA) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_TC12" priority="900" display="2" nature="auto" textcost=" " index="2">
      <live><![CDATA[(!iaHelper.iaVersion | !unitid.apLsm5LRA) & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_UTTT" priority="900" display="1" nature="auto" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="901" category="unittype" index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    </linkset>
  <option id="sm5ESgtTac" name="" abbrev="" category="taUpgrade" priority="0" cost="0" costtype="single" unit="sm5ESgtTac" show="never"></option>
  <option id="sm5ESgtSco" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtSco" show="never"></option>
  <option id="smHBwHR" name="Heavy Bolter w/Hellfire Shells" abbrev="HBwHR" description="Use one of the two profiles when firing:\nRange: 36&quot;; S5; AP4; Heavy 3.\nRange: 36&quot;; S1; AP-; Heavy 1, Blast, Posioned (2+)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSPB" name="Stalker Pattern Boltgun" abbrev="SPBG" description="Range: 36&quot;; S4; AP5; Heavy 2, Rending, Pinning." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5ETelion" name="" abbrev="" category="taUpgrade" priority="0" cost="0" costtype="single" unit="sm5ETelion"></option>
  <option id="sm5ESgtTer" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtTer" show="never"></option>
  <option id="smTHSS" name="Thunder Hammer &amp; Storm Shield" abbrev="TH&amp;SS" description="Thunder Hammer &amp; Storm Shield" category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5ESgtTA" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtTA" show="never"></option>
  <option id="smSIA" name="Special Issue Ammunition" abbrev="" description="All bolters in the squad may use any of the following profiles when firing:\nDragonfire Bolts: Range: 24&quot;; S4; AP5; Rapid Fire, Ignores Cover\nHellfire Rounds: Range: 24&quot;; SX; AP5; Rapid Fire, Poisoned (2+)\nKraken Bolts: Range: 30&quot;; S4; AP4; Rapid Fire\nVengeance Rounds: Range: 18&quot;; S4; AP3; Rapid Fire, Gets Hot!" category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSgtStern" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtSte" show="never"></option>
  <option id="smDCCW2" name="Seismic Hammer" abbrev="SH" description="Seismic Hammer; see (C:SM, pg. 65)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smIAL" name="Ironclad Assault Launchers" abbrev="IronLaunch" description="Ironclad Assault Launchers; see (C:SM, pg. 103)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSgtLotD" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtLoD" show="never"></option>
  <option id="sm5ESgtAsl" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtAsl" show="never"></option>
  <option id="smRJP" name="Remove Jump Packs" abbrev="" category="wargear" priority="0" cost="0"></option>
  <option id="iaSMTank" name="Use IA Version" abbrev="" category="wargear" priority="0" cost="0" show="design">
    <live>ruleset.ro_ImpArm</live>
    </option>
  <option id="iaSMVeh" name="Use IA Version" abbrev="" category="wargear" priority="0" cost="0" show="design">
    <live>ruleset.ro_ImpArm</live>
    </option>
  <option id="smSgtVan" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtVan" show="never"></option>
  <option id="smCL" name="Cerberus Launcher" abbrev="Cerberus" description="See C:SM, pg. 75." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smJB" name="Jamming Beacon" abbrev="JamBeacon" description="Jamming Beacon; see C:SM, pg. 75." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5ESgtBik" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtBik" show="never"></option>
  <option id="sm5ELoneAB" name="" abbrev="" category="DGifts" priority="0" cost="0" costtype="single" unit="sm5ELoneAB"></option>
  <option id="sm5ESgtScB" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtScB" show="never"></option>
  <option id="smAstGL" name="Astartes Grenade Launcher" abbrev="AstG" description="Krak: Range: 24&quot;; S6; AP4; Rapid Fire.\nFrag: Range: 24&quot;; S3; AP6; Rapid Fire, Blast." category="wargear" footnote="yes" priority="0" cost="10" costtype="single"></option>
  <option id="sm5E_ClusM" name="Cluster Mines" abbrev="CM" description="Cluster Mines; see (C:SM, pg. 67)." category="wargear" footnote="yes" priority="0" cost="10" costtype="single"></option>
  <option id="sm5ESgtDev" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESgtDev" show="never"></option>
  <option id="smThCan" name="Thunderfire Cannon" abbrev="" description="May choose one of the following options when firing, See C:SM, pg. 73:\nSurface Detonation: Range: 60&quot;; S6; AP5; Heavy 4, Blast.\nAirburst: Range: 60&quot;; S5; AP6; Heavy 4, Blast, Ignores Cover.\nSubterranean Blast: Range: 60&quot;; S4; AP-; Heavy 4, Blast, Tremor.\n" category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5E_WMML" name="Whirlwind Multiple Missile Launcher" abbrev="WMML" description="Vengeance Missiles: Range: 12 - 48&quot;; S5; AP4; Ordnance 1, Barrage, Large Blast.\nIncendiary Missiles: Range: 12 - 48&quot;; S4; AP5; Ordnance 1, Barrage, Large Blast, Ignores Cover." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSiegeS" name="Siege Shield" abbrev="SiegeS" description="Siege Shield; see (C:SM, pg. 80)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smBroSgtCh" name="Brother-Sergeant Chronus" abbrev="" category="taUpgrade" priority="0" cost="0" costtype="single" unit="sm5EBSgtCh"></option>
  <option id="smServitor" name="Add Servitor Unit" abbrev="" category="add" priority="0" cost="0" unit="sm5EServ"></option>
  <option id="sm5E_LR" name="" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5E_LR"></option>
  <option id="sm5E_LRC" name="" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5E_LRC"></option>
  <option id="sm5E_LRR" name="" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5E_LRR"></option>
  <option id="sm5ETechGu" name="Techmarine Gunner" abbrev="" category="add" equipment="yes" priority="0" cost="0" costtype="single" unit="sm5ETechGu" show="design"></option>
  <option id="sm5EApothe" name="" abbrev="" category="taUpgrade" priority="105" cost="0" costtype="single" unit="sm5EApothe"></option>
  <option id="sm5EDrop2" name="" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5EDrop2"></option>
  <option id="sm5E_Rhi2" name="" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5E_Rhi2"></option>
  <option id="sm5EAsl_A" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EAsl_A"></option>
  <option id="sm5EAsl_B" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EAsl_B"></option>
  <option id="sm5ETac_A" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETac_A"></option>
  <option id="sm5ETac_B" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETac_B"></option>
  <option id="sm5EDev_A" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EDev_A"></option>
  <option id="sm5EDev_B" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EDev_B"></option>
  <option id="sm5EDev_B2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EDev_B" childtype="newlink"></option>
  <option id="sm5EDev_C" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5EDev_C"></option>
  <option id="sm5ETac_2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETactic" childtype="newlink"></option>
  <option id="sm5ETac_1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETactic"></option>
  <option id="sm5EDN_1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5EDread"></option>
  <option id="sm5EDN_2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5EDread" childtype="newlink"></option>
  <option id="sm5ETerm_1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETermin"></option>
  <option id="sm5ETerm_2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETermin" childtype="newlink"></option>
  <option id="sm5ETer_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETer_A"></option>
  <option id="sm5ETer_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETer_A" childtype="newlink"></option>
  <option id="sm5ETAS_A1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5ETAS_A"></option>
  <option id="sm5ETAS_A2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5ETAS_A" childtype="newlink"></option>
  <option id="sm5EVDN_1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVDread"></option>
  <option id="sm5EVDN_2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVDread" childtype="newlink"></option>
  <option id="sm5EVDN_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVDN_A"></option>
  <option id="sm5EVDN_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVDN_A" childtype="newlink"></option>
  <option id="sm5EDN_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EDN_A"></option>
  <option id="sm5EDN_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EDN_A" childtype="newlink"></option>
  <option id="sm5EIDN_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EIDN_A"></option>
  <option id="sm5EIDN_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EIDN_A" childtype="newlink"></option>
  <option id="sm5EVan_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVan_A"></option>
  <option id="sm5EVan_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVan_A" childtype="newlink"></option>
  <option id="sm5ESte_A1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5ESte_A"></option>
  <option id="sm5ESte_A2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5ESte_A" childtype="newlink"></option>
  <option id="sm5ECaptai" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ECaptai"></option>
  <option id="sm5EChapla" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EChapla"></option>
  <option id="sm5ECom_A1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5ECom_A"></option>
  <option id="sm5ESco_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESco_A"></option>
  <option id="sm5ESco_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESco_A" childtype="newlink"></option>
  <option id="sm5ELSS_A2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ELSStor" childtype="newlink"></option>
  <option id="sm5ELSS_A1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ELSStor"></option>
  <option id="sm5EScB_A2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5EScB_A" childtype="newlink"></option>
  <option id="sm5_PPHead" name="Codex Psychic Powers" abbrev="" category="psychic" priority="703" cost="0" textcost=" ">
    <link option="gnSpace" priority="710" category="psychic" index="10"></link>
    <link option="smPP_FD" nature="auto" textcost=" " index="11">
      <live><![CDATA[UnitTags.gn6_PsyCod & unitid.sm5ECLTigu]]></live>
      </link>
    <link option="smPP_FD" textcost=" " index="7">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_GoI" nature="auto" textcost=" " index="12">
      <live><![CDATA[UnitTags.gn6_PsyCod & unitid.sm5ECLTigu]]></live>
      </link>
    <link option="smPP_GoI" textcost=" " index="6">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_MC" nature="auto" textcost=" " index="13">
      <live><![CDATA[UnitTags.gn6_PsyCod & (unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_MC" textcost=" " index="8">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_MotA" textcost=" " index="5">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_MotA" nature="auto" textcost=" " index="14">
      <live><![CDATA[UnitTags.gn6_PsyCod & unitid.sm5ECLTigu]]></live>
      </link>
    <link option="smPP_NZ" textcost=" " index="9">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_NZ" nature="auto" textcost=" " index="15">
      <live><![CDATA[UnitTags.gn6_PsyCod & (unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_Q" nature="auto" textcost=" " index="16">
      <live><![CDATA[UnitTags.gn6_PsyCod & (unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_Q" textcost=" " index="4">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_S" nature="auto" textcost=" " index="17">
      <live><![CDATA[UnitTags.gn6_PsyCod & (unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_S" textcost=" " index="3">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_TA" textcost=" " index="1">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_TA" nature="auto" textcost=" " index="18">
      <live><![CDATA[UnitTags.gn6_PsyCod & (unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_VoD" textcost=" " index="2">
      <exclref id="range_PsyP"/>
      <live><![CDATA[UnitTags.gn6_PsyCod & !(unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <link option="smPP_VoD" nature="auto" textcost=" " index="19">
      <live><![CDATA[UnitTags.gn6_PsyCod & (unitid.sm5ECLTigu | unitid.ia9_Loth)]]></live>
      </link>
    <evaluate>~ Assigning Tag for Psychic Powers visibility
var retval as number
retval = entity.assign[UnitTags.gn6_PsyCod]</evaluate>
    </option>
  <option id="smHonourG2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5EHonour" childtype="newlink" textcost="115+"></option>
  <option id="umAoA" name="" abbrev="AoA" category="wargear" footnote="yes" priority="0" cost="0" item="umAoA" textcost="15"></option>
  <option id="umGoU" name="" abbrev="GoU" category="wargear" footnote="yes" priority="0" cost="0" item="umGoU"></option>
  <option id="smHonourG" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5EHonour" textcost="115+"></option>
  <option id="sm5EChapC" name="" abbrev="" category="add" priority="0" cost="45" costtype="single" unit="sm5EChapC" textcost="45"></option>
  <option id="smRB" name="Relic Blade" abbrev="RelicBlade" description="S 6; AP 3; Melee, Two-handed." category="wargear" footnote="yes" priority="0" cost="15" costtype="single">
    <evaluate>~ strength to 6
entity.stat[St] = 6</evaluate>
    </option>
  <option id="sm5ECoStdB" name="" abbrev="" category="add" priority="105" cost="0" costtype="single" unit="sm5ECoStdB"></option>
  <option id="sm5EComMod" name="" abbrev="" category="add" priority="105" cost="0" costtype="single" unit="sm5EComMod" childtype="newlink"></option>
  <option id="sm5EComSqd" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EComSqd"></option>
  <option id="smAGL" name="Auxiliary Grenade Launcher" abbrev="AGL" description="Krak: Range: 12&quot;; S6; AP4; Assault 1\nFrag: Range: 12&quot;; S3; AP6; Assault 1, Blast" category="wargear" footnote="yes" priority="0" cost="15" costtype="single"></option>
  <option id="sm5EChapB" name="Chapter Banner" abbrev="ChptrBnr" description="Chapter Banner; see (C:SM, pg. 53)." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single">
    <evaluate>var result as number
result = unit.assign[smTags.ChBanner]</evaluate>
    </option>
  <option id="smLB" name="Locator Beacon" abbrev="Locator" description="Locator Beacon; see (C:SM, pg. 67)." category="wargear" footnote="yes" priority="0" cost="10" costtype="single"></option>
  <option id="smSR_ComTa" name="Combat Tactics" abbrev="" description="Combat Tactics; see (C:SM, pg. 51)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5EDrop" name="Drop Pod" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5EDrop"></option>
  <option id="sm5E_Rhino" name="Rhino" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5E_Rhino"></option>
  <option id="smSR_ComSq" name="Combat Squads" abbrev="" description="Combat Squads; see (C:SM, pg. 51)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smLasCTLPG" name="Lascannon and TL Plasmagun" abbrev="LasC+TLPlasG" description="Lascannon: 48&quot; Range; S9; AP2; Heavy 1.\nTL Plasmagun: 24&quot; Range; S7; AP2; Rapid Fire, Gets Hot!, Twin-linked." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSR_Vene" name="Venerable" abbrev="" description="Venerable; see (C:SM, pg. 25)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5E_Razor" name="" abbrev="" category="transport" priority="0" cost="0" costtype="single" unit="sm5E_Razor"></option>
  <option id="umMoS" name="Mantle of Suzerain" abbrev="" description="Mantle of Suzerain; see (C:SM, pg. 85)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single">
    <link option="gn6_FNP" priority="305" nature="auto" textcost=" " index="0"></link>
    <evaluate>~ Setting 2+ Armour Save
call gnSave2</evaluate>
    </option>
  <option id="umHoH" name="Hood of Hellfire" abbrev="HellHood" description="Hood of Hellfire; see (C:SM, pg. 86)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSR_Aid" name="Aid Unlooked For" abbrev="" description="Aid Unlooked For; see (C:SM, pg. 95)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Spect" name="Unyielding Spectres" abbrev="" description="Unyielding Spectres; see (C:SM, pg. 95)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smPP_FD" name="Force Dome" abbrev="" description="Force Dome; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smPP_GoI" name="The Gate of Infinity" abbrev="" description="The Gate of Infinity; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smPP_MC" name="Machine Curse" abbrev="" description="Machine Curse; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smPP_MotA" name="Might of the Ancients" abbrev="" description="Might of the Ancients; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smSR_BFHer" name="Battle-forged Heroes" abbrev="" description="Battle-forged Heroes; see (C:SM, pg. 85)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Rites" name="Rites of Battle" abbrev="" description="Rites of Battle; see (C:SM, pg. 85)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Surpr" name="Surprise Attack!" abbrev="" description="Surprise Attack!; see (C:SM, pg. 85)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smPP_NZ" name="Null Zone" abbrev="" description="Null Zone; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smSR_ChapT" name="Chapter Tactics" abbrev="" description="Chapter Tactics; see (C:SM, pg. 51)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="smPP_Q" name="Quickening" abbrev="" description="Quickening; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smSR_Drill" name="Bolter Drill" abbrev="" description="Bolter Drill; see (C:SM, pg. 91)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smPP_S" name="Smite" abbrev="" description="Range: 12&quot;; S4; AP2; Assault 4; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smPP_TA" name="The Avenger" abbrev="" description="Template; S5; AP3; Assault 1; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smPP_VoD" name="Vortex of Doom" abbrev="" description="Range: 12&quot;; S10; AP1; Heavy 1, Blast; see (C:SM, pg. 57)." category="psychic" footnote="yes" priority="708" cost="0" costtype="single"></option>
  <option id="smSR_Litur" name="Liturgies of Battle" abbrev="" description="Liturgies of Battle; (see C:SM, pg. 58)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smI" name="Infernus" abbrev="Infernus" description="Master-crafted\nRange: 24&quot;; SX; AP5; Rapid Fire, Poisoned (2+)\nRange: Template; S4; AP5; Assault 1; No Cover Saves; Once per Game." category="wargear" footnote="yes" priority="0" cost="0"></option>
  <option id="smDA" name="Dorn&apos;s Arrow" abbrev="DornArrow" description="Range: 24&quot;; S4; AP4; Assault 4; see (C:SM, pg. 90)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSR_HonDe" name="Honour or Death" abbrev="" description="Honour or Death" category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_MindL" name="Mindlock" abbrev="" description="Mindlock; see (C:SM, pg. 72)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_EscC" name="Escort Craft" abbrev="" description="See White Dwarf article." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_HovS" name="Hover Strike" abbrev="" description="See White Dwarf article." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5E_SkyMi" name="Skyhammer Missile Launcher" abbrev="Skyhammer" description="Range 60&quot;; S 7; AP 4; Heavy 3." category="weapons" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSR_Orbit" name="Orbital Bombardment" abbrev="" description="Orbital Bombardment; see (C:SM, pg. 52)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Inspi" name="Inspiring Presence" abbrev="" description="Inspiring Presence; see (C:SM, pg. 90)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_HtL" name="Hold the Line" abbrev="" description="Hold the Line; see (C:SM, pg. 90)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="ifFoD" name="" abbrev="" category="wargear" footnote="yes" priority="0" cost="0" costtype="single" item="ifFoD"></option>
  <option id="smSR_Gift" name="Gift of Prescience" abbrev="" description="Gift of Prescience; see (C:SM, pg. 86)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Maste" name="Master Psyker" abbrev="" description="Master Psyker; see (C:SM, pg. 86)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Hunt" name="Master of the Hunt" abbrev="" description="Master of the Hunt; see (C:SM, pg. 94)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <link option="gn6_FurCha" priority="305" nature="auto" category="skills" textcost=" " index="1"></link>
    <link option="gn6_HitRun" priority="305" nature="auto" category="skills" textcost=" " index="0"></link>
    </option>
  <option id="wsMD" name="" abbrev="" category="wargear" footnote="yes" priority="0" cost="0" costtype="single" item="wsMD">
    <evaluate>~ Assigning Tag for having Space mArine Bike
var retval as number
retval = entity.assign[gnAcc.gn6_Bike]</evaluate>
    </option>
  <option id="saGotF" name="Gauntlet of the Forge" abbrev="ForgeGauntlet" description="Range; Template; S5; AP4; Assault 1; No Cover Saves." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSR_God" name="God of War" abbrev="" description="God of War; see (C:SM, pg. 84)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Titan" name="Titanic Might" abbrev="" description="Titanic Might; see (C:SM, pg. 84)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="saKM" name="" abbrev="" category="wargear" footnote="yes" priority="0" cost="0" costtype="single" item="saKM"></option>
  <option id="smSR_See" name="See, But Remain Unseen" abbrev="SeeButRemainUnseen" description="See, But Remain Unseen (see C:SM, pg, 92 &amp; 6E SM FAQ)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Infilt" priority="305" nature="auto" category="skills" textcost=" " index="0"></link>
    </option>
  <option id="saSoV" name="Spear of Vulkan" abbrev="Spear" description="Master-crafted Relic Blade." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5E_DigWp" name="Digital Weapons" abbrev="DW" description="Digital Weapons; see (C:SM, pg. 98)." category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5EMiPA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5EMiPA"></option>
  <option id="sm5EMiTA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" unit="sm5EMiTA"></option>
  <option id="smHR" name="Hellfire Rounds" abbrev="HR" description="Range: 24&quot;; S1; AP5; Rapid Fire, Poisoned (2+)" category="wargear" footnote="yes" priority="0" cost="0" costtype="single">
    <live>smTags.Bolter</live>
    </option>
  <option id="sm5ECiPA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5ECiPA"></option>
  <option id="sm5ECiTA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5ECiTA"></option>
  <option id="sm5EComman" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EComSqd"></option>
  <option id="sm5ECompC" name="" abbrev="" category="taUpgrade" priority="0" cost="0" costtype="single" unit="sm5ECompC" textcost="+15"></option>
  <option id="smAWN" name="Narthecium" abbrev="" description="Narthecium; see (C:SM, pg. 55)." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="smSR_Eye" name="Eye of Vengeance" abbrev="" description="Eye of Vengeance; see (C:SM, pg. 88)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="smSR_Voice" name="Voice of Experience" abbrev="" description="Voice of Experience; see (C:SM, pg. 88)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5ECS" name="Company Standard" abbrev="CompStd" description="Company Standard; see (C:SM, pg. 55)." category="wargear" equipment="yes" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <option id="sm5EHonGua" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EHonGua" childtype="newlink"></option>
  <option id="sm5EVanVet" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVanVet" childtype="newlink"></option>
  <option id="sm5ETAS_B" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETAS_B" childtype="newlink"></option>
  <option id="smSR_DPA" name="Drop Pod Assault" abbrev="" description="Drop Pod Assault; see (C:SM, pg. 69)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5E_SR_IG" name="Inertial Guidance System" abbrev="" description="Inertial Guidance System; see (C:SM, pg. 69)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="sm5E_SR_Im" name="Immobile" abbrev="" description="Immobile; see (C:SM, pg. 69)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <live>!ruleset.ro_CompOut</live>
    </option>
  <option id="smSR_ComBi" name="Combat Squads" abbrev="" description="Combat Squads; see (C:SM, pg. 51)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5ECom_B1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5ECom_A"></option>
  <option id="sm5E_Homer" name="Teleport Homer" abbrev="Homer" description="Teleport Homer; see (C:SM, pg. 101)." category="wargear" footnote="yes" priority="0" cost="0"></option>
  <option id="sm5ELysand" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ELysand"></option>
  <option id="sm5EShrike" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EShrike"></option>
  <option id="sm5ECassiu" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ECassiu"></option>
  <option id="sm5ECptSic" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ECptSic"></option>
  <option id="sm5E_UpEpi" name="Epistolary" abbrev="Epistolary" description="Epistolary; see (C:SM, pg. 56)." category="taUpgrade" footnote="yes" priority="0" cost="50" costtype="single" textcost="+50"></option>
  <option id="sm5ECom_B" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ECom_B"></option>
  <option id="sm5ELibrar" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ELibrar"></option>
  <option id="sm5AddTerm" name="Add Terminator Squads" abbrev="" category="add" priority="0" cost="0" unit="*" childtype="newlink" show="design">
    <candidate>smTags.VTF_TermSq</candidate>
    </option>
  <option id="sm5EAsl_2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EAssaul" childtype="newlink"></option>
  <option id="sm5E_Van2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EVangua" childtype="newlink"></option>
  <option id="sm5ETac_B2" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ETac_B" childtype="newlink"></option>
  <option id="sm5EAsl_1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EAssaul"></option>
  <option id="sm5EKantor" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EKantor" show="design"></option>
  <option id="sm5EStern1" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5ESterng" show="design"></option>
  <option id="sm5E_Pred1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5E_Pred"></option>
  <option id="sm5E_Pred2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5E_Pred" childtype="newlink"></option>
  <option id="sm5E_Vind1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5E_Vind"></option>
  <option id="sm5E_Vind2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5E_Vind" childtype="newlink"></option>
  <option id="sm5E_Whir1" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5E_Whirl"></option>
  <option id="sm5E_Whir2" name="" abbrev="" category="add" priority="0" cost="0" unit="sm5E_Whirl" childtype="newlink"></option>
  <option id="smSR_TankC" name="Tank Commander" abbrev="" description="Tank Commander; see (C:SM, pg. 89)." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" "></option>
  <option id="sm5ELiPA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5ELiPA"></option>
  <option id="sm5ELiTA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5ELiTA"></option>
  <option id="sm5EKhan" name="" abbrev="" category="add" priority="0" cost="0" costtype="single" unit="sm5EKhan"></option>
  <option id="iaSM_SgtCu" name="Upgrade to Sergeant Culln" abbrev="" category="taUpgrade" priority="0" cost="60" costtype="single" textcost="+60">
    <autotag group="smTagG" tag="ia_Culln"/>
    <autotag group="rgTagsG" tag="Culln"/>
    <live><![CDATA[ruleset.ro_ImpArm | (ruleset.ro_ImpArm & roster.rs) | roster.rs]]></live>
    <evaluate>~ Assigning Tag for having Sergeant Culln
var retval as number
retval = entity.assign[smTags.SgtCulln]</evaluate>
    </option>
  <option id="iaSR_AAO" name="Against All Odds" abbrev="" description="Sergeant Culln and his squad may re-roll to hit rolls made in closecombat when outnumbered in an assault. While Culln is alive, he and his squad have the Stubborn USR." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Stubrn" priority="305" nature="auto" textcost=" " index="0"></link>
    </option>
  <option id="iaSM_SgtHa" name="Upgrade to Veteran Sergeant Haas" abbrev="" category="taUpgrade" priority="0" cost="60" costtype="single" textcost="+60">
    <autotag group="smTagG" tag="ia_Haas"/>
    <live><![CDATA[ruleset.ro_ImpArm | (ruleset.ro_ImpArm & roster.rs) | roster.rs]]></live>
    <evaluate>~ Assigning Tag for having Sergeant Haas
var retval as number
retval = entity.assign[smTags.SgtHaas]</evaluate>
    </option>
  <option id="iaSR_AAd" name="Always Advance" abbrev="" description="While Veteran Sergeant Haas is alive, he and his squad have the Relentless USR." category="skills" footnote="yes" priority="305" nature="auto" cost="0" textcost=" ">
    <link option="gn6_Relent" priority="305" nature="auto" textcost=" " index="0"></link>
    </option>
  <option id="sm5EChiPA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5EChiPA"></option>
  <option id="sm5EChiTA" name="" abbrev="" category="gn6_Basic" priority="0" cost="0" costtype="single" unit="sm5EChiTA"></option>
  <option id="smConvB" name="Conversion Beamer" abbrev="ConvB" description="Range: up to 18&quot;; S6; AP-; Heavy 1, Blast.\nRange: 18&quot; to 42&quot;; S8; AP4; Heavy 1, Blast.\nRange: 42&quot; to 72&quot;; S10; AP1; Heavy 1, Blast.\n\n" category="wargear" footnote="yes" priority="0" cost="0" costtype="single"></option>
  <item id="saKM" name="Kesare&apos;s Mantle" description="Confers a 3+ Invulnerable Save.">
    <postlinks>~ Setting 3+i Save
call gnInv3i
</postlinks>
    </item>
  <item id="ifFoD" name="Fist of Dorn" description="Master-crafted Thunder Hammer; Hits resolved at a strength of 10 and +1 to Vehicle Damage">
    <postlinks>~ Decreasing Initiative for Power Fists
call gnInit1i

~ Increasing Strength for Thunder Hammer
call gnMulStr3i</postlinks>
    </item>
  <item id="umAoA" name="Armor of Antilochus" description="Relentless; Confers a 2+ Armour Save or a 5+ Invulnerable Save; May be Teleported onto the battlefield, may start the game in reserve and arrive via the Deep Strike rules even if it is not part of the mission being played; count as two models for transport capacity and may not embark on Rhinos or Razorbacks." cost="15." textcost="15">
    <link option="sm5E_Homer" nature="include" index="0"></link>
    <postlinks>~ Setting 2+/5+i Saves for Terminator Armour
call gnSave2i
call gnInv5i
</postlinks>
    </item>
  <item id="umGoU" name="Gauntlets of Ultramar" description="Matched pair of Power Fists; Range: 24&quot;; S4; AP2; Assault 2">
    <postlinks>~ Adding bonus attack for Matched Pair of weapons
~ call gnAddCCW
call gnPlus1Ati

~ Decreasing Initiative for Power Fists
call gnInit1i

~ Increasing Strength for Power Fists
call gnMulStr2i</postlinks>
    </item>
  <item id="wsMD" name="Moondrakkan" description="May run in the Shooting Phase and has Fleet." cost="45.">
    <link option="gn6_SMB" priority="36" nature="base" category="wargear" index="0"></link>
    <tag group="smTagG" tag="Mounted"/>
    </item>
  <unit id="sm5EAssaul" name="Assault Squad" cost="18." textcost="100" idtag="yes" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Asl"/>
    <link option="gnRef" name="(C:SM, pg. 60 &amp; 139)" priority="0" nature="auto" textcost=" " index="33">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" textcost=" " index="4">
      <live><![CDATA[!ruleset.ro_CompOut & !smTags.Infantry]]></live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" textcost=" " hide="yes" index="25">
      <live><![CDATA[ruleset.ro_CompOut & !smTags.Infantry]]></live>
      </link>
    <link option="gnSpcWar" priority="10" index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="6">
      <live><![CDATA[!(smTags.CaestusTpt & iaHelper.iaa2e_CTAF)]]></live>
      </link>
    <link option="smRJP" priority="20" textcost=" " index="34">
      <live><![CDATA[!(smTags.CaestusTpt & iaHelper.iaa2e_CTAF)]]></live>
      </link>
    <link option="smRJP" priority="20" nature="auto" textcost=" " hide="yes" index="7">
      <live><![CDATA[(smTags.CaestusTpt & iaHelper.iaa2e_CTAF)]]></live>
      </link>
    <link option="gnSpcWar" priority="21" index="8">
      <live><![CDATA[!(smTags.CaestusTpt & iaHelper.iaa2e_CTAF)]]></live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_m" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="27">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="base" remainder="range_ma" category="weapons" abbrev="ChSwd" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="base" remainder="range_ma" category="weapons" abbrev="ChSwd" textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="35" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="45" index="13">
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnFlamer" priority="50" cost="10." costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnPlasP" priority="50" cost="15." costtype="single" category="weapons" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnSpcWpn" priority="55" category="weapons" index="16"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="60" index="17">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnFlamer" priority="65" cost="10." costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnPlasP" priority="65" cost="15." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="66" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="sm5ESgtAsl" priority="105" nature="auto" costtype="single" index="21"></link>
    <link option="gnSpace" priority="308" category="skills" index="29">
      <live>rgTagsG.Korvydae</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="30">
      <live><![CDATA[smTags.Infantry & (smTags.CaestusTpt & iaHelper.iaa2e_CTAF)]]></live>
      </link>
    <link option="sm5EDrop2" priority="505" nature="cost" cost="0." textcost="Free" index="23">
      <exclref id="transport"/>
      <live><![CDATA[(smTags.Infantry & !smTags.apFsm5_ST) & !(ruleset.smChSiege | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="sm5EDrop2" priority="505" nature="auto" cost="0." textcost="Free" index="31">
      <exclref id="transport"/>
      <live><![CDATA[(smTags.Infantry & smTags.apFsm5_ST) & !(ruleset.smChSiege | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="sm5E_Rhi2" priority="505" nature="cost" cost="0." textcost="Free" index="24">
      <exclref id="transport"/>
      <live><![CDATA[smTags.Infantry & !(smTags.apFsm5_ST | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="gnTroop" priority="605" cost="0." textcost=" " index="28">
      <live>rgTagsG.Korvydae</live>
      </link>
    <link option="gnTroop" priority="605" nature="auto" cost="0." textcost=" " hide="yes" index="32">
      <live><![CDATA[smTags.Infantry & (ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)]]></live>
      </link>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_ST] = 1) then
   retval = unit.assign[smTags.apFsm5_ST]
endif

~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif

~ Unlocking special and heavy weapons once model count is increased to 9
var unlockSW as number
var unlockHW as number      

if (count[model] > 3) then
   unlockSW = entity.assign[smTags.AllowSW] 
endif

if (count[model] > 8) then
   unlockHW = entity.assign[smTags.AllowHW] 
endif

~ Assigning Infantry tag to remove jump packs and add transport options if remove jump packs is chosen
if (option[smRJP].selection = 1) then
   var retval as number
   retval = entity.assign[smTags.Infantry]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif

~ Calculation aid for model count
call sm5E_model]]></prelinks>
    <postlinks>~ Removing cost of transport
~if (option[sm5E_Rhino].selection = 1) then
~   @unit = @unit - 35
~elseif (option[sm5EDrop].selection = 1) then
~   @unit = @unit - 35
~endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW
</postlinks>
    </unit>
  <unit id="sm5E_Rhino" name="Rhino" cost="35." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="11"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="11"/>
    <linkref id="smChronus"/>
    <linkref id="smUT_Rhino"/>
    <link option="gnRef" name="(IA2, pg. 26)" priority="0" index="13">
      <live><![CDATA[!ruleset.ro_CompOut & iaHelper.iaVersion]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="14">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="2"></link>
    <link option="gnSpcWar" priority="10" index="3"></link>
    <link option="gnWargear" name="{macro color1}-- May take any of the following --{text 010101}" priority="15" index="4"></link>
    <link option="gnPMSB" priority="20" cost="10." category="wargear" index="8"></link>
    <link option="gn6_Dozer" priority="20" cost="5." category="wargear" index="5"></link>
    <link option="gn6_ExArm" priority="20" cost="15." category="wargear" index="6"></link>
    <link option="gn6_HKM" priority="20" cost="10." category="wargear" index="7"></link>
    <link option="gnSpcWar" priority="21" index="9"></link>
    <link option="gnStormB" priority="55" nature="base" category="weapons" textcost=" " index="11"></link>
    <link option="gnSpcWpn" priority="56" index="12"></link>
    <tag group="UnitTags" tag="transport" name="Vehicle Type: Transport"/>
    <tag group="smTags" tag="Transport"/>
    <tag group="UnitTags" tag="tank" name="Vehicle Type: Tank"/>
    <member><![CDATA[(ruleset.smCh5E) | (!ruleset.ro_ApocTA & (ruleset.oh_AllySM)) & !(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)]]></member>
    <childcost><![CDATA[~ Changing cost to zero based on assault choice
if (root.tagis[smTags.Infantry] = 1) then
   @cost = 0
   @text = "Free"
endif]]></childcost>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Rhino (IA)"
endif
]]></postlinks>
    </unit>
  <unit id="sm5EDrop2" name="Drop Pod" statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="12"/>
    <statval stat="Side" value="12"/>
    <linkref id="smUT_Drop"/>
    <link option="gnRef" name="(IA2, pg. 153)" priority="0" index="16">
      <live><![CDATA[!ruleset.ro_CompOut & iaHelper.iaVersion]]></live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Option --{text 010101}" priority="5" index="1"></link>
    <link option="smLB" priority="10" index="2"></link>
    <link option="gnSpcWar" priority="13" index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="3">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnStormB" priority="55" nature="base" remainder="range_01" category="weapons" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="65" index="5"></link>
    <link option="gnDML" priority="70" cost="20." costtype="single" category="weapons" index="6">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="7"></link>
    <tag group="smTags" tag="Transport"/>
    <member><![CDATA[(ruleset.smCh5E) | (!ruleset.ro_ApocTA & (ruleset.oh_AllySM))]]></member>
    <childcost><![CDATA[~ Changin cost to zero based on assault choice
if (root.tagis[smTags.Infantry] = 1) then
   @cost = 0
   @text = "Free"
endif
]]></childcost>
    <prelinks>~ tag for IA version

if (option[iaSMVeh].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif</prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMVeh].selection = 1) then
   unit.name = "Drop Pod (IA)"
endif]]></postlinks>
    </unit>
  <unit id="sm5E_Rhi2" name="Rhino" statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="11"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="11"/>
    <linkref id="smChronus"/>
    <linkref id="smUT_Rhino"/>
    <link option="gnRef" name="(IA2, pg. 26)" priority="0" index="13">
      <live><![CDATA[!ruleset.ro_CompOut & iaHelper.iaVersion]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="14">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="2"></link>
    <link option="gnSpcWar" priority="10" index="3"></link>
    <link option="gnWargear" name="{macro color1}-- May take any of the following --{text 010101}" priority="15" index="4"></link>
    <link option="gnPMSB" priority="20" cost="10." category="wargear" index="8"></link>
    <link option="gn6_Dozer" priority="20" cost="5." category="wargear" index="5"></link>
    <link option="gn6_ExArm" priority="20" cost="15." category="wargear" index="6"></link>
    <link option="gn6_HKM" priority="20" cost="10." category="wargear" index="7"></link>
    <link option="gnSpcWar" priority="21" index="9"></link>
    <link option="gnStormB" priority="55" nature="base" category="weapons" textcost=" " index="11"></link>
    <link option="gnSpcWpn" priority="56" index="12"></link>
    <tag group="UnitTags" tag="transport" name="Vehicle Type: Transport"/>
    <tag group="smTags" tag="Transport"/>
    <tag group="UnitTags" tag="tank" name="Vehicle Type: Tank"/>
    <member><![CDATA[(ruleset.smCh5E) | (!ruleset.ro_ApocTA & (ruleset.oh_AllySM)) & !(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)]]></member>
    <childcost><![CDATA[~ Changing cost to zero based on assault choice
if (root.tagis[smTags.Infantry] = 1) then
   @cost = 0
   @text = "Free"
endif]]></childcost>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Rhino (IA)"
endif
]]></postlinks>
    </unit>
  <unit id="sm5ECassiu" name="Chaplain Cassius" cost="125." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="6"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="2"/>
    <linkref id="smUT_Cassi"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnRosarius" priority="5" nature="base" category="wargear" description="Confers a 4+ Invulnerable Save." textcost=" " hide="yes" index="19">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnRosarius" priority="5" nature="base" category="wargear" description="Confers a 4+ Invulnerable Save." textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="20">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Croziu" priority="55" nature="auto" category="weapons" textcost=" " hide="yes" index="21">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Croziu" priority="55" nature="auto" category="weapons" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smI" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="22">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="smI" priority="55" nature="base" category="weapons" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Chaplain"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="smTags" tag="sm5E_RAHQ"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EAsl_A" name="Assault Squad" cost="18." textcost="100" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Asl"/>
    <link option="gnRef" name="(C:SM, pg. 60 &amp; 139)" priority="0" nature="auto" textcost=" " index="28">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" textcost=" " index="4">
      <live><![CDATA[!ruleset.ro_CompOut & !smTags.Infantry]]></live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" textcost=" " hide="yes" index="25">
      <live><![CDATA[ruleset.ro_CompOut & !smTags.Infantry]]></live>
      </link>
    <link option="gnSpcWar" priority="10" index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="6"></link>
    <link option="smRJP" priority="20" textcost=" " index="7"></link>
    <link option="gnSpcWar" priority="21" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_m" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="base" remainder="range_ma" category="weapons" abbrev="ChSwd" textcost=" " hide="yes" index="27">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="base" remainder="range_ma" category="weapons" abbrev="ChSwd" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="35" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="45" index="13">
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnFlamer" priority="50" cost="10." costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnPlasP" priority="50" cost="15." costtype="single" category="weapons" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnSpcWpn" priority="55" category="weapons" index="16"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="60" index="17">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnFlamer" priority="65" cost="10." costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnPlasP" priority="65" cost="15." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="66" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="sm5ESgtAsl" priority="105" nature="auto" costtype="single" index="21"></link>
    <link option="gnTpt" priority="500" index="22">
      <live><![CDATA[smTags.Infantry & !ruleset.ro_bFormat]]></live>
      </link>
    <link option="sm5EDrop2" priority="505" nature="cost" cost="0." textcost="Free" index="23">
      <exclref id="transport"/>
      <live>smTags.Infantry</live>
      </link>
    <link option="sm5E_Rhi2" priority="505" nature="cost" cost="0." textcost="Free" index="24">
      <exclref id="transport"/>
      <live>smTags.Infantry</live>
      </link>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <prelinks><![CDATA[~ Unlocking special and heavy weapons once model count is increased to 9
var unlockSW as number
var unlockHW as number      

if (count[model] > 3) then
   unlockSW = entity.assign[smTags.AllowSW] 
endif

if (count[model] > 8) then
   unlockHW = entity.assign[smTags.AllowHW] 
endif

~ Assigning Infantry tag to remove jump packs and add transport options if remove jump packs is chosen
if (option[smRJP].selection = 1) then
   var retval as number
   retval = entity.assign[smTags.Infantry]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
]]></prelinks>
    <postlinks>~ Removing cost of transport
~if (option[sm5E_Rhino].selection = 1) then
~   @unit = @unit - 35
~elseif (option[sm5EDrop].selection = 1) then
~   @unit = @unit - 35
~endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW
</postlinks>
    </unit>
  <unit id="sm5EAsl_B" name="Assault Squad" cost="18." textcost="100" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Asl"/>
    <link option="gnRef" name="(C:SM, pg. 60 &amp; 139)" priority="0" nature="auto" textcost=" " index="27">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2"></link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1"></link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3"></link>
    <link option="gnSpcWar" priority="10" index="5"></link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_m" category="weapons" textcost=" " index="10"></link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="25">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="base" remainder="range_ma" category="weapons" abbrev="ChSwd" textcost=" " index="11"></link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="base" remainder="range_ma" category="weapons" abbrev="ChSwd" textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="35" index="12"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="45" index="13">
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnFlamer" priority="50" cost="10." costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnPlasP" priority="50" cost="15." costtype="single" category="weapons" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnSpcWpn" priority="55" category="weapons" index="16"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="60" index="17">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnFlamer" priority="65" cost="10." costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnPlasP" priority="65" cost="15." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="66" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="sm5ESgtAsl" priority="105" nature="auto" costtype="single" index="21"></link>
    <link option="gnSpace" priority="308" category="skills" index="24"></link>
    <link option="gnTpt" priority="500" index="22">
      <live><![CDATA[smTags.Infantry & !ruleset.ro_bFormat]]></live>
      </link>
    <link option="sm5EDrop2" priority="505" nature="auto" cost="0." textcost="Free" index="23">
      <exclref id="transport"/>
      <live>smTags.Infantry</live>
      </link>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <prelinks><![CDATA[~ Unlocking special and heavy weapons once model count is increased to 9
var unlockSW as number
var unlockHW as number      

if (count[model] > 3) then
   unlockSW = entity.assign[smTags.AllowSW] 
endif

if (count[model] > 8) then
   unlockHW = entity.assign[smTags.AllowHW] 
endif

~ Assigning Infantry tag to remove jump packs and add transport options if remove jump packs is chosen
   var retval as number
   retval = entity.assign[smTags.Infantry]

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif

]]></prelinks>
    <postlinks>~ Removing cost of transport
~if (option[sm5E_Rhino].selection = 1) then
~   @unit = @unit - 35
~elseif (option[sm5EDrop].selection = 1) then
~   @unit = @unit - 35
~endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW
</postlinks>
    </unit>
  <unit id="sm5ETactic" name="Tactical Squad" cost="16." textcost="90" idtag="yes" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Tac"/>
    <linkref id="smTrans"/>
    <link option="gnRef" name="(C:SM, pg. 59 &amp; 134)" priority="0" nature="auto" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="15" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="22">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="15" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="15" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="15" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="23">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolter with --{text 010101}" priority="30" index="9">
      <live>smTags.AllowSW | ia9TagsG.Tyberos</live>
      </link>
    <link option="gnFlamer" priority="35" cost="0." costtype="single" category="weapons" textcost="Free" index="10">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnMeltaG" priority="35" cost="5." costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnPlasG" priority="35" cost="10." costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnSpcWpn" priority="49" index="13">
      <live>smTags.AllowHW | ia9TagsG.Tyberos</live>
      </link>
    <link option="gn0to1" name="{macro color1}-- Replace Bolter with --{text 010101}" priority="50" index="14">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnLasC" priority="55" cost="10." costtype="single" category="weapons" index="16">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnMMelta" priority="55" costtype="single" category="weapons" textcost="Free" index="17">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnMissile" priority="55" costtype="single" category="weapons" textcost="Free" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnPlasC" priority="55" cost="5." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn6_HvyBG" priority="55" costtype="single" category="weapons" textcost="Free" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="sm5ESgtTac" priority="105" nature="auto" cost="3." costtype="single" index="21"></link>
    <link option="gn6_Relent" priority="305" nature="auto" cost="0." category="skills" textcost=" " index="25">
      <live>smTags.SgtHaas</live>
      </link>
    <tag group="smTags" tag="TacSquad"/>
    <tag group="smTags" tag="sm5E_IESqd"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="Troop"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="Legion"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_IEC] = 1) then
   retval = unit.assign[smTags.apFsm5_IEC]
endif

~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif

~Unlocking special and heavy weapons once model count is increased to 9
var unlockSW as number
var unlockHW as number      

if (count[model] = 9) then
   unlockSW = entity.assign[smTags.AllowSW] 
   unlockHW = entity.assign[smTags.AllowHW] 
endif

~ Calculation aid for model count
call sm5E_model</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ Deleting Group for purposes of compulsory accounting
~if (unit.tagis[ally.sm] = 1) then
~   var retval as number
~   retval = unit.delete[Group.Troop]
~endif</postlinks>
    </unit>
  <unit id="sm_STGun" name="Stormtalon Gunship" cost="110." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="At" value=" "/>
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="11"/>
    <statval stat="HP" value="2"/>
    <statval stat="In" value=" "/>
    <statval stat="Rear" value="11"/>
    <statval stat="Side" value="11"/>
    <statval stat="St" value=" "/>
    <statval stat="WS" value=" "/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="gn6_FlyAce"/>
    <link option="gnRef" name="(DFTS, pgs. 57 &amp; 68)" priority="0" nature="auto" textcost=" " index="42">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="ba5E_CerPl" priority="5" nature="base" category="wargear" textcost=" " index="40">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLAssltC" priority="18" nature="auto" remainder="range_01b" category="weapons" textcost=" " hide="yes" index="49">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLAssltC" priority="18" nature="auto" remainder="range_01b" category="weapons" textcost=" " index="50">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLHvyBlt" priority="19" nature="auto" remainder="range_01a" category="weapons" textcost=" " hide="yes" index="37">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLHvyBlt" priority="19" nature="auto" remainder="range_01a" category="weapons" textcost=" " index="35">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace TL Heavy Bolter with --{text 010101}" priority="23" index="12"></link>
    <link option="gnTLLasC" priority="25" cost="30." category="weapons" index="13">
      <exclref id="range_01a"/>
      </link>
    <link option="gnTML" priority="25" cost="35." category="weapons" index="39">
      <exclref id="range_01a"/>
      </link>
    <link option="sm5E_SkyMi" priority="25" cost="15." category="weapons" index="51">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Strafe" priority="305" nature="auto" textcost=" " index="47">
      <live><![CDATA[!ruleset.ro_CompOut & !roster.chA]]></live>
      </link>
    <link option="smSR_EscC" priority="305" nature="auto" textcost=" " index="45">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="52"></link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="race" tag="bt"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="flyerhov" name="Vehicle Type: Flyer w/Hover mode"/>
    </unit>
  <unit id="sm5ESgtAsl" name="Sergeant" cost="28." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Asl"/>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" textcost=" " index="4">
      <live><![CDATA[!smTags.Infantry & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" textcost=" " hide="yes" index="3">
      <live><![CDATA[!smTags.Infantry & ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWar" priority="10" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="7"></link>
    <link option="gnCombSh" priority="20" cost="5." index="9"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="10"></link>
    <link option="smRJP" priority="20" nature="auto" textcost=" " mirror="smRJP" index="8"></link>
    <link option="gnWeapon" priority="28" index="24">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="30" category="weapons" textcost=" " select="yes" index="11">
      <exclref id="onehand"/>
      </link>
    <link option="gnCCWUn" priority="30" category="weapons" textcost=" " select="yes" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="33" index="13"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace BoltP / Chainsword with --{text 010101}" priority="35" index="14"></link>
    <link option="gnLtCl" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="18">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" costtype="single" category="weapons" index="19">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormS3" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="21">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="20">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="29">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="27">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="28">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_TH" priority="40" cost="30." rangemax="2" costtype="single" category="weapons" index="22">
      <exclref id="onehand"/>
      </link>
    <link option="gnLtClPr" priority="41" cost="30." rangemax="2" costtype="single" category="weapons" index="26">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="43" index="23"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <prelinks>~ Assigning Infantry tag to remove jump packs and add transport options if remove jump packs is chosen
if (option[smRJP].selection = 1) then
   var retval as number
   retval = entity.assign[smTags.Infantry]
endif</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETac_A" name="Tactical Squad" cost="16." textcost="90" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Tac"/>
    <linkref id="smTrans"/>
    <link option="gnRef" name="(C:SM, pg. 59 &amp; 134)" priority="0" nature="auto" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="15" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="22">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="15" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="15" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="15" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="23">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolter with --{text 010101}" priority="30" index="9">
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnFlamer" priority="35" cost="0." costtype="single" category="weapons" textcost="Free" index="10">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnMeltaG" priority="35" cost="5." costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnPlasG" priority="35" cost="10." costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnSpcWpn" priority="49" index="13">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn0to1" name="{macro color1}-- Replace Bolter with --{text 010101}" priority="50" index="14">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnLasC" priority="55" cost="10." costtype="single" category="weapons" index="16">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnMMelta" priority="55" costtype="single" category="weapons" textcost="Free" index="17">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnMissile" priority="55" costtype="single" category="weapons" textcost="Free" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnPlasC" priority="55" cost="5." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn6_HvyBG" priority="55" costtype="single" category="weapons" textcost="Free" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="sm5ESgtTac" priority="105" nature="auto" cost="3." costtype="single" index="21"></link>
    <tag group="smTags" tag="TacSquad"/>
    <tag group="Group" tag="Troop"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <prelinks>~Unlocking special and heavy weapons once model count is increased to 9
var unlockSW as number
var unlockHW as number      

if (count[model] = 9) then
   unlockSW = entity.assign[smTags.AllowSW] 
   unlockHW = entity.assign[smTags.AllowHW] 
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETac_B" name="Tactical Squad" cost="16." textcost="90" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Tac"/>
    <linkref id="smAutoDP"/>
    <link option="gnRef" priority="0" nature="auto" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="15" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="15" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="22">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="15" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="15" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="23">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolter with --{text 010101}" priority="30" index="9">
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnFlamer" priority="35" cost="0." costtype="single" category="weapons" textcost="Free" index="10">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnMeltaG" priority="35" cost="5." costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnPlasG" priority="35" cost="10." costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      <live>smTags.AllowSW</live>
      </link>
    <link option="gnSpcWpn" priority="49" index="13">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn0to1" name="{macro color1}-- Replace Bolter with --{text 010101}" priority="50" index="14">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnLasC" priority="55" cost="10." costtype="single" category="weapons" index="16">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnMMelta" priority="55" costtype="single" category="weapons" textcost="Free" index="17">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnMissile" priority="55" costtype="single" category="weapons" textcost="Free" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnPlasC" priority="55" cost="5." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn6_HvyBG" priority="55" costtype="single" category="weapons" textcost="Free" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="sm5ESgtTac" priority="105" nature="auto" cost="3." costtype="single" index="21"></link>
    <tag group="smTags" tag="TacSquad"/>
    <tag group="Group" tag="Troop"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <prelinks>~Unlocking special and heavy weapons once model count is increased to 9
var unlockSW as number
var unlockHW as number      

if (count[model] = 9) then
   unlockSW = entity.assign[smTags.AllowSW] 
   unlockHW = entity.assign[smTags.AllowHW] 
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ESgtVan" name="Sergeant" cost="45." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Van"/>
    <link option="iaSM_SgtCu" priority="0" display="705" index="0"></link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="5"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="6"></link>
    <link option="gn6_JumpP" name="Jump Pack" priority="20" nature="auto" cost="10." mirror="gn6_JumpP" contingent="gn6_JumpP" index="7"></link>
    <link option="gnSpcWar" priority="21" index="8">
      <live>smTags.SgtCulln</live>
      </link>
    <link option="gnWeapon" priority="25" index="9">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_01a" category="weapons" textcost=" " hide="yes" index="10">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_01a" category="weapons" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smRB" priority="30" nature="auto" cost="0." costtype="single" category="weapons" textcost=" " index="12">
      <live><![CDATA[smTags.SgtCulln & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWpn" priority="33" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="35" index="14"></link>
    <link option="gn6_PowAx" priority="38" cost="0." textcost="Free" index="15">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="38" cost="0." textcost="Free" index="16">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="38" cost="0." textcost="Free" index="17">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="38" cost="0." textcost="Free" index="18">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="40" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Power Weapon with --{text 010101}" priority="43" index="20">
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnLtCl" priority="45" cost="0." category="weapons" textcost="Free" index="21">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnPowF" priority="45" cost="10." category="weapons" index="22">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gn6_TH" priority="45" cost="15." category="weapons" index="23">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="smRB" priority="45" costtype="single" category="weapons" index="24">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      <live><![CDATA[!smTags.SgtCulln & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWpn" priority="48" index="25">
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="50" index="26">
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnLtCl" priority="55" cost="15." costtype="single" category="weapons" index="27">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnPlasP" priority="55" cost="15." costtype="single" category="weapons" index="28">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnPowF" priority="55" cost="25." costtype="single" category="weapons" index="29">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnStormS3" priority="55" cost="15." costtype="single" category="weapons" index="30">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gn6_PowAx" priority="55" cost="15." costtype="single" category="weapons" index="31">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gn6_PowLa" priority="55" cost="15." costtype="single" category="weapons" index="32">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gn6_PowMa" priority="55" cost="15." costtype="single" category="weapons" index="33">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gn6_PowSw" priority="55" cost="15." costtype="single" category="weapons" index="34">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gn6_TH" priority="55" cost="30." costtype="single" category="weapons" index="35">
      <exclref id="range_01a"/>
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="36">
      <live>!smTags.SgtCulln</live>
      </link>
    <link option="iaSR_AAO" index="38">
      <live>smTags.SgtCulln</live>
      </link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <prelinks>~ Calculation aid for Vanguard Veteran count
call sm5E_model</prelinks>
    <postlinks><![CDATA[~ Changing name of unit based on tagging
if (entity.tagis[smTags.SgtCulln] = 1) then
   entity.name ="Sergeant Culln (IA)"
   var retval as number
   retval = root.assign[smTags.SgtCulln]
   entity.basestat[Wo] = 2
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW
]]></postlinks>
    </unit>
  <unit id="sm5EDev_A" name="Devastator Squad" cost="16." textcost="90" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Dev"/>
    <linkref id="smTrans"/>
    <link option="gnRef" name="(C:SM, pg. 61 &amp; 142)" priority="0" nature="auto" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="65" index="9"></link>
    <link option="gnLasC" priority="70" cost="35." rangemax="4" costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMMelta" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMissile" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="13">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnPlasC" priority="70" cost="25." rangemax="4" costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gn6_HvyBG" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="10">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="15"></link>
    <link option="sm5ESgtDev" priority="105" nature="auto" cost="3." costtype="single" index="16"></link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="DevSquad"/>
    <tag group="Group" tag="Heavy"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EDev_B" name="Devastator Squad" cost="16." textcost="90" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Dev"/>
    <linkref id="smAutoDP"/>
    <link option="gnRef" name="(C:SM, pg. 61 &amp; 142)" priority="0" nature="auto" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="65" index="9"></link>
    <link option="gnLasC" priority="70" cost="35." rangemax="4" costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMMelta" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMissile" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="13">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnPlasC" priority="70" cost="25." rangemax="4" costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gn6_HvyBG" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="10">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="15"></link>
    <link option="sm5ESgtDev" priority="105" nature="auto" cost="3." costtype="single" index="16"></link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="DevSquad"/>
    <tag group="Group" tag="Heavy"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EScout" name="Scout Squad" cost="13." textcost="75" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="3"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Sco"/>
    <link option="gnRef" name="(C:SM, pg. 66 &amp; 134)" priority="0" nature="auto" textcost=" " index="26">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnScoArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="28" index="5"></link>
    <link option="gn6_CamC" priority="30" cost="3." description="Camo Cloaks (see C:SM, pg. 100 &amp; 6E SM FAQ)." index="6"></link>
    <link option="gnSpcWar" priority="31" index="7"></link>
    <link option="gnWeapon" priority="33" index="8">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltG" priority="35" nature="auto" remainder="range_m" category="weapons" textcost=" " index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="35" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="24">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="35" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="35" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="25">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="38" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="40" index="12"></link>
    <link option="gnCCW" name="Combat Blade" priority="45" cost="0." rangemax="9" costtype="single" category="weapons" abbrev="ComBld" textcost="Free" index="13">
      <exclref id="range_m"/>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="45" cost="0." rangemax="9" costtype="single" category="weapons" textcost="Free" index="14">
      <exclref id="range_m"/>
      </link>
    <link option="gnSnipeR" priority="45" cost="0." rangemax="9" costtype="single" category="weapons" textcost="Free" index="15">
      <exclref id="range_m"/>
      </link>
    <link option="gnSpcWpn" priority="50" index="16"></link>
    <link option="gn0to1" priority="55" category="weapons" index="17"></link>
    <link option="gnMissile" priority="60" cost="10." costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="smHBwHR" priority="60" cost="10." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="61" index="20"></link>
    <link option="gnAddUnit" name="{macro color1}-- Upgrade Sergeant to --{text 010101}" priority="100" category="taUpgrade" index="21"></link>
    <link option="sm5ESgtSco" priority="105" nature="auto" cost="13." remainder="range_11" index="22"></link>
    <link option="sm5ETelion" priority="105" cost="50." textcost="50" index="23">
      <exclref id="range_11"/>
      </link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="ScoutSqd"/>
    <tag group="Group" tag="Troop"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks><![CDATA[~ Adjusting squad cost if Sgt. Telion is chosen
if (option[sm5ETelion].selection > 0) then
   @single = @single + 23
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ Deleting Group for purposes of compulsory accounting
~if (unit.tagis[ally.sm] = 1) then
~   var retval as number
~   retval = unit.delete[Group.Troop]
~endif]]></postlinks>
    </unit>
  <unit id="sm5ESgtSco" name="Sergeant" cost="10." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Sco"/>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnScoArm" priority="5" nature="base" cost="0." category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" category="wargear" index="5"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="6"></link>
    <link option="gn6_CamC" priority="20" nature="auto" cost="3." description="Camo Cloaks (see C:SM, pg. 100 &amp; 6E SM FAQ)." mirror="gn6_CamC" index="7"></link>
    <link option="sm5E_Homer" priority="20" cost="15." category="wargear" index="8"></link>
    <link option="gnBoltG" priority="55" category="weapons" textcost=" " select="yes" index="11">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnBoltPUn" priority="55" category="weapons" textcost=" " select="yes" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="58" index="13"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Shotgun / BoltP with --{text 010101}" priority="60" index="14"></link>
    <link option="gnCCW" name="Combat Blade" priority="63" cost="0." costtype="single" category="weapons" abbrev="ComBld" textcost="Free" index="15">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="63" cost="0." costtype="single" category="weapons" textcost="Free" index="26">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnSnipeR" priority="63" cost="0." costtype="single" category="weapons" textcost="Free" index="24">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnCombF" priority="65" cost="10." rangemax="2" costtype="single" category="weapons" index="16">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="65" cost="10." rangemax="2" costtype="single" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="65" cost="10." rangemax="2" costtype="single" category="weapons" index="18">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="65" cost="15." rangemax="2" costtype="single" category="weapons" index="19">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="65" cost="25." rangemax="2" costtype="single" category="weapons" index="20">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="65" cost="15." rangemax="2" costtype="single" category="weapons" index="22">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="65" cost="15." rangemax="2" costtype="single" category="weapons" index="28">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="65" cost="15." rangemax="2" costtype="single" category="weapons" index="30">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="65" cost="15." rangemax="2" costtype="single" category="weapons" index="29">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="68" index="25"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

</postlinks>
    </unit>
  <unit id="sm5ELSStor" name="Land Speeder Storm" cost="50." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="3"/>
    <statval stat="Front" value="10"/>
    <statval stat="HP" value="2"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="10"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUT_LS"/>
    <link option="gnRef" name="(C:SM, pg. 75 &amp; 141)" priority="0" nature="auto" textcost=" " index="39">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smCL" priority="5" nature="base" textcost=" " index="32">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smJB" priority="5" nature="base" textcost=" " index="31">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="37">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="55" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="38">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="55" nature="auto" remainder="range_01" category="weapons" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="35">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Heavy Bolter with --{text 010101}" priority="65" index="26"></link>
    <link option="gnAssltC" priority="70" cost="35." costtype="single" category="weapons" index="33">
      <exclref id="range_01"/>
      </link>
    <link option="gnHvyFl" priority="70" cost="10." costtype="single" category="weapons" index="22">
      <exclref id="range_01"/>
      </link>
    <link option="gnMMelta" priority="70" cost="15." costtype="single" category="weapons" index="5">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="36">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="LS_Storm"/>
    <tag group="smTags" tag="Vehicle"/>
    <tag group="UnitTags" tag="skimmer" name="Vehicle Type: Skimmer"/>
    <tag group="UnitTags" tag="transport" name="Vehicle Type: Transport"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="fastopen" name="Vehicle Type: Fast, Open-topped"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    </unit>
  <unit id="sm5EDev_C" name="Devastator Squad" cost="16." textcost="90" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Dev"/>
    <linkref id="smAutoDP"/>
    <link option="gnRef" priority="0" nature="auto" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="65" index="9"></link>
    <link option="gnLasC" priority="70" cost="35." rangemax="4" costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMMelta" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMissile" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="13">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnPlasC" priority="70" cost="25." rangemax="4" costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gn6_HvyBG" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="10">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="15"></link>
    <link option="sm5ESgtDev" priority="105" nature="auto" cost="3." costtype="single" index="16"></link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="DevSquad"/>
    <tag group="Group" tag="Heavy"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ESgtTac" name="Sergeant" cost="23." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Tac"/>
    <link option="iaSM_SgtHa" priority="0" display="705" index="0"></link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="auto" cost="0." textcost=" " index="3">
      <live><![CDATA[!ruleset.ro_CompOut & smTags.SgtHaas]]></live>
      </link>
    <link option="gnIronHalo" priority="5" nature="auto" cost="0." textcost=" " index="4">
      <live><![CDATA[!ruleset.ro_CompOut & smTags.SgtHaas]]></live>
      </link>
    <link option="gnPowArm" priority="5" nature="auto" textcost=" " index="5">
      <live><![CDATA[!ruleset.ro_CompOut & !smTags.SgtHaas]]></live>
      </link>
    <link option="gnSpcWar" priority="10" index="6">
      <live><![CDATA[!ruleset.ro_CompOut & !smTags.SgtHaas]]></live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="7">
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="8">
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="sm5E_Homer" priority="20" cost="15." category="wargear" index="9">
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnSpcWar" priority="23" index="10">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gnBoltG" priority="25" category="weapons" textcost=" " select="yes" index="11">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnBoltPUn" priority="25" category="weapons" textcost=" " select="yes" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="28" index="13">
      <live>smTags.SgtHaas</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="30" index="14">
      <live>smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowAx" priority="33" cost="0." textcost="Free" index="15">
      <exclref id="range_11"/>
      <live>smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowLa" priority="33" cost="0." textcost="Free" index="16">
      <exclref id="range_11"/>
      <live>smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowMa" priority="33" cost="0." textcost="Free" index="17">
      <exclref id="range_11"/>
      <live>smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowSw" priority="33" cost="0." textcost="Free" index="18">
      <exclref id="range_11"/>
      <live>smTags.SgtHaas</live>
      </link>
    <link option="gnSpcWpn" priority="35" index="19"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun / BoltP with --{text 010101}" priority="38" index="20">
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnCCW" name="Chainsword" priority="40" cost="0." rangemax="2" costtype="single" category="weapons" abbrev="ChSwd" textcost="Free" index="21">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnCombF" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="22">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnCombMG" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="23">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnCombPG" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="24">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnPlasP" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="25">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" costtype="single" category="weapons" index="26">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnStormB" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="27">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="28">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="29">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="30">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="31">
      <exclref id="onehand"/>
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnSpcWpn" priority="43" index="32">
      <live>!smTags.SgtHaas</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="33">
      <live>smTags.SgtHaas</live>
      </link>
    <link option="iaSR_AAd" textcost=" " index="34">
      <live>smTags.SgtHaas</live>
      </link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <prelinks>~ Calculation aid for model count
call sm5E_model</prelinks>
    <postlinks><![CDATA[~ Changing name of unit based on tagging
if (entity.tagis[smTags.SgtHaas] = 1) then
   entity.name ="Veteran Sergeant Haas (IA)"
   var retval as number
   retval = root.assign[smTags.SgtHaas]
   entity.basestat[Wo] = 2
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <unit id="sm5ELandSp" name="Land Speeder Squadron" cost="50." statset="vehicle" maxsize="3" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="10"/>
    <statval stat="HP" value="2"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="10"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUT_LS"/>
    <link option="gnRef" name="(C:SM, pg. 74 &amp; 139)" priority="0" nature="auto" textcost=" " index="33">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="3" index="32">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_HvyBGU" priority="5" nature="auto" rangemax="3" remainder="range_m" category="weapons" textcost=" " hide="yes" index="31">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="5" nature="auto" rangemax="3" remainder="range_m" category="weapons" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="10" index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Heavy Bolter with --{text 010101}" priority="20" index="26"></link>
    <link option="gnHvyFl" priority="25" cost="0." rangemax="3" costtype="single" category="weapons" textcost="Free" index="22">
      <exclref id="range_m"/>
      </link>
    <link option="gnMMelta" priority="25" cost="10." rangemax="3" costtype="single" category="weapons" index="5">
      <exclref id="range_m"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="10"></link>
    <link option="gn0to1" priority="40" category="weapons" index="18"></link>
    <link option="gnAssltC" priority="45" cost="40." rangemax="3" costtype="single" category="weapons" index="27">
      <exclref id="range_0mj"/>
      </link>
    <link option="gnHvyFl" priority="45" cost="10." rangemax="3" costtype="single" category="weapons" index="28">
      <exclref id="range_0mj"/>
      </link>
    <link option="gnMMelta" priority="45" cost="20." rangemax="3" costtype="single" category="weapons" index="20">
      <exclref id="range_0mj"/>
      </link>
    <link option="gnTML" priority="45" cost="40." rangemax="3" costtype="single" category="weapons" index="12">
      <exclref id="range_0mj"/>
      </link>
    <link option="gn6_HvyBG" priority="45" cost="10." rangemax="3" costtype="single" category="weapons" index="29">
      <exclref id="range_0mj"/>
      </link>
    <link option="gnSpcWpn" priority="48" index="30">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Vehicle"/>
    <tag group="UnitTags" tag="skimmer" name="Vehicle Type: Skimmer"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="fast" name="Vehicle Type: Fast"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    </unit>
  <unit id="sm5ECalgar" name="Marneus Calgar, Lord Macragge" cost="250." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="4"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="4"/>
    <linkref id="smUT_Calga"/>
    <linkref id="gnWarlord"/>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="1">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_01" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Replace Power Armor with --{text 010101}" priority="15" index="5"></link>
    <link option="umAoA" priority="20" index="6">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWar" priority="21" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="umGoU" priority="53" nature="base" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="umGoU" priority="53" nature="base" category="weapons" textcost=" " hide="yes" index="9">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="55" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="60" index="12"></link>
    <link option="gn6_PowAx" priority="65" cost="0." textcost="Free" index="13">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="65" cost="0." textcost="Free" index="14">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="65" cost="0." textcost="Free" index="15">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="65" cost="0." textcost="Free" index="16">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="68" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="umTagsG" tag="UltraMaste"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="ChapterMas"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETer_A" name="Terminator Squad" cost="40." textcost="200" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <linkref id="smTerTrans"/>
    <link option="gnRef" name="(C:SM, pg. 64 &amp; 136)" priority="0" nature="auto" textcost=" " index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="1"></link>
    <link option="gnSpcWar" priority="6" index="2"></link>
    <link option="gnWeapon" priority="10" index="3">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnPowFUn" priority="13" nature="auto" remainder="range_ma" category="weapons" textcost=" " index="4"></link>
    <link option="gnStormB" priority="13" nature="auto" remainder="range_m" category="weapons" textcost=" " index="5"></link>
    <link option="gnSpcWpn" priority="15" index="6"></link>
    <link option="gnWeapon" name="{macro color1}-- Options --{text 010101}" priority="18" index="7"></link>
    <link option="gn6_ChFstU" priority="20" cost="5." rangemax="9" costtype="single" category="weapons" index="8">
      <exclref id="range_ma"/>
      </link>
    <link option="gnSpcWpn" priority="21" index="9"></link>
    <link option="gn0to1" priority="23" category="weapons" index="10"></link>
    <link option="gnCML" priority="24" cost="30." costtype="single" category="weapons" index="11">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="25" index="12"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="30" index="13"></link>
    <link option="gnAssltC" priority="35" cost="30." costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnHvyFl" priority="35" cost="5." costtype="single" category="weapons" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="40" index="16">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn0to1" priority="45" category="weapons" index="17">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnCML" priority="50" cost="30." costtype="single" category="weapons" index="18">
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="55" index="19">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn0to1" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="60" category="weapons" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnAssltC" priority="65" cost="30." costtype="single" category="weapons" index="21">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnHvyFl" priority="65" cost="5." costtype="single" category="weapons" index="22">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="66" index="23"></link>
    <link option="sm5ESgtTer" priority="105" nature="auto" cost="0." costtype="single" index="24"></link>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="Squad"/>
    <tag group="smTags" tag="TermiSquad"/>
    <member>(ruleset.smCh5E)</member>
    <prelinks>~Unlocking special and heavy weapons once model count is increased to 9
var unlockHW as number      

if (count[model] = 9) then
   unlockHW = entity.assign[smTags.AllowHW] 
endif

~ Adding tag to unit for rule regarding one LR as dedicated transport for a single Terminator squad
if (option[sm5E_LR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRC].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
else
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EShrike" name="Shadow Captain Kayvaan Shrike" cost="195." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Shrik"/>
    <linkref id="gnWarlord"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" category="wargear" textcost=" " hide="yes" index="20">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" category="wargear" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" category="wargear" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_JumpP" priority="5" nature="base" category="wargear" textcost=" " hide="yes" index="21">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="17">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnLtClPr" name="The Raven&apos;s Talons" priority="55" nature="base" category="weapons" description="Master-crafted Lightning Claws; Rending." textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnLtClPr" name="The Raven&apos;s Talons" priority="55" nature="base" category="weapons" description="Master-crafted Lightning Claws; Rending." textcost=" " hide="yes" index="22">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Captain"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ESgtBik" name="Sergeant" cost="40." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Bikes"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " hide="yes" index="20">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="7"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="8"></link>
    <link option="gnWeapon" priority="25" index="9">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="21">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_01" category="weapons" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="35" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="39" index="10"></link>
    <link option="gnCombF" priority="40" cost="10." costtype="single" category="weapons" index="11">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="40" cost="10." costtype="single" category="weapons" index="12">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="40" cost="10." costtype="single" category="weapons" index="13">
      <exclref id="range_01"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." costtype="single" category="weapons" index="14">
      <exclref id="range_01"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." costtype="single" category="weapons" index="15">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." costtype="single" category="weapons" index="16">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." costtype="single" category="weapons" index="22">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." costtype="single" category="weapons" index="23">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." costtype="single" category="weapons" index="24">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="41" index="18"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm_SRGun" name="Stormraven Gunship" cost="200." statset="vehicle" maxsize="1" startsize="1">
    <comment>Revised for Death from the Skies supplement.</comment>
    <statval stat="At" value=" "/>
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="  "/>
    <statval stat="Rear" value="12"/>
    <statval stat="Side" value="12"/>
    <statval stat="St" value=" "/>
    <statval stat="WS" value=" "/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="gn6_FlyAce"/>
    <link option="gnRef" name="(DFTS, pgs. 56 &amp; 68)" priority="0" nature="auto" textcost=" " index="31"></link>
    <link option="ba5E_CerPl" priority="5" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="3"></link>
    <link option="gn6_ExArm" priority="10" cost="5." category="wargear" index="4"></link>
    <link option="gn6_Search" priority="10" cost="1." category="wargear" index="5"></link>
    <link option="smLB" priority="10" cost="10." category="wargear" index="6"></link>
    <link option="gnSpcWar" priority="13" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLAssltC" priority="15" nature="auto" remainder="range_01" category="weapons" textcost=" " index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLAssltC" priority="15" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="10">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLHvyBlt" priority="16" nature="auto" remainder="range_01a" category="weapons" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLHvyBlt" priority="16" nature="auto" remainder="range_01a" category="weapons" textcost=" " hide="yes" index="12">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_StoM" name="4x Stormstrike Missiles" priority="17" nature="auto" abbrev="4x StormstrikeMissiles" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace TL Assault Cannon with --{text 010101}" priority="35" index="18"></link>
    <link option="gnPlasC" name="Twin-Linked Plasma Cannon" priority="40" cost="0." category="weapons" abbrev="TLPC" textcost="Free" index="19">
      <exclref id="range_01"/>
      </link>
    <link option="gnTLLasC" priority="40" cost="0." category="weapons" textcost="Free" index="20">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="21"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace TL Heavy Bolter with --{text 010101}" priority="50" index="14"></link>
    <link option="gnTLMMelta" priority="53" cost="0." category="weapons" textcost="Free" index="15">
      <exclref id="range_01a"/>
      </link>
    <link option="gnTML" priority="53" cost="25." category="weapons" index="16">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="55" index="17"></link>
    <link option="gnWeapon" name="{macro color1}-- Add Side Sponsons with --{text 010101}" priority="70" index="22"></link>
    <link option="gnHurrBlt" name="Hurricane Bolters (each side)" priority="73" cost="30." category="weapons" abbrev="2x HurrBlt" index="23"></link>
    <link option="gnSpcWpn" priority="75" index="24"></link>
    <link option="gn6_AslVeh" priority="305" nature="include" textcost=" " index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PotMS" priority="305" nature="include" category="skills" textcost=" " index="26">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SkiFur" priority="305" nature="auto" textcost=" " index="27">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="32"></link>
    <link option="gn6_AP4" priority="900" display="4" nature="auto" textcost=" " index="28"></link>
    <link option="gn6_TCDN" priority="900" display="3" nature="auto" textcost=" " index="29"></link>
    <link option="gn6_TC12" name="{B}12 model{/B} capacity, and/or" priority="900" display="2" nature="auto" textcost=" " index="30"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="UnitTags" tag="flyerhov" name="Vehicle Type: Flyer w/Hover mode"/>
    <tag group="UnitTags" tag="transport" name="Vehicle Type: Transport"/>
    <tag group="race" tag="bt"/>
    <tag group="race" tag="rg"/>
    <tag group="Group" tag="Heavy"/>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    </unit>
  <unit id="sm5ESMBike" name="Space Marine Bike Squad" cost="25." textcost="90" statset="unit" minsize="2" maxsize="7" startsize="2">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Bikes"/>
    <link option="gnRef" name="(C:SM, pg. 68 &amp; 140)" priority="0" nature="auto" textcost=" " index="32">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="22">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " hide="yes" index="29">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="20" index="23">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="25" nature="auto" remainder="range_m" category="weapons" textcost=" " index="21">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="25" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="30">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="30" index="27">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="35" index="1"></link>
    <link option="gnFlamer" priority="40" cost="5." rangemax="2" costtype="single" category="weapons" index="4">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMeltaG" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="5">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnPlasG" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="6">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnSpcWpn" priority="43" index="31"></link>
    <link option="gnAddUnit" priority="100" index="20">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="sm5ELoneAB" priority="105" category="add" index="17"></link>
    <link option="sm5ESgtBik" priority="105" nature="auto" index="18"></link>
    <link option="gnSpace" priority="106" category="add" index="26"></link>
    <link option="gnRoster" priority="200" index="24">
      <live><![CDATA[!ruleset.ro_bFormat & smTagG.Mounted & smTags.EligibleM]]></live>
      </link>
    <link option="gnTroop" priority="205" cost="0." textcost=" " index="25">
      <live><![CDATA[smTagG.Mounted & smTags.EligibleM]]></live>
      </link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="bikes" name="Unit Type: Bikes"/>
    <tag group="race" tag="rg"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~ Adding tag for eligibility of Mounted Assault
if (count[recurse] >= 5) then
   var eligible as number
   eligible = entity.assign[smTags.EligibleM]
endif]]></prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ELoneAB" name="Attack Bike" cost="40." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="2"/>
    <linkref id="smUT_Bikes"/>
    <link option="gnKrakG_E" priority="5" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="5" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" category="wargear" index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" category="wargear" hide="yes" index="7">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="22">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="25" nature="auto" category="weapons" textcost=" " hide="yes" index="24">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="25" nature="auto" category="weapons" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="25" nature="auto" cost="0." remainder="range_01" costtype="single" category="weapons" textcost=" " hide="yes" index="25">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="25" nature="auto" cost="0." remainder="range_01" costtype="single" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="30" index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn0to1" name="{macro color1}-- Replace Heavy Bolter with --{text 010101}" priority="40" category="weapons" index="1"></link>
    <link option="gnMMeltaUn" priority="45" cost="10." costtype="single" category="weapons" index="18">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="46" index="21">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="AttackBike"/>
    <tag group="UnitTags" tag="bikes" name="Unit Type: Bikes"/>
    <member>ruleset.smCh5E</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETAS_A" name="Terminator Assault Squad" cost="40." textcost="200" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <linkref id="smTerTrans"/>
    <link option="gnRef" name="(C:SM, pg. 64 &amp; 136)" priority="0" nature="auto" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="1"></link>
    <link option="gnSpcWar" priority="6" index="2"></link>
    <link option="gnWeapon" priority="50" index="3">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnLtClPrUn" priority="55" nature="auto" remainder="range_ma" category="weapons" textcost=" " index="4"></link>
    <link option="gnSpcWpn" priority="58" index="7"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Lightning Claws with --{text 010101}" priority="60" index="5"></link>
    <link option="gn6_THSS3" priority="65" rangemax="9" category="weapons" textcost="Free" index="6">
      <exclref id="range_ma"/>
      </link>
    <link option="gnSpcWpn" priority="66" index="9"></link>
    <link option="sm5ESgtTA" priority="105" nature="auto" cost="0." costtype="single" index="8"></link>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="Squad"/>
    <tag group="smTags" tag="TermiAsSqd"/>
    <member>(ruleset.smCh5E)</member>
    <prelinks>~ Adding tag to unit for rule regarding one LR as dedicated transport for a single Terminator squad
      if (option[sm5E_LR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRC].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
else
endif</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ELiPA" name="Space Marine Librarian in Power Armour" cost="100." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="2"/>
    <statval stat="gn6_PsyPow" value="2"/>
    <linkref id="smOptAA"/>
    <linkref id="smUT_Lib"/>
    <linkref id="sm5E_LibPP"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " hide="yes" index="2">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PsyHoo" priority="5" nature="base" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="55" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Force Weapon --{text 010101}" priority="60" index="8"></link>
    <link option="gn6_ForcAx" priority="65" cost="0." textcost="Free" index="9">
      <exclref id="range_11a"/>
      </link>
    <link option="gn6_ForcSt" priority="65" cost="0." textcost="Free" index="10">
      <exclref id="range_11a"/>
      </link>
    <link option="gn6_ForcSw" priority="65" cost="0." textcost="Free" index="11">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="68" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="sm5E_UpEpi" priority="105" index="14"></link>
    <link option="gn6_PP_2" priority="705" index="15">
      <live>(UnitTags.gn6_PsyCod | UnitTags.gn6_Psy6E)</live>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Librarian"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="Group" tag="HQ"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_VTF] = 1) then
   retval = unit.assign[smTags.apFsm5_VTF]
endif

~ Adding tag to model if Upgrade to Epistolary is chosen
if (option[sm5E_UpEpi].selection = 1) then
   var retval as number
   retval = entity.assign[smTags.sm_LibEpis]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
   basestat[To] = 5
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ESgtScB" name="Sergeant" idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_ScB"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnScoArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " hide="yes" index="22">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="8"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="9"></link>
    <link option="smLB" priority="20" cost="25." index="10"></link>
    <link option="gnWeapon" priority="25" index="20">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_01" category="weapons" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="23">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="30" nature="base" category="weapons" textcost=" " hide="yes" index="24">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="30" nature="base" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="40" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="45" index="12"></link>
    <link option="gnCombF" priority="50" cost="10." costtype="single" category="weapons" index="13">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="50" cost="10." costtype="single" category="weapons" index="14">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="50" cost="10." costtype="single" category="weapons" index="15">
      <exclref id="range_01"/>
      </link>
    <link option="gnPlasP" priority="50" cost="15." costtype="single" category="weapons" index="16">
      <exclref id="range_01"/>
      </link>
    <link option="gnPowF" priority="50" cost="25." costtype="single" category="weapons" index="17">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowAx" priority="50" cost="15." costtype="single" category="weapons" index="18">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowLa" priority="50" cost="15." costtype="single" category="weapons" index="25">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowMa" priority="50" cost="15." costtype="single" category="weapons" index="26">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_PowSw" priority="50" cost="15." costtype="single" category="weapons" index="27">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="51" index="19"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETelion" name="Sergeant Telion" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="6"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Telio"/>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="29">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnScoArm" priority="5" nature="base" cost="0." category="wargear" textcost=" " index="36">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_CamC" name="Camo Cloak" priority="5" nature="auto" textcost=" " index="40"></link>
    <link option="gnSpcWar" priority="8" index="39">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="37">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSPB" priority="55" nature="base" category="weapons" textcost=" " index="27">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="38">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="limited" tag="unique"/>
    <tag group="smTagG" tag="Telion"/>
    <member><![CDATA[((ruleset.ro_spec | ruleset.ro_Apoc) & ruleset.smCh5E)]]></member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ELiTA" name="Space Marine Librarian in Terminator Armour" cost="125." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="2"/>
    <statval stat="gn6_PsyPow" value="2"/>
    <linkref id="smOptBB"/>
    <linkref id="smUT_Lib"/>
    <linkref id="sm5E_LibPP"/>
    <linkref id="gnWarlord"/>
    <link option="gn6_PsyHoo" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="2">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Force Weapon --{text 010101}" priority="53" index="5"></link>
    <link option="gn6_ForcAx" priority="55" cost="0." textcost="Free" index="6">
      <exclref id="range_11a"/>
      </link>
    <link option="gn6_ForcSt" priority="55" cost="0." textcost="Free" index="7">
      <exclref id="range_11a"/>
      </link>
    <link option="gn6_ForcSw" priority="55" cost="0." textcost="Free" index="8">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="58" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="sm5E_UpEpi" priority="105" index="10"></link>
    <link option="gn6_PP_2" priority="705" index="12">
      <live>(UnitTags.gn6_PsyCod | UnitTags.gn6_Psy6E)</live>
      </link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Librarian"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="Group" tag="HQ"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_VTF] = 1) then
   retval = unit.assign[smTags.apFsm5_VTF]
endif

~ Adding tag to model if Upgrade to Epistolary is chosen
if (option[sm5E_UpEpi].selection = 1) then
   var retval as number
   retval = entity.assign[smTags.sm_LibEpis]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB_Ch].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EVDN_A" name="Venerable Dreadnought" cost="165." statset="ccvehicle" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="5"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="12"/>
    <statval stat="St" value="6"/>
    <statval stat="WS" value="5"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUTWalker"/>
    <linkref id="smAutoDP"/>
    <link option="gnRef" name="(C:SM, pg. 65 &amp; 137)" priority="0" nature="auto" textcost=" " index="28">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="2"></link>
    <link option="gnSpcWar" priority="8" index="3"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="4"></link>
    <link option="gn6_ExArm" priority="10" cost="15." category="wargear" index="5"></link>
    <link option="gnSpcWar" priority="11" index="6"></link>
    <link option="gnWeapon" priority="13" index="7">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnMMeltaUn" priority="15" nature="auto" remainder="range_11" category="weapons" textcost=" " index="9"></link>
    <link option="gnStormB" priority="15" nature="auto" remainder="range_11a" category="weapons" textcost=" " index="10"></link>
    <link option="gn6_DCCW" priority="15" nature="auto" remainder="range_01" category="weapons" textcost=" " index="8"></link>
    <link option="gnSpcWpn" priority="18" index="11"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="20" index="12"></link>
    <link option="gnHvyFl" priority="25" cost="10." category="weapons" index="13">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Multi-melta with --{text 010101}" priority="35" index="15"></link>
    <link option="gnAssltC" priority="40" cost="10." category="weapons" index="16">
      <exclref id="range_11"/>
      </link>
    <link option="gnPlasC" priority="40" cost="10." category="weapons" index="17">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLAutoC" priority="40" cost="10." category="weapons" index="18">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLHvyBlt" priority="40" cost="5." category="weapons" index="19">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLHvyF" priority="40" cost="0." category="weapons" textcost="Free" index="20">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLLasC" priority="40" cost="30." category="weapons" index="21">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="22"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Dreadnought CCW with --{text 010101}" priority="50" index="23"></link>
    <link option="gnMissile" priority="55" cost="10." category="weapons" index="24">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnTLAutoC" priority="55" cost="10." category="weapons" index="25">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="26"></link>
    <link option="gnSpace" priority="308" category="skills" index="27"></link>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="walker" name="Vehicle Type: Walker"/>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="smTags" tag="Venerable"/>
    <member>ruleset.smCh5E</member>
    <prelinks>~Adding tag to activate Lucius Drop Pod if unit is part of Iron Cyclone formation
var ICDDS as number

if (root.unit.tagis[smTags.apFICDDS] = 1) then
   ICDDS = unit.assign[smTags.apFICDDS]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ELibrar" name="Space Marine Librarian" textcost="100 / 125" statset="container" maxsize="1" startsize="1" modelcount="0">
    <statval stat="At" value=" "/>
    <statval stat="BS" value=" "/>
    <statval stat="In" value=" "/>
    <statval stat="Ld" value=" "/>
    <statval stat="Save" value=" "/>
    <statval stat="Side" value="  "/>
    <statval stat="St" value=" "/>
    <statval stat="To" value=" "/>
    <statval stat="WS" value=" "/>
    <statval stat="Wo" value=" "/>
    <linkref id="sm5E_LibPP"/>
    <linkref id="smUT_Lib"/>
    <link option="sm5ELiPA" priority="5" remainder="range_11" index="0">
      <live>!smTags.apFsm5_VTF</live>
      </link>
    <link option="sm5ELiTA" priority="5" index="3">
      <exclref id="range_11"/>
      <live>!smTags.apFsm5_VTF</live>
      </link>
    <link option="sm5ELiTA" priority="5" nature="auto" index="11">
      <exclref id="range_11"/>
      <live>smTags.apFsm5_VTF</live>
      </link>
    <link option="gnSpace" priority="6" category="gn6_Basic" index="10"></link>
    <link option="gnSpace" name="{macro color1}-- Upgrade to --{text 010101}" priority="100" category="taUpgrade" index="9">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="sm5E_UpEpi" priority="105" index="8"></link>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="smTags" tag="Librarian"/>
    <member><![CDATA[(ruleset.smCh5E | ruleset.smChSiege) | (ruleset.ro_ApocHE & (roster.ig | roster.ohw | roster.cd | roster.chA | roster.de | roster.ne | roster.ork | roster.ta | roster.ty5 | roster.el)) | (ruleset.ro_ApocTA & (roster.ig | roster.ohw)) | (ruleset.ro_ApocDA & (roster.ig | roster.ohw))]]></member>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_VTF] = 1) then
   retval = unit.assign[smTags.apFsm5_VTF]
endif</prelinks>
    </unit>
  <unit id="sm5EDevast" name="Devastator Squad" cost="16." textcost="90" idtag="yes" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Dev"/>
    <linkref id="smTrans"/>
    <link option="gnRef" name="(C:SM, pg. 61 &amp; 142)" priority="0" nature="auto" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="65" index="9"></link>
    <link option="gnLasC" priority="70" cost="35." rangemax="4" costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMMelta" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnMissile" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="13">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnPlasC" priority="70" cost="25." rangemax="4" costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gn6_HvyBG" priority="70" cost="15." rangemax="4" costtype="single" category="weapons" index="10">
      <exclref id="range_m"/>
      <exclref id="range_04"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="15"></link>
    <link option="sm5ESgtDev" priority="105" nature="auto" cost="3." costtype="single" index="16"></link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="DevSquad"/>
    <tag group="Group" tag="Heavy"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege </condition>
      </override>
    <prelinks>~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EDN_A" name="Dreadnought" cost="105." statset="ccvehicle" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="12"/>
    <statval stat="St" value="6"/>
    <statval stat="WS" value="4"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smAutoDP"/>
    <linkref id="smUTWalker"/>
    <link option="gnRef" name="(C:SM, pg. 65 &amp; 137)" priority="0" nature="auto" textcost=" " index="27">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="2"></link>
    <link option="gnSpcWar" priority="8" index="3"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="4"></link>
    <link option="gn6_ExArm" priority="10" cost="15." category="wargear" index="5"></link>
    <link option="gnSpcWar" priority="13" index="6"></link>
    <link option="gnWeapon" priority="15" index="7">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnMMeltaUn" priority="18" nature="auto" remainder="range_11" category="weapons" textcost=" " index="9"></link>
    <link option="gnStormB" priority="18" nature="auto" remainder="range_11a" category="weapons" textcost=" " index="10"></link>
    <link option="gn6_DCCW" priority="18" nature="auto" remainder="range_01" category="weapons" textcost=" " index="8"></link>
    <link option="gnSpcWpn" priority="20" index="11"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="23" index="12"></link>
    <link option="gnHvyFl" priority="25" cost="10." category="weapons" index="13">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Multi-melta with --{text 010101}" priority="35" index="15"></link>
    <link option="gnAssltC" priority="40" cost="10." category="weapons" index="16">
      <exclref id="range_11"/>
      </link>
    <link option="gnPlasC" priority="40" cost="10." category="weapons" index="18">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLAutoC" priority="40" cost="10." category="weapons" index="19">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLHvyF" priority="40" cost="0." category="weapons" textcost="Free" index="20">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLLasC" priority="40" cost="30." category="weapons" index="21">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_HvyBGU" name="Twin-Linked Heavy Bolter" priority="40" cost="5." category="weapons" abbrev="TLHB" description="36&quot; Range; S5; AP4; Heavy 3 Linked" index="17">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="22"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Dreadnought CCW with --{text 010101}" priority="50" index="23"></link>
    <link option="gnMissile" priority="55" cost="10." category="weapons" index="24">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnTLAutoC" priority="55" cost="10." category="weapons" index="25">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="26"></link>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="UnitTags" tag="walker" name="Vehicle Type: Walker"/>
    <tag group="Group" tag="Elite"/>
    <prelinks>~Adding tag to activate Lucius Drop Pod if unit is part of Iron Cyclone formation
var ICDDS as number

if (root.unit.tagis[smTags.apFICDDS] = 1) then
   ICDDS = unit.assign[smTags.apFICDDS]
endif</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ESgtDev" name="Sergeant" cost="23." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Dev"/>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" cost="0." category="wargear" textcost=" " index="32">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Signum" priority="5" nature="base" cost="0." category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="5"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="6"></link>
    <link option="gnWeapon" priority="28" index="7">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltG" priority="30" category="weapons" textcost=" " select="yes" index="8">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnBoltPUn" priority="30" category="weapons" textcost=" " select="yes" index="9">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="33" index="30"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun / BoltP with --{text 010101}" priority="35" index="10"></link>
    <link option="gnCCW" name="Chainsword" priority="40" cost="0." rangemax="2" costtype="single" category="weapons" abbrev="ChSwd" textcost="Free" index="11">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombF" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="13">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="14">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="15">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" costtype="single" category="weapons" index="16">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormB" priority="40" cost="10." rangemax="2" costtype="single" category="weapons" index="18">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="33">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="34">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="35">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="43" index="29"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETermin" name="Terminator Squad" cost="40." textcost="200" idtag="yes" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <linkref id="smTerTrans"/>
    <link option="gnRef" name="(C:SM, pg. 64 &amp; 136)" priority="0" nature="auto" textcost=" " index="28">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="25">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="6" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowFUn" priority="13" nature="auto" remainder="range_ma" category="weapons" textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowFUn" priority="13" nature="auto" remainder="range_ma" category="weapons" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="13" nature="auto" remainder="range_m" category="weapons" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="13" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="27">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="15" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Options --{text 010101}" priority="18" index="7"></link>
    <link option="gn6_ChFstU" priority="20" cost="5." rangemax="9" costtype="single" category="weapons" index="8">
      <exclref id="range_ma"/>
      </link>
    <link option="gnSpcWpn" priority="21" index="9"></link>
    <link option="gn0to1" priority="23" category="weapons" index="10"></link>
    <link option="gnCML" priority="24" cost="30." costtype="single" category="weapons" index="11">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="25" index="12"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="30" index="13"></link>
    <link option="gnAssltC" priority="35" cost="30." costtype="single" category="weapons" index="14">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnHvyFl" priority="35" cost="5." costtype="single" category="weapons" index="15">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="40" index="16">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn0to1" priority="45" category="weapons" index="17">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnCML" priority="50" cost="30." costtype="single" category="weapons" index="18">
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="55" index="19">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gn0to1" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="60" category="weapons" index="20">
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnAssltC" priority="65" cost="30." costtype="single" category="weapons" index="21">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnHvyFl" priority="65" cost="5." costtype="single" category="weapons" index="22">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      <live>smTags.AllowHW</live>
      </link>
    <link option="gnSpcWpn" priority="66" index="23"></link>
    <link option="sm5ESgtTer" priority="105" nature="auto" cost="0." costtype="single" index="24"></link>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="Legion"/>
    <tag group="smTags" tag="TermiSquad"/>
    <tag group="smTags" tag="VTF_TermSq"/>
    <tag group="smTags" tag="sm5E_IESqd"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_IEC] = 1) then
   retval = unit.assign[smTags.apFsm5_IEC]
endif

~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif

~Unlocking special and heavy weapons once model count is increased to 9
var unlockHW as number      

if (count[model] = 9) then
   unlockHW = entity.assign[smTags.AllowHW] 
endif

~ Adding tag to unit for rule regarding one LR as dedicated transport for a single Terminator squad
if (option[sm5E_LR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRC].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
else
endif

~ Calculation aid for model count
call sm5E_model</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EIDN_A" name="Ironclad Dreadnought" cost="135." statset="ccvehicle" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="13"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="13"/>
    <statval stat="St" value="6"/>
    <statval stat="WS" value="4"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUTWalker"/>
    <linkref id="smAutoDP"/>
    <link option="gnRef" name="(C:SM, pg. 65 &amp; 137)" priority="0" nature="auto" textcost=" " index="28">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_ExArm" priority="5" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="2"></link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="3"></link>
    <link option="gnSpcWar" priority="8" index="4"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="5"></link>
    <link option="gn6_HKM" name="Hunter-Killer Missile(s)" priority="10" cost="10." rangemax="2" category="wargear" index="6"></link>
    <link option="smIAL" priority="10" cost="15." category="wargear" index="7"></link>
    <link option="gnSpcWar" priority="13" index="8"></link>
    <link option="gnWeapon" priority="15" index="9"></link>
    <link option="gnMeltaGUn" priority="18" nature="auto" remainder="range_11b" category="weapons" textcost=" " index="11"></link>
    <link option="gnStormB" priority="18" nature="auto" remainder="range_11a" category="weapons" textcost=" " index="12"></link>
    <link option="gn6_DCCW" priority="18" nature="auto" remainder="range_01" category="weapons" textcost=" " index="10"></link>
    <link option="smDCCW2" priority="18" nature="auto" remainder="range_11" category="weapons" textcost=" " index="13"></link>
    <link option="gnSpcWpn" priority="20" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="23" index="15"></link>
    <link option="gnHvyFl" priority="25" cost="10." category="weapons" index="16">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="17"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Meltagun with --{text 010101}" priority="35" index="18"></link>
    <link option="gnHvyFl" priority="40" cost="5." category="weapons" index="19">
      <exclref id="range_11b"/>
      </link>
    <link option="gnSpcWpn" priority="50" index="20"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Seismic Hammer with --{text 010101}" priority="55" index="21"></link>
    <link option="gn6_ChFst" priority="60" category="weapons" textcost="Free" index="22">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="65" index="23"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Dreadnought CCW with --{text 010101}" priority="70" index="24"></link>
    <link option="gnHurrBlt" priority="75" cost="0." category="weapons" textcost="Free" index="25">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="76" index="26"></link>
    <link option="gnSpace" priority="308" category="skills" index="27"></link>
    <tag group="smTags" tag="Ironclad"/>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="UnitTags" tag="walker" name="Vehicle Type: Walker"/>
    <tag group="Group" tag="Elite"/>
    <prelinks>~Adding tag to activate Lucius Drop Pod if unit is part of Iron Cyclone formation
var ICDDS as number

if (root.unit.tagis[smTags.apFICDDS] = 1) then
   ICDDS = unit.assign[smTags.apFICDDS]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EAttack" name="Attack Bike Squad" cost="40." statset="unit" maxsize="3" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="2"/>
    <linkref id="smUT_Bikes"/>
    <link option="gnRef" name="(C:SM, pg. 68 &amp; 140)" priority="0" nature="auto" textcost=" " index="28">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " hide="yes" index="25">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" remainder="range_m" category="weapons" textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" remainder="range_m" category="weapons" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="55" nature="auto" cost="0." rangemax="3" remainder="range_0m" costtype="single" category="weapons" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_HvyBGU" priority="55" nature="auto" cost="0." rangemax="3" remainder="range_0m" costtype="single" category="weapons" textcost=" " hide="yes" index="27">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="22">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Heavy Bolter with --{text 010101}" priority="65" index="1"></link>
    <link option="gnMMelta" priority="70" cost="10." rangemax="3" costtype="single" category="weapons" index="18">
      <exclref id="range_0m"/>
      </link>
    <link option="gnSpcWpn" priority="75" index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="AttackBike"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="bikes" name="Unit Type: Bikes"/>
    <tag group="race" tag="rg"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EScoutB" name="Scout Bike Squad" cost="20." textcost="70" statset="unit" minsize="2" maxsize="9" startsize="2">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="3"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_ScB"/>
    <link option="gnRef" name="(C:SM, pg. 67 &amp; 141)" priority="0" nature="auto" textcost=" " index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnScoArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="6"></link>
    <link option="sm5E_ClusM" priority="20" index="7"></link>
    <link option="gnSpcWar" priority="21" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="30" nature="base" category="weapons" textcost=" " index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="30" nature="base" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="30" nature="base" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="30" nature="base" category="weapons" textcost=" " hide="yes" index="19">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="35" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace TL Boltgun with --{text 010101}" priority="40" index="12"></link>
    <link option="smAstGL" priority="45" rangemax="3" category="weapons" textcost="10" index="13">
      <exclref id="range_03"/>
      </link>
    <link option="gnSpcWpn" priority="46" index="14"></link>
    <link option="sm5ESgtScB" priority="105" nature="auto" cost="30." index="15"></link>
    <tag group="smTags" tag="ScoutBike"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="bikes" name="Unit Type: Bikes"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="sm"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EVan_A" name="Vanguard Veteran Squad" cost="20." textcost="125" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Van"/>
    <link option="gnRef" name="(C:SM, pg. 62 &amp; 139)" priority="0" nature="auto" textcost=" " index="44">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="5"></link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="4"></link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="6"></link>
    <link option="gnSpcWar" priority="10" index="7"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="8"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." rangemax="9" costtype="single" category="wargear" index="9">
      <exclref id="range_0mf"/>
      </link>
    <link option="gn6_JumpP" name="Equip Squad with Jump Packs" priority="20" cost="10." costtype="each" index="34"></link>
    <link option="gnSpcWar" priority="21" index="10">
      <live>smTags.Infantry2</live>
      </link>
    <link option="gnWeapon" priority="25" index="42">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="28" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="2"></link>
    <link option="gnCCWUn" name="Chainsword" priority="28" nature="auto" remainder="range_m" category="weapons" abbrev="ChSwd" textcost=" " index="3"></link>
    <link option="gnSpcWpn" priority="30" index="43"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="35" index="11"></link>
    <link option="gnLtClUn" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="15">
      <exclref id="range_0m"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="13">
      <exclref id="range_0m"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="9" costtype="single" category="weapons" index="16">
      <exclref id="range_0m"/>
      </link>
    <link option="gnStormS3" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="12">
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="14">
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="53">
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="51">
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="9" costtype="single" category="weapons" index="52">
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_TH" priority="40" cost="30." rangemax="9" costtype="single" category="weapons" index="17">
      <exclref id="range_0m"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="18"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Chainsword with --{text 010101}" priority="50" index="19"></link>
    <link option="gnLtClUn" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="23">
      <exclref id="range_m"/>
      </link>
    <link option="gnPlasP" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="21">
      <exclref id="range_m"/>
      </link>
    <link option="gnPowF" priority="55" cost="25." rangemax="9" costtype="single" category="weapons" index="24">
      <exclref id="range_m"/>
      </link>
    <link option="gnStormS3" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="20">
      <exclref id="range_m"/>
      </link>
    <link option="gn6_PowAx" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="22">
      <exclref id="range_m"/>
      </link>
    <link option="gn6_PowLa" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="46">
      <exclref id="range_m"/>
      </link>
    <link option="gn6_PowMa" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="45">
      <exclref id="range_m"/>
      </link>
    <link option="gn6_PowSw" priority="55" cost="15." rangemax="9" costtype="single" category="weapons" index="47">
      <exclref id="range_m"/>
      </link>
    <link option="gn6_TH" priority="55" cost="30." rangemax="9" costtype="single" category="weapons" index="25">
      <exclref id="range_m"/>
      </link>
    <link option="gnSpcWpn" priority="60" index="26"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol &amp; Sword with --{text 010101}" priority="65" index="27"></link>
    <link option="gnLtClUn" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="41">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gnPlasP" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="29">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gnPowF" priority="70" cost="25." rangemax="9" costtype="single" category="weapons" index="32">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gnStormS3" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="28">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowAx" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="30">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowLa" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="49">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowMa" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="48">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_PowSw" priority="70" cost="15." rangemax="9" costtype="single" category="weapons" index="50">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gn6_TH" priority="70" cost="30." rangemax="9" costtype="single" category="weapons" index="33">
      <exclref id="range_m"/>
      <exclref id="range_0m"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="35"></link>
    <link option="smSgtVan" priority="105" nature="auto" costtype="single" index="36"></link>
    <link option="gnTpt" priority="500" index="37">
      <live><![CDATA[smTags.Infantry2 & !ruleset.ro_bFormat]]></live>
      </link>
    <link option="sm5EDrop" priority="505" index="38">
      <exclref id="transport"/>
      <live>smTags.Infantry2</live>
      </link>
    <link option="sm5E_Razor" priority="505" index="39">
      <exclref id="transport"/>
      <live>smTags.Infantry2</live>
      </link>
    <link option="sm5E_Rhino" priority="505" index="40">
      <exclref id="transport"/>
      <live>smTags.Infantry2</live>
      </link>
    <tag group="Group" tag="Fast"/>
    <tag group="smTags" tag="Infantry2"/>
    <tag group="smTags" tag="Squad"/>
    <member>ruleset.smCh5E</member>
    <prelinks><![CDATA[~ Removiong transports if Jump Packs are selected
if (option[gn6_JumpP].selection > 0) then
   var result as number
   result = delete[smTags.Infantry2]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif

~ Calculation aid for model count
call sm5E_model]]></prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ETechGu" name="Techmarine Gunner" statset="unit" maxsize="1" startsize="1" modelcount="0">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_TechM"/>
    <link option="gnRef" name="(C:SM, pg. 73 &amp; 142)" priority="0" nature="auto" textcost=" " index="52">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" category="wargear" textcost=" " index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" category="wargear" textcost=" " hide="yes" index="50">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerH" priority="5" nature="base" cost="0." textcost=" " hide="yes" index="51">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerH" priority="5" nature="base" cost="0." textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="49">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smThCan" priority="55" nature="base" category="weapons" textcost=" " index="46">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="48">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="smTags" tag="Techmarine"/>
    <member>ruleset.smCh5E</member>
    <postlinks><![CDATA[~Adding in attack bonuses for servo-gear
var bonus as number
var block as number

if (option[gn5E_SerA].selection > 0) then
   bonus = entity.assign[UnitTags.plus1att] 
else
if (option[gn5E_SerH].selection > 0) then
   bonus = entity.assign[UnitTags.plus2att]
else
endif
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <unit id="sm5EChapC" name="Chapter Champion" cost="45." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="1"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="13" index="5"></link>
    <link option="sm5E_DigWp" priority="15" cost="10." category="wargear" index="6"></link>
    <link option="gnBoltG" priority="20" nature="base" remainder="range_01" category="weapons" textcost=" " hide="yes" index="9">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="20" nature="base" remainder="range_01" category="weapons" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="20" nature="base" category="weapons" textcost=" " hide="yes" index="11">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="20" nature="base" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="23" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="40" index="15"></link>
    <link option="gn6_PowAx" priority="45" cost="0." textcost="Free" index="16">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="45" cost="0." textcost="Free" index="17">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="45" cost="0." textcost="Free" index="18">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="45" cost="0." textcost="Free" index="19">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="48" index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Options --{text 010101}" priority="50" index="21"></link>
    <link option="smAGL" priority="53" category="weapons" index="22">
      <exclref id="range_0ma"/>
      </link>
    <link option="smRB" priority="53" category="weapons" index="23">
      <exclref id="range_0m"/>
      </link>
    <link option="gnSpcWpn" priority="55" index="24"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="60" index="25"></link>
    <link option="gnCCW" name="Combat Blade" priority="63" cost="0." category="weapons" abbrev="ComBld" textcost="Free" index="26">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="65" index="27"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Power Weapon with --{text 010101}" priority="70" index="28"></link>
    <link option="gn6_TH" priority="73" nature="cost" cost="15." category="weapons" index="29">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="75" index="30"></link>
    <tag group="smTags" tag="ChapChamp"/>
    <member>ruleset.smCh5E</member>
    <prelinks>~ Calculation aid for Honour Guard count
call sm5E_model
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~Adjusting if Honor Guard Unit chooses Chapter Banner
if (parent.unit.option[sm5EChapB].selection = 1) then
   unit.stat[At] = unit.stat[At] + 1
else
endif
</postlinks>
    </unit>
  <unit id="sm5ESte_A" name="Sternguard Veteran Squad" cost="25." textcost="125" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Stern"/>
    <linkref id="smTrans"/>
    <link option="gnRef" name="(C:SM, pg. 63 &amp; 136)" priority="0" nature="auto" textcost=" " index="48">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2"></link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1"></link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3"></link>
    <link option="smSIA" priority="5" nature="base" textcost=" " index="4"></link>
    <link option="gnSpcWar" priority="10" index="5"></link>
    <link option="gnBoltG" priority="18" nature="auto" remainder="range_m" category="weapons" textcost=" " index="7"></link>
    <link option="gnBoltPUn" priority="18" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="8"></link>
    <link option="gnSpcWpn" priority="20" index="47"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="30" index="9"></link>
    <link option="gnCombF" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="10">
      <exclref id="range_m"/>
      </link>
    <link option="gnCombMG" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      </link>
    <link option="gnCombPG" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      </link>
    <link option="gnStormB" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="13">
      <exclref id="range_m"/>
      </link>
    <link option="gnSpcWpn" priority="49" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace up to 2 Boltguns with --{text 010101}" priority="50" index="15"></link>
    <link option="gnFlamer" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="16">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnHvyFl" priority="55" cost="10." rangemax="2" costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnLasC" priority="55" cost="15." rangemax="2" costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMMelta" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="20">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMeltaG" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="21">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMissile" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="22">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnPlasC" priority="55" cost="10." rangemax="2" costtype="single" category="weapons" index="23">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnPlasG" priority="55" cost="10." rangemax="2" costtype="single" category="weapons" index="24">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gn6_HvyBG" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="17">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="25"></link>
    <link option="smSgtStern" priority="105" nature="auto" costtype="single" index="26"></link>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="Squad"/>
    <member>ruleset.smCh5E</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EHonGua" name="Honour Guard" cost="35." statset="unit" maxsize="9" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="base" remainder="range_01" category="weapons" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="55" nature="base" remainder="range_01" category="weapons" textcost=" " hide="yes" index="6">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="base" remainder="range_01a" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" nature="base" remainder="range_01a" category="weapons" textcost=" " hide="yes" index="8">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="58" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="70" index="10"></link>
    <link option="gn6_PowAx" priority="73" cost="0." textcost="Free" index="11">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="73" cost="0." textcost="Free" index="12">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="73" cost="0." textcost="Free" index="13">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="73" cost="0." textcost="Free" index="14">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="78" index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Options --{text 010101}" priority="80" index="16"></link>
    <link option="smAGL" priority="83" costtype="each" category="weapons" index="17"></link>
    <link option="smRB" priority="83" costtype="each" category="weapons" index="18"></link>
    <link option="gnSpcWpn" priority="85" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <member>(ruleset.smCh5E)</member>
    <prelinks>~ Calculation aid for Honour Guard count
call sm5E_model
</prelinks>
    <postlinks>~Adding tag to parent unit if Chapter Banner has been chosen
var Banner as number

if (option[sm5EChapB].selection = 1) then
   Banner = parent.unit.assign[smTags.Banner]
else
endif

~Adjusting if Honor Guard Unit chooses Chapter Banner
if (parent.unit.option[sm5EChapB].selection = 1) then
   unit.stat[At] = unit.stat[At] + 1
else
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EHonour" name="Honour Guard" textcost="115" statset="container" maxsize="1" startsize="1" modelcount="0">
    <linkref id="smTrans"/>
    <linkref id="smUT_HonG"/>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="3" index="5"></link>
    <link option="sm5EChapB" priority="5" cost="25." category="wargear" textcost="+25" index="52"></link>
    <link option="gnSpcWar" priority="8" index="51"></link>
    <link option="sm5EChapC" priority="105" nature="auto" cost="0." category="add" textcost="+15" hide="yes" index="0"></link>
    <link option="sm5EHonGua" priority="105" index="2">
      <exclref id="range_09"/>
      </link>
    <link option="gnSpace" priority="106" category="add" index="4"></link>
    <link option="gnSpace" priority="108" category="add" index="50"></link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="HonorGuard"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks>~ Deleting Group for purposes of compulsory accounting
var retval as number
retval = unit.delete[Group.HQ]</postlinks>
    </unit>
  <unit id="sm5ECLTigu" name="Chief Librarian Tigurius" cost="230." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="2"/>
    <statval stat="gn6_PsyPow" value="3"/>
    <linkref id="smUT_Tigur"/>
    <linkref id="sm5E_LibPP"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="umHoH" priority="5" nature="base" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="27">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="29">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_ForcSt" name="Rod of Tigurius" priority="55" nature="base" category="weapons" abbrev="RodofTigurius" description="S +2; AP 4; Melee, Concussive, Force, Master-crafted (see C:SM, pg. 86 &amp; 6E SM FAQ)." textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_ForcSt" name="Rod of Tigurius" priority="55" nature="base" category="weapons" abbrev="RodofTigurius" description="S +2; AP 4; Melee, Concussive, Force, Master-crafted (see C:SM, pg. 86 &amp; 6E SM FAQ)." textcost=" " hide="yes" index="30">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="28">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Psyker" name="Psyker (Mastery Level 3)" priority="305" nature="auto" textcost=" " index="31">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PP_ALL" index="32">
      <live>UnitTags.gn6_PsyCod</live>
      </link>
    <link option="gn6_PP_3" index="33">
      <live>UnitTags.gn6_Psy6E</live>
      </link>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Librarian"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EVangua" name="Vanguard Veteran Squad" textcost="125" idtag="yes" statset="container" maxsize="1" startsize="1" modelcount="0">
    <linkref id="smUT_Van"/>
    <link option="gnRef" name="(C:SM, pg. 62 &amp; 139)" priority="0" nature="auto" textcost=" " index="55">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="3" index="5">
      <live><![CDATA[!(smTags.apFsm5_IEC | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="gn6_JumpP" name="Equip with Jump Packs" priority="5" costtype="each" category="wargear" textcost="10 each" index="6">
      <exclref id="transport"/>
      <live><![CDATA[!(smTags.apFsm5_IEC | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="gnSpcWar" priority="8" index="56">
      <live>!smTags.Infantry2</live>
      </link>
    <link option="gnSpcWar" priority="8" index="51">
      <live><![CDATA[smTags.Infantry2 & !(smTags.apFsm5_IEC | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="smSgtVan" priority="105" nature="auto" hide="yes" index="54"></link>
    <link option="sm5EVanVet" priority="105" index="2">
      <exclref id="range_09"/>
      </link>
    <link option="gnSpace" priority="106" category="add" index="4"></link>
    <link option="gnSpace" priority="108" category="add" index="50"></link>
    <link option="gn6_Stubrn" priority="305" nature="auto" cost="0." textcost=" " index="57">
      <live>smTags.SgtCulln</live>
      </link>
    <link option="sm5EDrop" priority="505" index="38">
      <exclref id="transport"/>
      <live><![CDATA[smTags.Infantry2 & !(smTags.apFsm5_IEC | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF)) & !ruleset.smChSiege]]></live>
      </link>
    <link option="sm5E_Razor" priority="505" index="39">
      <exclref id="transport"/>
      <live><![CDATA[smTags.Infantry2 & !(smTags.apFsm5_IEC | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <link option="sm5E_Rhino" priority="505" index="40">
      <exclref id="transport"/>
      <live><![CDATA[smTags.Infantry2 & !(smTags.apFsm5_IEC | (smTags.CaestusTpt & iaHelper.iaa2e_CTAF))]]></live>
      </link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="Infantry2"/>
    <tag group="smTags" tag="sm5E_IESqd"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="gnAcc" tag="noCount"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_IEC] = 1) then
   retval = unit.assign[smTags.apFsm5_IEC]
endif

~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif

~ Removiong transports if Jump Packs are selected
if (option[gn6_JumpP].selection > 0) then
   var result as number
   result = delete[smTags.Infantry2]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
]]></prelinks>
    </unit>
  <unit id="sm5EVanVet" name="Veteran" cost="20." statset="unit" maxsize="9" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="8"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." costtype="each" category="wargear" index="9">
      <exclref id="range_0mf"/>
      </link>
    <link option="gn6_JumpP" priority="20" nature="auto" cost="10." costtype="each" mirror="gn6_JumpP" contingent="gn6_JumpP" index="45"></link>
    <link option="gnWeapon" priority="50" index="42">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="55" category="weapons" textcost=" " select="yes" index="2">
      <exclref id="onehand"/>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="55" category="weapons" abbrev="ChSwd" textcost=" " select="yes" index="3">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="58" index="43">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace BoltP / Chainsword with --{text 010101}" priority="60" index="11"></link>
    <link option="gnLtClUn" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="15">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="13">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="65" cost="25." rangemax="2" costtype="each" category="weapons" index="16">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormS3" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="14">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="46">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="47">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="65" cost="15." rangemax="2" costtype="each" category="weapons" index="48">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_TH" priority="65" cost="30." rangemax="2" costtype="each" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="68" index="18"></link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <member>ruleset.smCh5E</member>
    <prelinks><![CDATA[~ Calculation aid for Vanguard Veteran count
call sm5E_model

~ Removiong transports if Jump Packs are selected
if (option[gn6_JumpP].selection > 0) then
   var result as number
   result = delete[smTags.Infantry2]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif]]></prelinks>
    <postlinks><![CDATA[~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ Manually setting stats for Lightning claws bonus attacks
if (option[gnLtClUn].selection >= 2) then
   call gnPlus1Ati
endif]]></postlinks>
    </unit>
  <unit id="sm5E_LRC" name="Land Raider Crusader" cost="250." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="14"/>
    <statval stat="HP" value="4"/>
    <statval stat="Rear" value="14"/>
    <statval stat="Side" value="14"/>
    <linkref id="smChronus"/>
    <linkref id="smUT_LRC"/>
    <link option="gnRef" name="(IA2, pg. 104)" priority="0" nature="auto" textcost=" " index="21">
      <live><![CDATA[iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnRef" name="(C:SM, pg. 82 &amp; 142)" priority="0" nature="auto" textcost=" " index="23">
      <live><![CDATA[!iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="22">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="include" category="wargear" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="include" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_FragAL" priority="5" nature="include" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="10"></link>
    <link option="gnMMelta" priority="35" cost="10." category="wargear" index="13"></link>
    <link option="gnPMSB" priority="35" cost="10." category="wargear" index="11"></link>
    <link option="gn6_ExArm" priority="35" cost="15." category="wargear" index="14"></link>
    <link option="gn6_HKM" priority="35" cost="10." category="wargear" index="12"></link>
    <link option="gnSpcWar" priority="36" index="18"></link>
    <link option="gnHurrBlt" name="2x Hurricane Bolters" priority="55" nature="auto" category="weapons" abbrev="2x HurrBlt" textcost=" " disable="yes" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLAssltC" priority="55" nature="auto" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PotMS" priority="305" nature="include" category="skills" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="sm5E_LR"/>
    <tag group="Group" tag="Heavy"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Land Raider Crusader (IA)"
endif

~ If we're a child unit, we don't take up a composition slot
var result as number
if (tagis[runtime.child] > 0) then
  result = unit.delete[Group.?]
  endif]]></postlinks>
    </unit>
  <unit id="sm5ECom_A" name="Command Squad" textcost="115" statset="container" maxsize="1" startsize="1" modelcount="0">
    <linkref id="smAutoDP"/>
    <linkref id="smUT_Com"/>
    <link option="gnRef" name="(C:SM, pg. 55 &amp; 132)" priority="0" nature="auto" textcost=" " index="54">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="3" index="5"></link>
    <link option="gnMeltaB_E" name="Unit with Melta Bombs" priority="5" costtype="each" category="wargear" abbrev=" " textcost="25" index="53"></link>
    <link option="sm5ECS" priority="5" cost="15." category="wargear" textcost="+15" index="52"></link>
    <link option="gn6_SMB" name="Unit on SM Bikes" priority="5" category="wargear" abbrev=" " textcost="+90" index="6"></link>
    <link option="gnSpcWar" priority="8" index="51">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="sm5ECompC" priority="105" cost="0." category="add" textcost="+15" index="0"></link>
    <link option="gnSpace" priority="106" category="add" index="4"></link>
    <link option="gnSpace" priority="108" category="add" index="50"></link>
    <link option="sm5EApothe" nature="auto" category="add" textcost=" " hide="yes" index="3"></link>
    <link option="sm5EComMod" index="2">
      <exclref id="range_04"/>
      </link>
    <tag group="smTags" tag="CommSquad"/>
    <tag group="gnAcc" tag="noCount"/>
    <member>ruleset.smCh5E</member>
    <postlinks>~ Deleting Group for purposes of compulsory accounting
var retval as number
retval = unit.delete[Group.HQ]</postlinks>
    </unit>
  <unit id="sm5ETAS_B" name="Terminator Assault Squad" cost="40." textcost="200" statset="unit" minsize="4" maxsize="4" startsize="4">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <linkref id="smAutoDP"/>
    <link option="gnRef" name="(C:SM, pg. 64 &amp; 136)" priority="0" nature="auto" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="1"></link>
    <link option="gnSpcWar" priority="6" index="2"></link>
    <link option="gnWeapon" priority="50" index="3">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnLtClPrUn" priority="55" nature="auto" remainder="range_ma" category="weapons" textcost=" " index="4"></link>
    <link option="gnSpcWpn" priority="58" index="7"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Lightning Claws with --{text 010101}" priority="60" index="5"></link>
    <link option="gn6_THSS3" priority="65" rangemax="9" category="weapons" textcost="Free" index="6">
      <exclref id="range_ma"/>
      </link>
    <link option="gnSpcWpn" priority="66" index="9"></link>
    <link option="sm5ESgtTA" priority="105" nature="auto" cost="0." costtype="single" index="8"></link>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="Squad"/>
    <tag group="smTags" tag="TermiAsSqd"/>
    <member>(ruleset.smCh5E)</member>
    <prelinks>~Adding tag to activate Lucius Drop Pod if unit is part of Iron Cyclone formation
var ICDDS as number

if (root.unit.tagis[smTags.apFICDDS] = 1) then
   ICDDS = unit.assign[smTags.apFICDDS]
endif</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ECaptai" name="Space Marine Captain" textcost="100 / 140" statset="container" maxsize="1" startsize="1" modelcount="0">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Capt"/>
    <link option="sm5ECiPA" priority="5" remainder="range_11" index="0"></link>
    <link option="sm5ECiTA" priority="5" index="3">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpace" priority="6" category="gn6_Basic" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="sm5E_Cap"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="smTags" tag="Legion"/>
    <member><![CDATA[(ruleset.smCh5E | ruleset.smChSiege) | (ruleset.ro_ApocHE & (roster.ig | roster.ohw | roster.cd | roster.chA | roster.de | roster.ne | roster.ork | roster.ta | roster.ty5 | roster.el)) | (ruleset.ro_ApocTA & (roster.ig | roster.ohw)) | (ruleset.ro_ApocDA & (roster.ig | roster.ohw))]]></member>
    </unit>
  <unit id="sm5ESgtTer" name="Sergeant" cost="40." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="1">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="45" nature="base" category="weapons" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="48" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="50" index="5"></link>
    <link option="gn6_PowAx" priority="53" cost="0." textcost="Free" index="6">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="53" cost="0." textcost="Free" index="7">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="53" cost="0." textcost="Free" index="8">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="53" cost="0." textcost="Free" index="9">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="55" index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5E_LRR" name="Land Raider Redeemer" cost="240." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="14"/>
    <statval stat="HP" value="4"/>
    <statval stat="Rear" value="14"/>
    <statval stat="Side" value="14"/>
    <linkref id="smChronus"/>
    <linkref id="smUT_LR"/>
    <link option="gnRef" name="(C:SM, pg. 83 &amp; 143)" priority="0" nature="auto" textcost=" " index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="4" index="22">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="include" category="wargear" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="include" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_FragAL" priority="5" nature="include" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="6" index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="10"></link>
    <link option="gnMMelta" priority="35" cost="10." category="wargear" index="13"></link>
    <link option="gnPMSB" priority="35" cost="10." category="wargear" index="11"></link>
    <link option="gn6_ExArm" priority="35" cost="15." category="wargear" index="14"></link>
    <link option="gn6_HKM" priority="35" cost="10." category="wargear" index="12"></link>
    <link option="gnSpcWar" priority="38" index="18"></link>
    <link option="gnFlameC" name="2x Flamestorm Cannons" priority="55" nature="auto" category="weapons" abbrev="2x FlameC" textcost=" " disable="yes" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLAssltC" priority="55" nature="auto" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="21">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PotMS" priority="305" nature="include" category="skills" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="sm5E_LR"/>
    <tag group="Group" tag="Heavy"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Land Raider Redeemer (IA)"
endif

~ If we're a child unit, we don't take up a composition slot
var result as number
if (tagis[runtime.child] > 0) then
  result = unit.delete[Group.?]
  endif]]></postlinks>
    </unit>
  <unit id="sm5ESco_A" name="Scout Squad" cost="13." textcost="75" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="3"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Sco"/>
    <link option="gnRef" name="(C:SM, pg. 66 &amp; 134)" priority="0" nature="auto" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2"></link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1"></link>
    <link option="gnScoArm" priority="5" nature="base" textcost=" " index="3"></link>
    <link option="gnSpcWar" priority="25" index="4"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="28" index="5"></link>
    <link option="gn6_CamC" priority="30" cost="3." description="Camo Cloaks (see C:SM, pg. 100 &amp; 6E SM FAQ)." index="6"></link>
    <link option="gnSpcWar" priority="31" index="7"></link>
    <link option="gnWeapon" priority="33" index="8">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltG" priority="35" nature="auto" remainder="range_m" category="weapons" textcost=" " index="9"></link>
    <link option="gnBoltPUn" priority="35" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="10"></link>
    <link option="gnSpcWpn" priority="38" index="11"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="40" index="12"></link>
    <link option="gnCCW" name="Combat Blade" priority="45" cost="0." rangemax="9" costtype="single" category="weapons" abbrev="ComBld" textcost="Free" index="13">
      <exclref id="range_m"/>
      </link>
    <link option="gnShotGMS" name="Shotgun" priority="45" cost="0." rangemax="9" costtype="single" category="weapons" textcost="Free" index="14">
      <exclref id="range_m"/>
      </link>
    <link option="gnSnipeR" priority="45" cost="0." rangemax="9" costtype="single" category="weapons" textcost="Free" index="15">
      <exclref id="range_m"/>
      </link>
    <link option="gnSpcWpn" priority="50" index="16"></link>
    <link option="gn0to1" priority="55" category="weapons" index="17"></link>
    <link option="gnMissile" priority="60" cost="10." costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="smHBwHR" priority="60" cost="10." costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="61" index="20"></link>
    <link option="gnAddUnit" name="{macro color1}-- Upgrade Sergeant to --{text 010101}" priority="100" category="taUpgrade" index="21"></link>
    <link option="sm5ESgtSco" priority="105" nature="auto" cost="13." remainder="range_11" index="22"></link>
    <link option="sm5ETelion" priority="105" cost="50." textcost="50" index="23">
      <exclref id="range_11"/>
      </link>
    <tag group="Group" tag="Troop"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="smTags" tag="ScoutSqd"/>
    <tag group="smTags" tag="Squad"/>
    <postlinks><![CDATA[~ Adjusting squad cost if Chapter Champion is chosen
if (option[sm5ETelion].selection > 0) then
   @single = @single + 23
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW
]]></postlinks>
    </unit>
  <unit id="sm5ECiPA" name="Space Marine Captain in Power Armour" cost="100." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smOptA"/>
    <linkref id="smUT_Capt"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" category="weapons" textcost=" " select="yes" index="14">
      <exclref id="onehand"/>
      </link>
    <link option="gnCCW" name="Chainsword" priority="55" category="weapons" abbrev="ChSwd" textcost=" " select="yes" index="0">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="58" index="16"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Captain"/>
    <tag group="smTags" tag="Legion"/>
    <tag group="smTags" tag="sm5E_Cap"/>
    <tag group="smTags" tag="sm5E_RAHQ"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~ Determine legality of Hellfire Rounds
   var legal as number

~ If the model has a Bolter or equivalent, then Hellfire Rounds is a legal Choice
   if (option[gnBoltG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombF].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombPG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombMG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gn6_SMB_Ch].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   else
   endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB_Ch].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
   basestat[To] = 5
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif]]></prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5E_Whirl" name="Whirlwind" cost="85." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="11"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="11"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smChronus"/>
    <link option="gnRef" name="(C:SM, pg. 79 &amp; 143)" priority="0" nature="auto" textcost=" " index="22">
      <live><![CDATA[!iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnRef" name="(IA2, pg. 85)" priority="0" nature="auto" textcost=" " index="21">
      <live><![CDATA[iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="20">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="include" category="wargear" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="include" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="10"></link>
    <link option="gnPMSB" priority="20" cost="10." category="wargear" index="11"></link>
    <link option="gn6_Dozer" priority="20" cost="5." category="wargear" index="13"></link>
    <link option="gn6_ExArm" priority="20" cost="15." category="wargear" index="14"></link>
    <link option="gn6_HKM" priority="20" cost="10." category="wargear" index="12"></link>
    <link option="gnSpcWar" priority="21" index="17"></link>
    <link option="sm5E_WMML" priority="55" nature="auto" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="Group" tag="Heavy"/>
    <tag group="UnitTags" tag="tank" name="Vehicle Type: Tank"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Whirlwind"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Whirlwind (IA)"
endif]]></postlinks>
    </unit>
  <unit id="sm5ESgtTA" name="Sergeant" cost="40." textcost="200" idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="10">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnLtClPrUn" priority="55" nature="auto" remainder="range_01" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnLtClPrUn" priority="55" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="11">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="58" index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Lightning Claws with --{text 010101}" priority="60" index="4"></link>
    <link option="gn6_THSS3" priority="65" category="weapons" textcost="Free" index="5">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="66" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5E_Vind" name="Vindicator" cost="115." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="13"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="11"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smChronus"/>
    <link option="gnRef" name="(C:SM, pg. 80 &amp; 143)" priority="0" nature="auto" textcost=" " index="24">
      <live><![CDATA[!iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnRef" name="(IA2, pg. 76)" priority="0" nature="auto" textcost=" " index="23">
      <live><![CDATA[iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="22">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="include" category="wargear" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="include" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="10"></link>
    <link option="gnPMSB" priority="20" cost="10." category="wargear" index="15"></link>
    <link option="gn6_Dozer" priority="20" cost="5." category="wargear" index="13"></link>
    <link option="gn6_ExArm" priority="20" cost="15." category="wargear" index="14"></link>
    <link option="gn6_HKM" priority="20" cost="10." category="wargear" index="12"></link>
    <link option="smSiegeS" priority="20" cost="10." index="11"></link>
    <link option="gnSpcWar" priority="21" index="19"></link>
    <link option="gnDemo" priority="55" nature="auto" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="55" nature="include" category="weapons" textcost=" " index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="21">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="UnitTags" tag="tank" name="Vehicle Type: Tank"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Vindicator"/>
    <tag group="Group" tag="Heavy"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Vindicator (IA)"
endif]]></postlinks>
    </unit>
  <unit id="sm5EScB_A" name="Scout Bike Squad" cost="20." textcost="70" statset="unit" minsize="9" maxsize="9" startsize="9">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="5"/>
    <statval stat="WS" value="3"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_ScB"/>
    <link option="gnRef" name="(C:SM, pg. 67 &amp; 141)" priority="0" nature="auto" textcost=" " index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2"></link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gnScoArm" priority="5" nature="base" textcost=" " index="3"></link>
    <link option="gn6_SMB" priority="5" nature="base" textcost=" " index="4"></link>
    <link option="gnSpcWar" priority="10" index="5"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="6"></link>
    <link option="sm5E_ClusM" priority="20" index="7"></link>
    <link option="gnWeapon" priority="25" index="8">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltP" priority="30" nature="base" category="weapons" textcost=" " index="9"></link>
    <link option="gnShotGMS" name="Shotgun" priority="30" nature="base" category="weapons" textcost=" " index="10"></link>
    <link option="gnSpcWpn" priority="35" index="11"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace TL Boltgun with --{text 010101}" priority="40" index="12"></link>
    <link option="smAstGL" priority="45" rangemax="3" category="weapons" textcost="10" index="13">
      <exclref id="range_03"/>
      </link>
    <link option="gnSpcWpn" priority="46" index="14"></link>
    <link option="sm5ESgtScB" priority="105" nature="auto" cost="30." index="15"></link>
    <tag group="Group" tag="Fast"/>
    <tag group="UnitTags" tag="bikes" name="Unit Type: Bikes"/>
    <tag group="smTags" tag="ScoutBike"/>
    <tag group="smTags" tag="Squad"/>
    <member>ruleset.smCh5E</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ECompC" name="Company Champion" cost="38." statset="unit" maxsize="1" startsize="1">
    <comment>Command Squad Veteran - single model version</comment>
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="1"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnCombSh" priority="5" nature="base" cost="0." textcost=" " hide="yes" index="3">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnCombSh" priority="5" nature="base" cost="0." textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="6"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." costtype="each" category="wargear" index="7"></link>
    <link option="gnStormS3" priority="20" cost="15." costtype="each" index="8">
      <exclref id="range_0mg"/>
      </link>
    <link option="gn6_SMB" name="Unit on SM Bikes" priority="20" nature="auto" cost="0." costtype="each" category="wargear" mirror="gn6_SMB" index="9"></link>
    <link option="gnBoltPUn" priority="23" category="weapons" textcost=" " select="yes" index="11">
      <exclref id="onehand"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="23" category="weapons" abbrev="ChSwd" textcost=" " select="yes" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="25" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="28" index="14"></link>
    <link option="gn6_PowAx" priority="30" cost="0." textcost="Free" index="15">
      <exclref id="range_01b"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="30" cost="0." textcost="Free" index="16">
      <exclref id="range_01b"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="30" cost="0." textcost="Free" index="17">
      <exclref id="range_01b"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="30" cost="0." textcost="Free" index="18">
      <exclref id="range_01b"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="33" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace BoltP / Chainsword with --{text 010101}" priority="35" index="20"></link>
    <link option="gnBoltG" priority="40" costtype="each" category="weapons" textcost="Free" index="21">
      <exclref id="onehand"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnCombF" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="22">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="23">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="24">
      <exclref id="onehand"/>
      </link>
    <link option="gnFlamer" priority="40" cost="5." rangemax="2" costtype="each" category="weapons" index="25">
      <exclref id="onehand"/>
      </link>
    <link option="gnLtCl" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="26">
      <exclref id="onehand"/>
      </link>
    <link option="gnMeltaG" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="27">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasG" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="28">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." costtype="each" category="weapons" index="29">
      <exclref id="onehand"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" costtype="each" category="weapons" index="30">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormB" priority="40" cost="3." rangemax="2" costtype="each" category="weapons" index="31">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="32">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="33">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="34">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="35">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_TH" priority="40" cost="30." rangemax="2" costtype="each" category="weapons" index="36">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="37"></link>
    <member>ruleset.smCh5E</member>
    <prelinks>~ Calculation aid for Command Squad count
call sm5E_model
</prelinks>
    <postlinks><![CDATA[~ Adjusting squad cost if Chapter Champion is chosen
if (option[sm5ECompC].selection > 0) then
   @single = @single + 38
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ If we're a child unit, remove legion tag for LotD Apocalypse Formation
var result as number

if (parent.tagis[smTags.Legion] > 0) then
   result = unit.delete[smTags.Legion]
endif

~ Calling to set Transport Capacity
call gnTptSpace]]></postlinks>
    </unit>
  <unit id="sm5ETAssau" name="Terminator Assault Squad" cost="40." textcost="200" idtag="yes" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Term"/>
    <linkref id="smTerTrans"/>
    <link option="gnRef" name="(C:SM, pg. 64 &amp; 136)" priority="0" nature="auto" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="10">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="6" index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnLtClPrUn" priority="55" nature="auto" remainder="range_ma" category="weapons" textcost=" " hide="yes" index="11">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnLtClPrUn" priority="55" nature="auto" remainder="range_ma" category="weapons" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="58" index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Lightning Claws with --{text 010101}" priority="60" index="5"></link>
    <link option="gn6_THSS3" priority="65" rangemax="9" category="weapons" textcost="Free" index="6">
      <exclref id="range_ma"/>
      </link>
    <link option="gnSpcWpn" priority="66" index="7"></link>
    <link option="sm5ESgtTA" priority="105" nature="auto" cost="0." costtype="single" index="8"></link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="TermiAsSqd"/>
    <tag group="smTags" tag="VTF_TermSq"/>
    <tag group="smTags" tag="sm5E_IESqd"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="Elite"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_IEC] = 1) then
   retval = unit.assign[smTags.apFsm5_IEC]
endif

~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif

~ Adding tag to unit for rule regarding one LR as dedicated transport for a single Terminator squad
      if (option[sm5E_LR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRC].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
elseif (option[sm5E_LRR].selection = 1) then
   var trans as number
   trans = entity.assign[smTags.LRasDT]
else
endif

~ Determining if any Thunder Hammers have been taken
if (option[gn6_THSS3].selection <= 0) then
   if (child[unit:sm5ESgtTA].option[gn6_THSS3].selection <= 0) then
      var retval as number
      retval = unit.assign[smTags.No_THSS]
   else
   endif
else
endif

~ Calculation aid for model count
call sm5E_model]]></prelinks>
    <postlinks>~ Determining if unit has Elite option selected
if (option[gnTroop].selection = 1) then
   var retval as number
   retval = unit.assign[ia9Tags.RedBrethre]
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ECiTA" name="Space Marine Captain in Terminator Armour" cost="140." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Capt"/>
    <linkref id="gnWarlord"/>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="0">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="3">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="25" category="wargear" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="5"></link>
    <link option="gnMeltaB_E" priority="35" cost="5." category="wargear" index="6"></link>
    <link option="smAGL" priority="35" cost="15." index="7"></link>
    <link option="smHR" priority="35" cost="10." index="8"></link>
    <link option="sm5E_DigWp" priority="35" cost="10." index="9"></link>
    <link option="gnSpcWar" priority="38" index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="45" remainder="range_01" category="weapons" textcost=" " hide="yes" index="11">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="45" remainder="range_01" category="weapons" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="48" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="50" index="14"></link>
    <link option="gn6_PowAx" priority="53" cost="0." textcost="Free" index="15">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="53" cost="0." textcost="Free" index="16">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="53" cost="0." textcost="Free" index="17">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="53" cost="0." textcost="Free" index="18">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="55" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="60" index="20"></link>
    <link option="gnCombF" priority="65" cost="5." category="weapons" index="21">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="65" cost="5." category="weapons" index="22">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="65" cost="5." category="weapons" index="23">
      <exclref id="range_01"/>
      </link>
    <link option="gnLtCl" priority="65" cost="10." category="weapons" index="24">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_TH" priority="65" cost="20." category="weapons" index="25">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="70" index="26"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Power Weapon with --{text 010101}" priority="75" index="27"></link>
    <link option="gnLtCl" priority="80" cost="5." category="weapons" index="28">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnPowF" priority="80" cost="10." category="weapons" index="29">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnStormS3" priority="80" cost="10." category="weapons" index="30">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_ChFst" priority="80" cost="15." category="weapons" index="31">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_TH" priority="80" cost="15." category="weapons" index="32">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="81" index="33"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Captain"/>
    <tag group="smTags" tag="Legion"/>
    <tag group="smTags" tag="sm5E_Cap"/>
    <tag group="smTags" tag="sm5E_RAHQ"/>
    <tag group="Group" tag="HQ"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~ Determine legality of Hellfire Rounds
   var legal as number

~ If the model has a Bolter or equivalent, then Hellfire Rounds is a legal Choice
   if (option[gnBoltG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombF].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombPG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombMG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   else
   endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB_Ch].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
]]></prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5E_Pred" name="Predator" cost="60." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="13"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="11"/>
    <linkref id="smChronus"/>
    <linkref id="gn6_AutoVT"/>
    <link option="gnRef" name="(IA2, pg. 36 or 44)" priority="0" nature="auto" textcost=" " index="27">
      <live><![CDATA[iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnRef" name="(C:SM, pg. 78 &amp; 143)" priority="0" nature="auto" textcost=" " index="30">
      <live><![CDATA[!iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="28">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="include" category="wargear" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="include" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="10"></link>
    <link option="gnPMSB" priority="20" cost="10." category="wargear" index="11"></link>
    <link option="gn6_Dozer" priority="20" cost="5." category="wargear" index="13"></link>
    <link option="gn6_ExArm" priority="20" cost="15." category="wargear" index="14"></link>
    <link option="gn6_HKM" priority="20" cost="10." category="wargear" index="12"></link>
    <link option="gnSpcWar" priority="21" index="26">
      <live>ruleset.smCh5E</live>
      </link>
    <link option="gnAutoC" priority="25" nature="auto" remainder="range_01" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnAutoC" priority="25" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="29">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="28" index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Autocannon with --{text 010101}" priority="33" index="23"></link>
    <link option="gnTLLasC" priority="35" cost="45." costtype="single" category="weapons" index="21">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="40" index="9"></link>
    <link option="gnWeapon" name="{macro color1}-- Add Side Sponsons with --{text 010101}" priority="50" index="16"></link>
    <link option="gnLasC" name="Lascannon (each side)" priority="55" cost="60." category="weapons" abbrev="2xLasC " index="18">
      <exclref id="range_01a"/>
      </link>
    <link option="gn6_HvyBG" name="Heavy Bolter (each side)" priority="55" cost="25." category="weapons" abbrev="2xHB" index="17">
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="24"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="Group" tag="Heavy"/>
    <tag group="UnitTags" tag="tank" name="Vehicle Type: Tank"/>
    <tag group="race" tag="rg"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif

]]></prelinks>
    <postlinks><![CDATA[~ Calculating hull type if apocalypse is used
var hull as number

if (option[gnAutoC].selection = 1) then
   hull = parent.assign[smTags.Destructor]
   if (option[iaSMTank].selection = 1) then
      unit.name = "Predator Destructor (IA)"
   endif
elseif (option[gnTLLasC].selection = 1) then
   hull = parent.assign[smTags.Annihilato]
   if (option[iaSMTank].selection = 1) then
      unit.name = "Predator Annihilator (IA)"
   endif
endif]]></postlinks>
    </unit>
  <unit id="sm5EMaster" name="Space Marine Chapter Master" textcost="125 / 165" statset="container" maxsize="1" startsize="1" modelcount="0">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_ChMas"/>
    <link option="sm5EMiPA" priority="5" remainder="range_11" index="0"></link>
    <link option="sm5EMiTA" priority="5" index="3">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpace" priority="8" category="gn6_Basic" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="Group" tag="HQ"/>
    <member><![CDATA[(ruleset.smCh5E | ruleset.smChSiege) | (ruleset.ro_ApocHE & (roster.ig | roster.ohw | roster.cd | roster.chA | roster.de | roster.ne | roster.ork | roster.ta | roster.ty5 | roster.el)) | (ruleset.ro_ApocTA & (roster.ig | roster.ohw)) | (ruleset.ro_ApocDA & (roster.ig | roster.ohw))]]></member>
    </unit>
  <unit id="sm5EBSgtCh" name="Brother-Sergeant Chronus" cost="70." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Chron"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerA" priority="5" nature="auto" textcost=" " hide="yes" index="35">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerA" priority="5" nature="auto" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="36">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" remainder="range_01" category="weapons" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="34">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTagG" tag="Chronus"/>
    <tag group="limited" tag="unique"/>
    <member><![CDATA[((ruleset.ro_spec | ruleset.ro_Apoc) & ruleset.smCh5E)]]></member>
    <postlinks><![CDATA[~Adding in attack bonuses for servo-gear
var bonus as number
var block as number

if (option[gn5E_SerA].selection > 0) then
   bonus = entity.assign[UnitTags.plus1att] 
else
if (option[gn5E_SerH].selection > 0) then
   bonus = entity.assign[UnitTags.plus2att]
else
endif
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <unit id="sm5EMiPA" name="Space Marine Chapter Master in Power Armour" cost="125." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smOptA"/>
    <linkref id="smUT_ChMas"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" category="weapons" textcost=" " select="yes" index="14">
      <exclref id="onehand"/>
      </link>
    <link option="gnCCW" name="Chainsword" priority="55" category="weapons" abbrev="ChSwd" textcost=" " select="yes" index="0">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="16"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="ChapterMas"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~ Determine legality of Hellfire Rounds
   var legal as number

~ If the model has a Bolter or equivalent, then Hellfire Rounds is a legal Choice
   if (option[gnBoltG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombF].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombPG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombMG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
    elseif (option[gn6_SMB_Ch].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   else
   endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB_Ch].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
   basestat[To] = 5
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
]]></prelinks>
    <postlinks><![CDATA[~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~Adjusting if Honor Guard Unit chooses Chapter Banner
if (parent.entity.tagis[smTags.Banner] > 0) then
   entity.stat[At] = entity.stat[At] + 1
else
endif


]]></postlinks>
    </unit>
  <unit id="sm5ECom_B" name="Command Squad" textcost="115" statset="container" maxsize="1" startsize="1" modelcount="0">
    <linkref id="smUT_Com"/>
    <link option="gnRef" name="(C:SM, pg. 55 &amp; 132)" priority="0" nature="auto" textcost=" " index="54">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="3" index="5"></link>
    <link option="gnMeltaB_E" name="Unit with Melta Bombs" priority="5" costtype="each" category="wargear" abbrev=" " textcost="25" index="53"></link>
    <link option="sm5ECS" priority="5" cost="15." category="wargear" textcost="+15" index="52"></link>
    <link option="gn6_SMB" priority="5" cost="90." category="wargear" abbrev=" " index="6">
      <live>!smTags.apFsm5_IEC</live>
      </link>
    <link option="gnSpcWar" priority="8" index="51"></link>
    <link option="sm5ECompC" priority="105" cost="0." category="add" textcost="+15" index="0"></link>
    <link option="gnSpace" priority="106" category="add" index="4"></link>
    <link option="gnSpace" priority="108" category="add" index="50"></link>
    <link option="sm5EApothe" nature="auto" category="add" textcost=" " hide="yes" index="3"></link>
    <link option="sm5EComMod" index="2">
      <exclref id="range_04"/>
      </link>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="smTags" tag="CommSquad"/>
    <tag group="smTags" tag="Legion"/>
    <member><![CDATA[(ruleset.smCh5E) | (ruleset.ro_ApocHE & (roster.ig | roster.ohw| roster.cd | roster.chA | roster.de | roster.ne | roster.ork | roster.ta | roster.ty5 | roster.el)) | (ruleset.ro_ApocTA & (roster.ig | roster.ohw)) | (ruleset.ro_ApocDA & (roster.ig | roster.ohw))]]></member>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_IEC] = 1) then
   retval = unit.assign[smTags.apFsm5_IEC]
endif</prelinks>
    <postlinks>~ Deleting Group for purposes of compulsory accounting
var retval as number
retval = unit.delete[Group.HQ]</postlinks>
    </unit>
  <unit id="sm5ESgtSte" name="Sergeant" cost="25." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Stern"/>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" cost="0." category="wargear" textcost=" " index="32">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSIA" priority="5" nature="base" cost="0." category="wargear" textcost=" " index="33">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="5"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." category="wargear" index="6"></link>
    <link option="gnWeapon" priority="28" index="7">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltG" priority="30" category="weapons" textcost=" " select="yes" index="8">
      <exclref id="onehand"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnBoltPUn" priority="30" category="weapons" textcost=" " select="yes" index="9">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="33" index="30"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun / BoltP with --{text 010101}" priority="35" index="10"></link>
    <link option="gnCCW" name="Chainsword" priority="40" cost="0." rangemax="2" costtype="single" category="weapons" abbrev="ChSwd" textcost="Free" index="11">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombF" priority="40" cost="5." rangemax="2" costtype="single" category="weapons" index="35">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="40" cost="5." rangemax="2" costtype="single" category="weapons" index="36">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="40" cost="5." rangemax="2" costtype="single" category="weapons" index="37">
      <exclref id="onehand"/>
      </link>
    <link option="gnLtCl" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="18">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="15">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" costtype="single" category="weapons" index="16">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormB" priority="40" cost="5." rangemax="2" costtype="single" category="weapons" index="34">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="39">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="38">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="40">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="43" index="29"></link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ECoStdB" name="Company Standard Bearer" statset="unit" maxsize="1" startsize="1" effective="yes">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="1"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="0"></link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gnCombSh" priority="5" nature="base" category="wargear" textcost=" " index="2"></link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3"></link>
    <link option="gnSpcWar" priority="10" index="4"></link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="5"></link>
    <link option="gn6_SMB" name="Unit on SM Bikes" priority="20" nature="auto" cost="0." category="wargear" textcost=" " mirror="gn6_SMB" contingent="gn6_SMB" index="6"></link>
    <link option="gnSpcWpn" priority="56" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="70" index="8"></link>
    <link option="gn6_PowAx" priority="73" cost="0." textcost="Free" index="9">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="73" cost="0." textcost="Free" index="10">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="73" cost="0." textcost="Free" index="11">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="73" cost="0." textcost="Free" index="12">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="78" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <member>ruleset.smCh5E</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EComMod" name="Veteran" cost="23." statset="unit" maxsize="4" startsize="1">
    <comment>Command Squad Veteran - single model version</comment>
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="5"></link>
    <link option="gnMeltaB_E" priority="20" cost="5." costtype="each" category="wargear" index="6"></link>
    <link option="gnStormS3" priority="20" cost="15." costtype="each" index="7">
      <exclref id="range_0mg"/>
      </link>
    <link option="gn6_SMB" name="Unit on SM Bikes" priority="20" nature="auto" cost="0." costtype="each" category="wargear" mirror="gn6_SMB" index="8"></link>
    <link option="gnBoltPUn" priority="28" category="weapons" textcost=" " select="yes" index="11">
      <exclref id="onehand"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="28" category="weapons" abbrev="ChSwd" textcost=" " select="yes" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="13"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace BoltP / Chainsword with --{text 010101}" priority="35" index="14"></link>
    <link option="gnBoltG" priority="40" costtype="each" category="weapons" textcost="Free" index="28">
      <exclref id="onehand"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnCombF" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="15">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="16">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gnFlamer" priority="40" cost="5." rangemax="2" costtype="each" category="weapons" index="18">
      <exclref id="onehand"/>
      </link>
    <link option="gnLtCl" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="19">
      <exclref id="onehand"/>
      </link>
    <link option="gnMeltaG" priority="40" cost="10." rangemax="2" costtype="each" category="weapons" index="20">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasG" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="21">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." costtype="each" category="weapons" index="36">
      <exclref id="onehand"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" costtype="each" category="weapons" index="37">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormB" priority="40" cost="3." rangemax="2" costtype="each" category="weapons" index="24">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="38">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="39">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="23">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" costtype="each" category="weapons" index="40">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_TH" priority="40" cost="30." rangemax="2" costtype="each" category="weapons" index="25">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="26"></link>
    <member>ruleset.smCh5E</member>
    <prelinks>~ Calculation aid for Command Squad count
call sm5E_model
</prelinks>
    <postlinks><![CDATA[~ Adjusting squad cost if Chapter Champion is chosen
if (option[sm5ECompC].selection > 0) then
   @single = @single + 38
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ If we're a child unit, remove legion tag for LotD Apocalypse Formation
var result as number

if (parent.tagis[smTags.Legion] > 0) then
   result = unit.delete[smTags.Legion]
endif

~ Calling to set Transport Capacity
call gnTptSpace]]></postlinks>
    </unit>
  <unit id="sm5EComSqd" name="Command Squad" textcost="115" statset="container" maxsize="1" startsize="1" modelcount="0">
    <linkref id="smTrans"/>
    <linkref id="smUT_Com"/>
    <link option="gnRef" name="(C:SM, pg. 55 &amp; 132)" priority="0" nature="auto" textcost=" " index="55">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="3" index="5"></link>
    <link option="gn6_JumpP" name="Squad with Jump Packs" priority="5" cost="50." category="wargear" abbrev=" " index="53">
      <live>smTagG.Courbray</live>
      </link>
    <link option="gn6_SMB" priority="5" cost="90." category="wargear" abbrev=" " index="6"></link>
    <link option="sm5ECS" priority="5" cost="15." category="wargear" textcost="+15" index="52"></link>
    <link option="gnSpcWar" priority="8" index="51"></link>
    <link option="sm5ECompC" priority="105" cost="0." category="add" textcost="+15" index="0"></link>
    <link option="gnSpace" priority="106" category="add" index="4"></link>
    <link option="gnSpace" priority="108" category="add" index="50"></link>
    <link option="gnSpace" priority="308" category="skills" index="54">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="sm5EApothe" nature="auto" category="add" textcost=" " hide="yes" index="3"></link>
    <link option="sm5EComMod" index="2">
      <exclref id="range_04"/>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CommSquad"/>
    <tag group="smTags" tag="Legion"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="noCount"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~Assigning tag to unit for LRP visibility
if (parent.tagis[ia9Tags.LRP_ok] = 1) then
   var retval as number
   retval = unit.assign[ia9Tags.LRP_ok]
endif

~Assigning tag to unit for LRP visibility
if (option[gn6_JumpP].selection > 0) then
   var retval as number
   retval = unit.assign[smTags.ComSqdJP]
endif]]></prelinks>
    <postlinks>~ Deleting Group for purposes of compulsory accounting
var retval as number
retval = unit.delete[Group.HQ]</postlinks>
    </unit>
  <unit id="sm5ESterng" name="Sternguard Veteran Squad" cost="25." textcost="125" idtag="yes" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Stern"/>
    <linkref id="smTrans"/>
    <link option="gnRef" name="(C:SM, pg. 63 &amp; 136)" priority="0" nature="auto" textcost=" " index="50">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSIA" priority="5" nature="base" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="18" nature="auto" remainder="range_m" category="weapons" textcost=" " index="7">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="18" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="48">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="18" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="49">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="18" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="47">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="30" index="9"></link>
    <link option="gnCombF" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="10">
      <exclref id="range_m"/>
      </link>
    <link option="gnCombMG" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="11">
      <exclref id="range_m"/>
      </link>
    <link option="gnCombPG" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="12">
      <exclref id="range_m"/>
      </link>
    <link option="gnStormB" priority="35" cost="5." rangemax="9" costtype="single" category="weapons" index="13">
      <exclref id="range_m"/>
      </link>
    <link option="gnSpcWpn" priority="49" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace up to 2 Boltguns with --{text 010101}" priority="50" index="15"></link>
    <link option="gnFlamer" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="16">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnHvyFl" priority="55" cost="10." rangemax="2" costtype="single" category="weapons" index="18">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnLasC" priority="55" cost="15." rangemax="2" costtype="single" category="weapons" index="19">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMMelta" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="20">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMeltaG" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="21">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMissile" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="22">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnPlasC" priority="55" cost="10." rangemax="2" costtype="single" category="weapons" index="23">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnPlasG" priority="55" cost="10." rangemax="2" costtype="single" category="weapons" index="24">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gn6_HvyBG" priority="55" cost="5." rangemax="2" costtype="single" category="weapons" index="17">
      <exclref id="range_m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="25"></link>
    <link option="smSgtStern" priority="105" nature="auto" costtype="single" index="26"></link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="CaestusTpt"/>
    <tag group="smTags" tag="Sternguard"/>
    <tag group="smTags" tag="sm5E_IESqd"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_IEC] = 1) then
   retval = unit.assign[smTags.apFsm5_IEC]
endif

~Adding tag to de-activate options for Caestus Trident formation
var RF as number

if (root.unit.tagis[iaHelper.iaa2e_CTAF] = 1) then
   RF = unit.assign[iaHelper.iaa2e_CTAF]
endif

~ Calculation aid for model count
call sm5E_model

</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EMiTA" name="Space Marine Chapter Master in Terminator Armour" cost="165." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_ChMas"/>
    <linkref id="gnWarlord"/>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="0">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="2">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="25" category="wargear" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="14"></link>
    <link option="gnMeltaB_E" priority="35" cost="5." category="wargear" index="15"></link>
    <link option="smAGL" priority="35" cost="15." index="16"></link>
    <link option="smHR" priority="35" cost="10." index="17"></link>
    <link option="sm5E_DigWp" priority="35" cost="10." index="18"></link>
    <link option="gnSpcWar" priority="38" index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="45" remainder="range_01" category="weapons" textcost=" " hide="yes" index="4">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="45" remainder="range_01" category="weapons" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="48" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Must Choose a Power Weapon --{text 010101}" priority="50" index="7"></link>
    <link option="gn6_PowAx" priority="53" cost="0." textcost="Free" index="8">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowLa" priority="53" cost="0." textcost="Free" index="9">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowMa" priority="53" cost="0." textcost="Free" index="10">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_PowSw" priority="53" cost="0." textcost="Free" index="11">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="55" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="60" index="20"></link>
    <link option="gnCombF" priority="65" cost="5." category="weapons" index="21">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="65" cost="5." category="weapons" index="22">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="65" cost="5." category="weapons" index="23">
      <exclref id="range_01"/>
      </link>
    <link option="gnLtCl" priority="65" cost="10." category="weapons" index="24">
      <exclref id="range_01"/>
      </link>
    <link option="gn6_TH" priority="65" cost="20." category="weapons" index="25">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="70" index="26"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Power Weapon with --{text 010101}" priority="75" index="27"></link>
    <link option="gnLtCl" priority="80" cost="5." category="weapons" index="29">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnPowF" priority="80" cost="10." category="weapons" index="30">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnStormS3" priority="80" cost="10." category="weapons" index="31">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_ChFst" priority="80" cost="15." category="weapons" index="28">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gn6_TH" priority="80" cost="15." category="weapons" index="32">
      <exclref id="range_01a"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="81" index="33"></link>
    <tag group="smTags" tag="ChapterMas"/>
    <tag group="Group" tag="HQ"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks><![CDATA[~ Determine legality of Hellfire Rounds
   var legal as number

~ If the model has a Bolter or equivalent, then Hellfire Rounds is a legal Choice
   if (option[gnBoltG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombF].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombPG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   elseif (option[gnCombMG].selection > 0) then
      legal = entity.assign[smTags.Bolter]
   else
   endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB_Ch].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
]]></prelinks>
    <postlinks><![CDATA[~Adjusting if Honor Guard Unit chooses Chapter Banner
if (parent.entity.tagis[smTags.Banner] > 0) then
   entity.stat[At] = entity.stat[At] + 1
else
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

]]></postlinks>
    </unit>
  <unit id="sm5EKantor" name="Chapter Master Pedro Kantor" cost="175." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Pedro"/>
    <linkref id="gnWarlord"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="17">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_01" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowF" priority="55" nature="base" category="weapons" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowF" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="smDA" priority="55" nature="base" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="ChapterMas"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EKhan" name="Kor&apos;sarro Khan" cost="160." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Khan"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" category="wargear" textcost=" " hide="yes" index="24">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="18">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="19"></link>
    <link option="wsMD" priority="35" index="17"></link>
    <link option="gnSpcWar" priority="36" index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="21">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="25">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowW" name="Moonfang" priority="55" nature="base" category="weapons" description="S User; AP 3; Melee. A wound roll of 6 causes Instant Death, regardless of the target&apos;s Toughness." textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowW" name="Moonfang" priority="55" nature="base" category="weapons" description="S User; AP 3; Melee.. A wound roll of 6 causes Instant Death, regardless of the target&apos;s Toughness." textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="22">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Captain"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <prelinks>~ Routine to determine unit type tagging
var retval as number

if (option[wsMD].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EDrop" name="Drop Pod" cost="35." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="12"/>
    <statval stat="Side" value="12"/>
    <linkref id="smUT_Drop"/>
    <link option="gnRef" name="(IA2, pg. 153)" priority="0" index="17">
      <live><![CDATA[!ruleset.ro_CompOut & iaHelper.iaVersion]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="16">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Option --{text 010101}" priority="5" index="1"></link>
    <link option="smLB" priority="10" index="2"></link>
    <link option="gnSpcWar" priority="13" index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="3">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnStormB" priority="55" nature="base" remainder="range_01" category="weapons" textcost=" " index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="65" index="5"></link>
    <link option="gnDML" priority="70" cost="20." costtype="single" category="weapons" index="6">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="71" index="7"></link>
    <tag group="smTags" tag="Transport"/>
    <member><![CDATA[(ruleset.smCh5E) | (!ruleset.ro_ApocTA & (ruleset.oh_AllySM))]]></member>
    <childcost><![CDATA[~ Changin cost to zero based on assault choice
if (root.tagis[smTags.Infantry] = 1) then
   @cost = 0
   @text = "Free"
endif
]]></childcost>
    <prelinks>~ tag for IA version

if (option[iaSMVeh].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif</prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMVeh].selection = 1) then
   unit.name = "Drop Pod (IA)"
endif]]></postlinks>
    </unit>
  <unit id="sm5EChapla" name="Space Marine Chaplain" textcost="100 / 130" statset="container" maxsize="1" startsize="1" modelcount="0">
    <statval stat="At" value=" "/>
    <statval stat="BS" value=" "/>
    <statval stat="In" value=" "/>
    <statval stat="Ld" value=" "/>
    <statval stat="Save" value=" "/>
    <statval stat="St" value=" "/>
    <statval stat="To" value=" "/>
    <statval stat="WS" value=" "/>
    <statval stat="Wo" value=" "/>
    <linkref id="smUT_Chap"/>
    <link option="sm5EChiPA" priority="5" remainder="range_11" index="0">
      <live>!smTags.apFsm5_VTF</live>
      </link>
    <link option="sm5EChiTA" priority="5" nature="auto" index="5">
      <exclref id="range_11"/>
      <live>smTags.apFsm5_VTF</live>
      </link>
    <link option="sm5EChiTA" priority="5" index="3">
      <exclref id="range_11"/>
      <live>!smTags.apFsm5_VTF</live>
      </link>
    <link option="gnSpace" priority="8" category="gn6_Basic" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="noCount"/>
    <member><![CDATA[(ruleset.smCh5E | ruleset.smChSiege) | (ruleset.ro_ApocHE & (roster.ig | roster.ohw | roster.cd | roster.chA | roster.de | roster.ne | roster.ork | roster.ta | roster.ty5 | roster.el)) | (ruleset.ro_ApocTA & (roster.ig | roster.ohw)) | (ruleset.ro_ApocDA & (roster.ig | roster.ohw))]]></member>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_VTF] = 1) then
   retval = unit.assign[smTags.apFsm5_VTF]
endif</prelinks>
    </unit>
  <unit id="sm5EThunde" name="Thunderfire Cannon" cost="100." statset="container" maxsize="1" startsize="1">
    <link option="gnRef" name="(C:SM, pg. 73 &amp; 142)" priority="0" nature="auto" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smThCan" priority="5" nature="base" category="weapons" textcost=" " index="5">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="6" index="7">
      <live><![CDATA[!ruleset.ro_CompOut & !ruleset.smChSiege]]></live>
      </link>
    <link option="sm5ETechGu" priority="105" nature="base" costtype="single" textcost=" " hide="yes" index="10">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="sm5ETechGu" priority="105" nature="base" costtype="single" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="106" category="add" index="6">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="sm5EDrop" priority="505" textcost="35" index="3">
      <live>!ruleset.smChSiege</live>
      </link>
    <link option="gn6_AutoUT" priority="900" display="1" category="unittype" index="9"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="Group" tag="Heavy"/>
    <tag group="UnitTags" tag="artillery" name="Unit Type: Artillery"/>
    <tag group="race" tag="rg"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    </unit>
  <unit id="sm5EChiPA" name="Space Marine Chaplain in Power Armour" cost="100." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="2"/>
    <linkref id="smOptAA"/>
    <linkref id="smUT_Chap"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" remainder="range_11" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnRosarius" priority="5" nature="base" textcost=" " index="15">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnRosarius" priority="5" nature="base" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Croziu" priority="55" nature="auto" category="weapons" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Croziu" priority="55" nature="auto" category="weapons" textcost=" " hide="yes" index="19">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Chaplain"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_VTF] = 1) then
   retval = unit.assign[smTags.apFsm5_VTF]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
   basestat[To] = 5
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EVDread" name="Venerable Dreadnought" cost="165." statset="ccvehicle" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="5"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="12"/>
    <statval stat="St" value="6"/>
    <statval stat="WS" value="5"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUTWalker"/>
    <linkref id="smDrop"/>
    <link option="gnRef" name="(C:SM, pg. 65 &amp; 137)" priority="0" nature="auto" textcost=" " index="34">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="4"></link>
    <link option="gn6_ExArm" priority="10" cost="15." category="wargear" index="5"></link>
    <link option="gnSpcWar" priority="11" index="6"></link>
    <link option="gnMMeltaUn" priority="15" nature="auto" remainder="range_11" category="weapons" textcost=" " index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnMMeltaUn" priority="15" nature="auto" remainder="range_11" category="weapons" textcost=" " hide="yes" index="32">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="15" nature="auto" remainder="range_11a" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="15" nature="auto" remainder="range_11a" category="weapons" textcost=" " hide="yes" index="33">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_DCCW" priority="15" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="31">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_DCCW" priority="15" nature="auto" remainder="range_01" category="weapons" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="18" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="20" index="12"></link>
    <link option="gnHvyFl" priority="25" cost="10." category="weapons" index="13">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Multi-melta with --{text 010101}" priority="35" index="15"></link>
    <link option="gnAssltC" priority="40" cost="10." category="weapons" index="16">
      <exclref id="range_11"/>
      </link>
    <link option="gnPlasC" priority="40" cost="10." category="weapons" index="17">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLAutoC" priority="40" cost="10." category="weapons" index="18">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLHvyBlt" priority="40" cost="5." category="weapons" index="19">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLHvyF" priority="40" cost="0." category="weapons" textcost="Free" index="20">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLLasC" priority="40" cost="30." category="weapons" index="21">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="22"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Dreadnought CCW with --{text 010101}" priority="50" index="23"></link>
    <link option="gnMissile" priority="55" cost="10." category="weapons" index="24">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnTLAutoC" priority="55" cost="10." category="weapons" index="25">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="26"></link>
    <link option="gnRoster" priority="100" index="27">
      <live><![CDATA[!ruleset.ro_bFormat & smTagG.Armoury]]></live>
      </link>
    <link option="gnHeavy" priority="105" cost="0." textcost=" " index="28">
      <exclref id="range_01e"/>
      <live>smTagG.Armoury</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="30">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpace" priority="506" category="transport" index="29">
      <live>smTagG.Armoury</live>
      </link>
    <tag group="smTags" tag="Dread"/>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="smTags" tag="Venerable"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="walker" name="Vehicle Type: Walker"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5E_LR" name="Land Raider" cost="250." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="14"/>
    <statval stat="HP" value="4"/>
    <statval stat="Rear" value="14"/>
    <statval stat="Side" value="14"/>
    <linkref id="smChronus"/>
    <linkref id="smUT_LR"/>
    <link option="gnRef" name="(IA2, pg. 98)" priority="0" nature="auto" textcost=" " index="18">
      <live><![CDATA[iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnRef" name="(C:SM, pg. 81 &amp; 142)" priority="0" nature="auto" textcost=" " index="20">
      <live><![CDATA[!iaHelper.iaVersion & !ruleset.ro_CompOut]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="19">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="include" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="include" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="25" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="30" index="4"></link>
    <link option="gnMMelta" priority="35" cost="10." category="wargear" index="7"></link>
    <link option="gnPMSB" priority="35" cost="10." category="wargear" index="8"></link>
    <link option="gn6_ExArm" priority="35" cost="15." category="wargear" index="5"></link>
    <link option="gn6_HKM" priority="35" cost="10." category="wargear" index="6"></link>
    <link option="gnSpcWar" priority="36" index="9">
      <live>ruleset.smCh5E</live>
      </link>
    <link option="gnTLHvyBlt" priority="55" nature="auto" category="weapons" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTLLasC" name="2x Twin Linked Lascannons" priority="55" nature="auto" category="weapons" abbrev="2x TLLasC" textcost=" " disable="yes" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PotMS" priority="305" nature="include" category="skills" textcost=" " index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="sm5E_LR"/>
    <tag group="Group" tag="Heavy"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <override index="0" group="ia9Tags">
      <condition>ruleset.smChTyrant</condition>
      <tagover id="ChapSup"/>
      </override>
    <override index="1">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>!(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)</member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Land Raider (IA)"
endif

~ If we're a child unit, we don't take up a composition slot

if (tagis[runtime.child] > 0) then
   var result as number
   result = unit.delete[Group.?]
endif]]></postlinks>
    </unit>
  <unit id="sm5EIroncl" name="Ironclad Dreadnought" cost="135." statset="ccvehicle" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="13"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="13"/>
    <statval stat="St" value="6"/>
    <statval stat="WS" value="4"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUTWalker"/>
    <linkref id="smDrop"/>
    <link option="gnRef" name="(C:SM, pg. 65 &amp; 137)" priority="0" nature="auto" textcost=" " index="35">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_ExArm" priority="5" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="4">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="5"></link>
    <link option="gn6_HKM" name="Hunter-Killer Missile(s)" priority="10" cost="10." rangemax="2" category="wargear" index="6"></link>
    <link option="smIAL" priority="10" cost="15." category="wargear" index="7"></link>
    <link option="gnSpcWar" priority="13" index="8"></link>
    <link option="gnMeltaGUn" priority="18" nature="auto" remainder="range_11b" category="weapons" textcost=" " hide="yes" index="32">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnMeltaGUn" priority="18" nature="auto" remainder="range_11b" category="weapons" textcost=" " index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="18" nature="auto" remainder="range_11a" category="weapons" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="18" nature="auto" remainder="range_11a" category="weapons" textcost=" " hide="yes" index="33">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_DCCW" priority="18" nature="auto" remainder="range_01" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_DCCW" priority="18" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="31">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="smDCCW2" priority="18" nature="auto" remainder="range_11" category="weapons" textcost=" " hide="yes" index="34">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="smDCCW2" priority="18" nature="auto" remainder="range_11" category="weapons" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="14">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="23" index="15"></link>
    <link option="gnHvyFl" priority="25" cost="10." category="weapons" index="16">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="17"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Meltagun with --{text 010101}" priority="35" index="18"></link>
    <link option="gnHvyFl" priority="40" cost="5." category="weapons" index="19">
      <exclref id="range_11b"/>
      </link>
    <link option="gnSpcWpn" priority="50" index="20"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Seismic Hammer with --{text 010101}" priority="55" index="21"></link>
    <link option="smDCCW2" name="Chainfist" priority="60" category="weapons" abbrev="ChF" description="Dreadnought Close Combat weapon that rolls 2D6 for armour penetration." textcost="Free" index="22">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="65" index="23"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Dreadnought CCW with --{text 010101}" priority="70" index="24"></link>
    <link option="gnHurrBlt" priority="75" cost="0." category="weapons" textcost="Free" index="25">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="76" index="26"></link>
    <link option="gnRoster" priority="100" index="27">
      <live><![CDATA[!ruleset.ro_bFormat & smTagG.Armoury]]></live>
      </link>
    <link option="gnHeavy" priority="105" cost="0." textcost=" " index="28">
      <exclref id="range_01e"/>
      <live>smTagG.Armoury</live>
      </link>
    <link option="gnSpace" priority="308" category="skills" index="30">
      <live><![CDATA[!ruleset.ro_CompOut & !ruleset.smChSiege]]></live>
      </link>
    <link option="gnSpace" priority="506" category="transport" index="29">
      <live>smTagG.Armoury</live>
      </link>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="ia9Tags" tag="SiegeDN"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Dread"/>
    <tag group="smTags" tag="Ironclad"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="walker" name="Vehicle Type: Walker"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      <statval stat="Side" value="12"/>
      </override>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EChiTA" name="Space Marine Chaplain in Terminator Armour" cost="130." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="2"/>
    <linkref id="smOptBB"/>
    <linkref id="smUT_Chap"/>
    <linkref id="gnWarlord"/>
    <link option="gnRosarius" priority="5" nature="base" category="wargear" description="Confers a 4+ Invulnerable Save." textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnRosarius" priority="5" nature="base" category="wargear" description="Confers a 4+ Invulnerable Save." textcost=" " hide="yes" index="11">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="12">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Croziu" priority="55" nature="auto" category="weapons" textcost=" " hide="yes" index="13">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Croziu" priority="55" nature="auto" category="weapons" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Chaplain"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~Adding tag to activate options for Iron Exemplar formation
var retval as number

if (root.unit.tagis[smTags.apFsm5_VTF] = 1) then
   retval = unit.assign[smTags.apFsm5_VTF]
endif

~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB_Ch].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
elseif (option[gn6_JumpP].selection = 1) then
   retval = entity.assign[UnitTags.jumpunits]
   retval = entity.delete[UnitTags.infantry]
endif
</prelinks>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5E_Razor" name="Razorback" cost="40." statset="vehicle" maxsize="1" startsize="1">
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="11"/>
    <statval stat="HP" value="3"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="11"/>
    <linkref id="smChronus"/>
    <linkref id="smUT_Razor"/>
    <link option="gnRef" name="(IA2, pg. 56)" priority="0" index="27">
      <live><![CDATA[!ruleset.ro_CompOut & iaHelper.iaVersion]]></live>
      </link>
    <link option="gnSpcWar" priority="3" index="28">
      <live>ruleset.ro_ImpArm</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1"></link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="14"></link>
    <link option="gnSpcWar" priority="10" index="15"></link>
    <link option="gnWargear" name="{macro color1}-- May take any of the following --{text 010101}" priority="30" index="6"></link>
    <link option="gnPMSB" priority="35" cost="10." category="wargear" index="10"></link>
    <link option="gn6_Dozer" priority="35" cost="5." category="wargear" index="11"></link>
    <link option="gn6_ExArm" priority="35" cost="15." category="wargear" index="7"></link>
    <link option="gn6_HKM" priority="35" cost="10." category="wargear" index="12"></link>
    <link option="gnSpcWar" priority="36" index="22"></link>
    <link option="gnTLHBltUn" priority="55" nature="base" cost="0." remainder="range_01" category="weapons" textcost=" " index="8"></link>
    <link option="gnTLHBltUn" priority="55" nature="base" cost="0." remainder="range_01" category="weapons" textcost=" " hide="yes" index="29">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="24"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace TL Heavy Bolter with --{text 010101}" priority="65" index="13"></link>
    <link option="smLasCTLPG" priority="70" cost="35." category="weapons" index="16">
      <exclref id="range_01"/>
      </link>
    <link option="gnTLAssltC" priority="73" cost="35." category="weapons" index="18">
      <exclref id="range_01"/>
      </link>
    <link option="gnTLHvyF" priority="73" cost="25." category="weapons" index="19">
      <exclref id="range_01"/>
      </link>
    <link option="gnTLLasC" priority="73" cost="35." category="weapons" index="17">
      <exclref id="range_01"/>
      </link>
    <link option="gnTLMMelta" priority="73" category="weapons" textcost="Free" index="26">
      <exclref id="range_01"/>
      <live>iaHelper.iaVersion</live>
      </link>
    <link option="gnSpcWpn" priority="75" index="25"></link>
    <tag group="UnitTags" tag="tank" name="Vehicle Type: Tank"/>
    <tag group="UnitTags" tag="transport" name="Vehicle Type: Transport"/>
    <tag group="smTags" tag="Transport"/>
    <member><![CDATA[ruleset.smCh5E | (!ruleset.ro_ApocTA & ruleset.oh_AllySM) & !(ruleset.sc_ia9_BA | ruleset.sc_ia9_BVA | ruleset.sc_ia9_BVD)]]></member>
    <prelinks><![CDATA[~ tag for IA version

if (option[iaSMTank].selection = 1) then
  var retval as number
  retval = unit.assign[iaHelper.iaVersion]
endif

~Changing BS of unit if Chronos is taken
var Chronos as number

if (option[smBroSgtCh].selection > 0) then
   unit.basestat[BS] = 5
endif]]></prelinks>
    <postlinks><![CDATA[~ Change name if using IA version

if (option[iaSMTank].selection = 1) then
   unit.name = "Razorback (IA)"
endif]]></postlinks>
    </unit>
  <unit id="sm5ECptSic" name="Captain Cato Sicarius" cost="200." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Sicar"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnIronHalo" priority="5" nature="base" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="umMoS" priority="5" nature="base" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPlasP" priority="55" nature="base" category="weapons" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPlasP" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="19">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PowSw" name="Talassarian Tempest Blade" priority="55" nature="base" category="weapons" description="S User; AP 3; Melee, (see C:SM, pg. 85 &amp; 6E SM FAQ)." textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_PowSw" name="Talassarian Tempest Blade" priority="55" nature="base" category="weapons" description="S User; AP 3; Melee, (see C:SM, pg. 85 &amp; 6E SM FAQ)." textcost=" " hide="yes" index="20">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Captain"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EMotF" name="Master of the Forge" cost="100." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="2"/>
    <linkref id="smUT_MotF"/>
    <linkref id="gnWarlord"/>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" textcost=" " hide="yes" index="45">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerH" priority="5" nature="base" remainder="range_11" textcost=" " hide="yes" index="43">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerH" priority="5" nature="base" remainder="range_11" textcost=" " index="16">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="26"></link>
    <link option="gn6_SMB" priority="20" cost="35." index="28"></link>
    <link option="sm5E_DigWp" priority="20" cost="10." index="29"></link>
    <link option="gnSpcWar" priority="21" index="42">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" priority="50" index="37">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltPUn" priority="55" remainder="range_01" category="weapons" textcost=" " hide="yes" index="44">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="55" remainder="range_01" category="weapons" textcost=" " index="17">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="60" index="38">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- May take one of the following --{text 010101}" priority="65" index="35"></link>
    <link option="gn6_PowAx" priority="70" cost="15." category="weapons" index="3">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_PowLa" priority="70" cost="15." category="weapons" index="46">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_PowMa" priority="70" cost="15." category="weapons" index="47">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_PowSw" priority="70" cost="15." category="weapons" index="48">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_TH" priority="70" cost="30." category="weapons" index="30">
      <exclref id="range_01h"/>
      </link>
    <link option="gnSpcWpn" priority="75" index="39"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="80" index="31"></link>
    <link option="gnBoltG" priority="85" category="weapons" textcost="Free" index="19">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombF" priority="85" cost="10." category="weapons" index="20">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="85" cost="10." category="weapons" index="15">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="85" cost="10." category="weapons" index="21">
      <exclref id="range_01"/>
      </link>
    <link option="gnPlasP" priority="85" cost="15." category="weapons" index="1">
      <exclref id="range_01"/>
      </link>
    <link option="gnStormB" priority="85" cost="5." category="weapons" index="18">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="90" index="40"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Harness &amp; Bolt Pistol with --{text 010101}" priority="93" index="24"></link>
    <link option="smConvB" priority="95" cost="20." category="weapons" index="27">
      <exclref id="range_01"/>
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="98" index="41"></link>
    <link option="gnAddUnit" priority="100" index="32">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="smServitor" priority="105" index="33"></link>
    <link option="gnSpace" priority="106" category="add" index="36"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTagG" tag="Armoury"/>
    <tag group="smTags" tag="ForgeMast"/>
    <tag group="Group" tag="HQ"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
   basestat[To] = 5
endif</prelinks>
    <postlinks><![CDATA[~Adding in attack bonuses for servo-gear
var bonus as number

if (option[gn5E_SerA].selection > 0) then
   bonus = entity.assign[UnitTags.plus1att] 
else
if (option[gn5E_SerH].selection > 0) then
   bonus = entity.assign[UnitTags.plus2att]
else
endif
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <unit id="sm5EServ" name="Servitor Unit" textcost="10+" statset="unit" maxsize="5" startsize="1">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="3"/>
    <statval stat="In" value="3"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="4"/>
    <statval stat="St" value="3"/>
    <statval stat="To" value="3"/>
    <statval stat="WS" value="3"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_Serv"/>
    <link option="gnRef" name="(C:SM, pg. 72 &amp; 138)" priority="0" nature="auto" textcost=" " index="45">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerA" priority="5" nature="auto" remainder="range_0m" textcost=" " index="38">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerA" priority="5" nature="auto" remainder="range_0m" textcost=" " hide="yes" index="43">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="44">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Servo Arm with --{text 010101}" priority="20" index="14"></link>
    <link option="gn6_HvyBG" priority="25" nature="cost" cost="20." rangemax="2" costtype="single" category="weapons" index="40">
      <exclref id="range_0m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnMMelta" priority="25" nature="cost" cost="30." rangemax="2" costtype="single" category="weapons" index="34">
      <exclref id="range_0m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnPlasC" priority="25" nature="cost" cost="30." rangemax="2" costtype="single" category="weapons" index="41">
      <exclref id="range_0m"/>
      <exclref id="range_02"/>
      </link>
    <link option="gnSpcWpn" priority="26" index="42">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="Servitor"/>
    <member><![CDATA[(roster.sm | roster.rg | roster.rs | ruleset.smChSiege) | (ruleset.ro_ApocHE & (roster.ig | roster.sob | roster.gk5E | roster.cd | roster.chA | roster.de | roster.ne | roster.ork | roster.ta | roster.ty5 | roster.el)) | (ruleset.ro_ApocTA & (roster.ig | roster.sob | roster.gk5E | roster.da | roster.ba5E | roster.bt | roster.sw5E)) | (ruleset.ro_ApocDA & (roster.ig | roster.sob | roster.gk5E))]]></member>
    <postlinks><![CDATA[~ Calculating cost for servitor unit
if (count[model] = 1) then
   @unit = 10
elseif (count[model] = 2) then
   @unit = 25
elseif (count[model] = 3) then
   @unit = 40
elseif (count[model] = 4) then
   @unit = 55
elseif (count[model] = 5) then
   @unit = 70
endif

~Adding in attack bonuses for servo-gear
var bonus as number

if (option[gn5E_SerA].selection > 0) then
   bonus = entity.assign[UnitTags.plus1att] 
else
if (option[gn5E_SerH].selection > 0) then
   bonus = entity.assign[UnitTags.plus2att]
else
endif
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <unit id="sm5ELysand" name="Captain Darnath Lysander" cost="200." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="4"/>
    <linkref id="smUT_Lysan"/>
    <linkref id="gnWarlord"/>
    <link option="gnStormS3" priority="5" nature="base" category="wargear" textcost=" " hide="yes" index="14">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormS3" priority="5" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " hide="yes" index="15">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnTermArm" priority="5" nature="base" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="ifFoD" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="16">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="ifFoD" priority="55" nature="base" category="weapons" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="sm5E_RAHQ"/>
    <tag group="Group" tag="HQ"/>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Captain"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EDread" name="Dreadnought" cost="105." statset="ccvehicle" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="Front" value="12"/>
    <statval stat="HP" value="3"/>
    <statval stat="In" value="4"/>
    <statval stat="Rear" value="10"/>
    <statval stat="Side" value="12"/>
    <statval stat="St" value="6"/>
    <statval stat="WS" value="4"/>
    <linkref id="gn6_AutoVT"/>
    <linkref id="smUTWalker"/>
    <linkref id="smDrop"/>
    <link option="gnRef" name="(C:SM, pg. 65 &amp; 137)" priority="0" nature="auto" textcost=" " index="34">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Search" priority="5" nature="base" category="wargear" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_Smoke" priority="5" nature="base" category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="9" index="4"></link>
    <link option="gn6_ExArm" priority="10" cost="15." category="wargear" index="5"></link>
    <link option="gnSpcWar" priority="13" index="6"></link>
    <link option="gnMMeltaUn" priority="18" nature="auto" remainder="range_11" category="weapons" textcost=" " index="9">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnMMeltaUn" priority="18" nature="auto" remainder="range_11" category="weapons" textcost=" " hide="yes" index="31">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="18" nature="auto" remainder="range_11a" category="weapons" textcost=" " index="10">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnStormB" priority="18" nature="auto" remainder="range_11a" category="weapons" textcost=" " hide="yes" index="32">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_DCCW" priority="18" nature="auto" remainder="range_01" category="weapons" textcost=" " hide="yes" index="30">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_DCCW" priority="18" nature="auto" remainder="range_01" category="weapons" textcost=" " index="8">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="11">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Storm Bolter with --{text 010101}" priority="23" index="12"></link>
    <link option="gnHvyFl" priority="25" cost="10." category="weapons" index="13">
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="30" index="14"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Multi-melta with --{text 010101}" priority="35" index="15"></link>
    <link option="gnAssltC" priority="40" cost="10." category="weapons" index="16">
      <exclref id="range_11"/>
      </link>
    <link option="gnPlasC" priority="40" cost="10." category="weapons" index="18">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLAutoC" priority="40" cost="10." category="weapons" index="19">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLHvyF" priority="40" cost="0." category="weapons" textcost="Free" index="20">
      <exclref id="range_11"/>
      </link>
    <link option="gnTLLasC" priority="40" cost="30." category="weapons" index="21">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_HvyBGU" name="Twin-Linked Heavy Bolter" priority="40" cost="5." category="weapons" abbrev="TLHB" description="36&quot; Range; S5; AP4; Heavy 3 Linked" index="17">
      <exclref id="range_11"/>
      </link>
    <link option="gnSpcWpn" priority="45" index="22"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Dreadnought CCW with --{text 010101}" priority="50" index="23"></link>
    <link option="gnMissile" priority="55" cost="10." category="weapons" index="24">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnTLAutoC" priority="55" cost="10." category="weapons" index="25">
      <exclref id="range_01"/>
      <exclref id="range_11a"/>
      </link>
    <link option="gnSpcWpn" priority="56" index="26"></link>
    <link option="gnHeavy" priority="105" cost="0." textcost=" " index="28">
      <exclref id="range_01e"/>
      <live>smTagG.Armoury</live>
      </link>
    <link option="gnSpace" priority="506" category="transport" index="29">
      <live><![CDATA[smTagG.Armoury & !ruleset.ro_ImpArm]]></live>
      </link>
    <link option="gnSpace" priority="521" category="transport" index="33">
      <live><![CDATA[smTagG.Armoury & ruleset.ro_ImpArm]]></live>
      </link>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Dread"/>
    <tag group="smTags" tag="Legion"/>
    <tag group="smTags" tag="TMSupport"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="walker" name="Vehicle Type: Walker"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5ELotDSq" name="Legion of the Damned Squad" cost="30." textcost="155" statset="unit" minsize="4" maxsize="9" startsize="4">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_LotD"/>
    <link option="gnRef" name="(C:SM, pg. 95 &amp; 138)" priority="0" nature="auto" textcost=" " index="61">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="22">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="21">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="58">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="18" nature="auto" remainder="range_m" category="weapons" textcost=" " hide="yes" index="59">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="18" nature="auto" remainder="range_m" category="weapons" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="18" nature="auto" remainder="range_0m" category="weapons" textcost=" " index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="18" nature="auto" remainder="range_0m" category="weapons" textcost=" " hide="yes" index="60">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="20" index="32">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="30" index="54"></link>
    <link option="gnFlamer" priority="35" cost="20." costtype="single" category="weapons" index="44">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnMeltaG" priority="35" cost="20." costtype="single" category="weapons" index="45">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnPlasG" priority="35" cost="20." costtype="single" category="weapons" index="46">
      <exclref id="range_m"/>
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="40" index="53"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun with --{text 010101}" priority="45" index="31"></link>
    <link option="gnHvyFl" priority="50" cost="30." costtype="single" category="weapons" index="42">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnLasC" priority="50" cost="30." costtype="single" category="weapons" index="47">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnMMelta" priority="50" cost="30." costtype="single" category="weapons" index="51">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnMissile" priority="50" cost="15." costtype="single" category="weapons" index="48">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnPlasC" priority="50" cost="20." costtype="single" category="weapons" index="49">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gn6_HvyBG" priority="50" cost="10." costtype="single" category="weapons" index="52">
      <exclref id="range_m"/>
      <exclref id="range_01a"/>
      </link>
    <link option="gnSpcWpn" priority="51" index="57">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smSgtLotD" priority="105" nature="auto" costtype="single" index="13"></link>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <tag group="race" tag="rg"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ Setting save as invulnerable
call gnInv3i</postlinks>
    </unit>
  <unit id="sm5ESgtLoD" name="Sergeant" cost="35." idtag="yes" statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="5"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_LotD"/>
    <link option="gnKrakG_E" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" cost="0." category="wargear" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltG" priority="18" category="weapons" textcost=" " select="yes" index="7">
      <exclref id="onehand"/>
      </link>
    <link option="gnBoltPUn" priority="18" category="weapons" textcost=" " select="yes" index="6">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="25" index="8"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Boltgun / Bolt Pistol with --{text 010101}" priority="35" index="10"></link>
    <link option="gnCCW" name="Chainsword" priority="40" cost="0." rangemax="2" category="weapons" abbrev="ChSwd" textcost="Free" index="11">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombF" priority="40" cost="10." rangemax="2" category="weapons" index="12">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombMG" priority="40" cost="10." rangemax="2" category="weapons" index="13">
      <exclref id="onehand"/>
      </link>
    <link option="gnCombPG" priority="40" cost="10." rangemax="2" category="weapons" index="14">
      <exclref id="onehand"/>
      </link>
    <link option="gnPlasP" priority="40" cost="15." rangemax="2" costtype="single" category="weapons" index="16">
      <exclref id="onehand"/>
      </link>
    <link option="gnPowF" priority="40" cost="25." rangemax="2" category="weapons" index="15">
      <exclref id="onehand"/>
      </link>
    <link option="gnStormB" priority="40" cost="10." rangemax="2" category="weapons" index="18">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowAx" priority="40" cost="15." rangemax="2" category="weapons" index="22">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowLa" priority="40" cost="15." rangemax="2" category="weapons" index="17">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowMa" priority="40" cost="15." rangemax="2" category="weapons" index="23">
      <exclref id="onehand"/>
      </link>
    <link option="gn6_PowSw" priority="40" cost="15." rangemax="2" category="weapons" index="24">
      <exclref id="onehand"/>
      </link>
    <link option="gnSpcWpn" priority="41" index="20">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="UnitTags" tag="character" name="Character"/>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW

~ Setting save as invulnerable
call gnInv3i</postlinks>
    </unit>
  <unit id="sm5ETechM" name="Techmarine" cost="50." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="1"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="8"/>
    <statval stat="Save" value="2"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <linkref id="smUT_TechM"/>
    <link option="gnRef" name="(C:SM, pg. 71 &amp; 138)" priority="0" nature="auto" textcost=" " index="56">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="24">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" category="wargear" textcost=" " index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerA" priority="5" nature="auto" remainder="range_11" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gn5E_SerA" priority="5" nature="auto" remainder="range_11" textcost=" " hide="yes" index="54">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="35">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="29"></link>
    <link option="gn5E_SerH" priority="20" cost="25." costtype="single" index="1">
      <exclref id="range_11"/>
      </link>
    <link option="gn6_SMB" priority="20" cost="35." index="33">
      <live>!ruleset.smChSiege</live>
      </link>
    <link option="gnSpcWar" priority="21" index="53">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="25" remainder="range_01" category="weapons" textcost=" " hide="yes" index="55">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="25" remainder="range_01" category="weapons" textcost=" " index="19">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="28" index="49">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWeapon" name="{macro color1}-- Options --{text 010101}" priority="30" index="50"></link>
    <link option="gn6_PowAx" priority="31" cost="15." category="weapons" index="34">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_PowLa" priority="31" cost="15." category="weapons" index="57">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_PowMa" priority="31" cost="15." category="weapons" index="58">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_PowSw" priority="31" cost="15." category="weapons" index="59">
      <exclref id="range_01h"/>
      </link>
    <link option="gn6_TH" priority="31" cost="30." category="weapons" index="43">
      <exclref id="range_01h"/>
      </link>
    <link option="gnSpcWpn" priority="32" index="51"></link>
    <link option="gnWeapon" name="{macro color1}-- Replace Bolt Pistol with --{text 010101}" priority="33" index="22"></link>
    <link option="gnBoltG" priority="35" category="weapons" textcost="Free" index="38">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombF" priority="35" cost="10." category="weapons" index="39">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombMG" priority="35" cost="10." category="weapons" index="41">
      <exclref id="range_01"/>
      </link>
    <link option="gnCombPG" priority="35" cost="10." category="weapons" index="40">
      <exclref id="range_01"/>
      </link>
    <link option="gnPlasP" priority="35" cost="15." category="weapons" index="20">
      <exclref id="range_01"/>
      </link>
    <link option="gnStormB" priority="35" cost="3." category="weapons" index="17">
      <exclref id="range_01"/>
      </link>
    <link option="gnSpcWpn" priority="36" index="52"></link>
    <link option="smServitor" priority="105" index="45"></link>
    <link option="gnSpace" priority="106" category="add" index="47"></link>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="Techmarine"/>
    <tag group="smTags" tag="sm5E_RASqd"/>
    <tag group="Group" tag="Elite"/>
    <tag group="UnitTags" tag="character" name="Character"/>
    <tag group="UnitTags" tag="infantry" name="Unit Type: Infantry"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <prelinks>~ Routine to determine unit type tagging
var retval as number

if (option[gn6_SMB].selection = 1) then
   retval = entity.assign[UnitTags.bikes]
   retval = entity.delete[UnitTags.infantry]
   basestat[To] = 5
endif

~ Calculation aid for model count
call sm5E_model</prelinks>
    <postlinks><![CDATA[~Adding in attack bonuses for servo-gear
var bonus as number
var block as number

if (option[gn5E_SerA].selection > 0) then
   bonus = entity.assign[UnitTags.plus1att] 
else
if (option[gn5E_SerH].selection > 0) then
   bonus = entity.assign[UnitTags.plus2att]
else
endif
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <unit id="sm5EHestan" name="Forgefather Vulkan He&apos;stan" cost="190." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="3"/>
    <statval stat="BS" value="5"/>
    <statval stat="In" value="5"/>
    <statval stat="Ld" value="10"/>
    <statval stat="Save" value="2+"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="6"/>
    <statval stat="Wo" value="3"/>
    <linkref id="smUT_Vulka"/>
    <linkref id="gnWarlord"/>
    <link option="gn6_AslGre" priority="3" nature="base" category="wargear" textcost=" " index="12">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="3" nature="base" category="wargear" textcost=" " index="13">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnArtArm" priority="5" nature="base" textcost=" " index="2">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="saKM" priority="5" nature="base" textcost=" " hide="yes" index="26">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="saKM" priority="5" nature="base" textcost=" " index="3">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="sm5E_DigWp" priority="5" nature="base" textcost=" " index="1">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="8" index="22"></link>
    <link option="gnWeapon" priority="50" index="20">
      <live>!ruleset.ro_bFormat</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " index="23">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltP" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="19">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="saGotF" priority="55" nature="base" category="weapons" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="saGotF" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="24">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="saSoV" priority="55" nature="base" category="weapons" textcost=" " hide="yes" index="18">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="saSoV" priority="55" nature="base" category="weapons" textcost=" " index="25">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="56" index="21"></link>
    <tag group="gnAcc" tag="gnNameChar"/>
    <tag group="limited" tag="unique"/>
    <tag group="race" tag="rg"/>
    <tag group="race" tag="rs"/>
    <tag group="race" tag="sm"/>
    <tag group="smTags" tag="sm5E_Named"/>
    <tag group="Group" tag="HQ"/>
    <override index="0">
      <condition>ruleset.smChSiege</condition>
      </override>
    <member>(ruleset.ro_spec | ruleset.ro_Apoc)</member>
    <postlinks>~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW</postlinks>
    </unit>
  <unit id="sm5EApothe" name="Apothecary" cost="23." statset="unit" maxsize="1" startsize="1">
    <statval stat="At" value="2"/>
    <statval stat="BS" value="4"/>
    <statval stat="In" value="4"/>
    <statval stat="Ld" value="9"/>
    <statval stat="Save" value="3"/>
    <statval stat="St" value="4"/>
    <statval stat="To" value="4"/>
    <statval stat="WS" value="4"/>
    <statval stat="Wo" value="1"/>
    <link option="gn6_AslGre" priority="5" nature="base" category="wargear" textcost=" " index="38">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnKrakG_E" priority="5" nature="base" category="wargear" textcost=" " index="40">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnPowArm" priority="5" nature="base" textcost=" " index="183">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="smAWN" priority="5" nature="base" textcost=" " index="180">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWar" priority="10" index="51">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnWargear" name="{macro color1}-- Options --{text 010101}" priority="15" index="182"></link>
    <link option="gn6_SMB" name="Unit on SM Bikes" priority="20" nature="auto" cost="0." category="wargear" textcost=" " mirror="gn6_SMB" contingent="gn6_SMB" index="58"></link>
    <link option="gnBoltPUn" priority="30" nature="auto" category="weapons" textcost=" " hide="yes" index="187">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnBoltPUn" priority="30" nature="auto" category="weapons" textcost=" " index="0">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="auto" category="weapons" abbrev="ChSwd" textcost=" " index="64">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <link option="gnCCWUn" name="Chainsword" priority="30" nature="auto" category="weapons" abbrev="ChSwd" textcost=" " hide="yes" index="188">
      <live>ruleset.ro_CompOut</live>
      </link>
    <link option="gnSpcWpn" priority="31" index="185">
      <live>!ruleset.ro_CompOut</live>
      </link>
    <tag group="smTags" tag="Apothecary"/>
    <member>ruleset.smCh5E</member>
    <prelinks>~ Calculation aid for Command Squad count
call sm5E_model
</prelinks>
    <postlinks><![CDATA[~ Adjusting squad cost if Chapter Champion is chosen
if (option[sm5ECompC].selection > 0) then
   @single = @single + 38
endif

~ Procedure call for setting bonus attacks, adjusting strength, etc.
call sm5EAdjCCW]]></postlinks>
    </unit>
  <scripts>
    <procedure id="sm5EAdjCCW"><![CDATA[~Adjusting Strength for Relic Blades
if (option[smRB].selection >= 1) then
   call gnAddStr2i
endif

if (option[gn6_DCCW].selection = 1) then
   var retval as number
   retval = assign[statAdj.addCCW]
endif

if (option[smDCCW2].selection = 1) then
   var retval as number
   retval = assign[statAdj.addCCW]
endif

~ Setting strength to 10 for Dreadnought CCWs
if (unit.option[gn6_DCCW].selection > 0) then
  stat[St] = 10
elseif (unit.option[smDCCW2].selection > 0) then
  stat[St] = 10
endif

~ Increasing Toughness for SM Bike selection
~   if (option[gn6_SMB].selection = 1) then
~      basestat[To] = 5
~   elseif (option[gn6_SMB_Ch].selection = 1) then
~      basestat[To] = 5
   if (option[wsMD].selection = 1) then
      basestat[To] = 5
   endif

~ Terminator squads
   ~ Calls to increase strength and reduce initiative based on power fist availablity
   if (option[gnPowFUn].selection >= 1) then
      call gnMulStr2i
      call gnInit1i
      ~ Add a special CCW weapon tag
      call gnAddSpeci
   endif

   ~ Calls to increase strength and reduce initiative based on chainfist availablity
   if (option[gn6_ChFstU].selection >= 1) then
      call gnMulStr2i
      call gnInit1i
      ~ Add a special CCW weapon tag
      call gnAddSpeci
   endif

   ~ Manually setting stats for Lightning claws bonus attacks
   if (option[gnLtClPrUn].selection >= 1) then
      call gnPlus1Ati
   endif

   ~ Calls to increase strength and reduce initiative based on thunder hammer & storm shield availablity
   if (option[gn6_THSS3U].selection >= 1 ) then
      call gnMulStr2i
      call gnInit1i
      call gnInv3i
      ~ Add a special CCW weapon tag
      call gnAddSpeci
   endif

~ Remaining

~ Bolt Pistols for the unit
   if (option[gnBoltPUn].selection > 0 ) then
      var result1 as number
      result1 = unit.assign[statAdj.addCCW]
   endif

   ~ CCWs for the unit
   if (option[gnCCWUn].selection > 0 ) then
      var result1 as number
      result1 = unit.assign[statAdj.addCCW]
   endif

   ~ Power Weapons for the unit
   if (option[gnPowWUn].selection > 0) then
      var result1 as number
      result1 = unit.assign[statAdj.addCCW]
      ~ Add a special CCW weapon tag
      call gnAddSpeci
   endif]]></procedure>
    <procedure id="sm5E_model"><![CDATA[~ script adds to the unit (and any parent it has) private stat (defined in def file) gnTptCap.  This stat is the used in the format: val:runtime.gnTptCap? <= n where n is the vehicle's transport capacity in live statements for transports

~ set transport capacity for the immediate unit
entity.stat[sm5E_model] = entity.stat[sm5E_model] + entity.count[model]

~ apply transport count to the parent unit as well
parent.stat[sm5E_model] = parent.stat[sm5E_model] + entity.count[model]

~ apply transport count to the parent parent unit as well
parent.parent.stat[sm5E_model] = parent.parent.stat[sm5E_model] + entity.count[model]

~ now account for squad mechanisms
squad.stat[sm5E_model] = squad.stat[sm5E_model] + count[model]]]></procedure>
    </scripts>
  <rule id="smComSqd2" message="You can only have one command squad for every Space Marine Captain." summary="You can only have one command squad for every Space Marine Captain.">
    <set set="smCh5E"/>
    <test/>
    <valid><![CDATA[~ If Apocalypse ruleset is in force, ignore the rest of this rule
if (tagcount[ruleset.ro_Apoc] = 1) then
   @valid = 1
   done
endif

~variable assignment
var Capn as number
var modify2 as number

~ Adjustment for units which can have squad, but are not Captains
if (tagcount[smTags.AllowCmdSq] > 0) then
   modify2 = 1
else
   modify2 = 0
endif

~ If you have more Command Squads than Independent Characters, flag an error
Capn = tagcount[smTags.Captain]
Capn = Capn + modify2

if (tagcount[smTags.CommSquad] <= Capn) then
   @valid = 1
endif
]]></valid>
    </rule>
  <rule id="smVanSqd1" message="You must have at least 5 models in the Vanguard Veteran Squad." summary="You must have at least 5 models in the Vanguard Veteran Squad." scope="unit" targetid="sm5EVangua">
    <test/>
    <valid><![CDATA[var min as number

min = stat[sm5E_model]

if (min > 4) then
   @valid = 1
   else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="smHonGua1" message="You can only have one Honour Guard squad for every Space Marine Chapter Master." summary="You can only have one Honour Guard squad for every Space Marine Chapter Master.">
    <test/>
    <valid><![CDATA[~ If Apocalypse ruleset is in force, ignore the rest of this rule
if (tagcount[ruleset.ro_Apoc] = 1) then
   @valid = 1
   done
endif

~ Variable assignment
var modify as number
var modify2 as number
var ChapMas as number

~ Making modification for Marneus Calgar
if (tagcount[umTagsG.UltraMaste] > 0) then
   modify = 2
else
   modify = 0
endif

~ Adjustment for units which can have squad, but are not Chapter Masters
if (tagcount[smTags.AllowHonGu] > 0) then
   modify2 = 1
else
   modify2 = 0
endif

~ If you have more Command Squads than Independent Characters, flag an error
ChapMas = tagcount[smTags.ChapterMas]
ChapMas = ChapMas + modify + modify2

if (tagcount[smTags.HonorGuard] <= ChapMas) then
   @valid = 1
endif]]></valid>
    </rule>
  <rule id="smChronus2" message="Brother-Sergeant Chronus is Unique and may only be selected once." summary="Brother-Sergeant Chronus is Unique and may only be selected once." priority="20">
    <test/>
    <valid><![CDATA[if (tagcount[smTagG.Chronus] <= 1) then
   @valid = 1
else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="smComSqd1" message="You must have exactly 5 models in the Command Squad." summary="You must have exactly 5 models in the Command Squad." scope="unit" targetid="sm5EComSqd">
    <test/>
    <valid>var min as number

min = stat[sm5E_model]

if (min = 5) then
   @valid = 1
   else
   @valid = 0
endif</valid>
    </rule>
  <rule id="smHonGua2" message="You must have at least 3 models in the Honour Guard Squad." summary="You must have at least 3 models in the Honour Guard Squad." scope="unit" targetid="sm5EHonour">
    <test/>
    <valid><![CDATA[var min as number

min = stat[sm5E_model]

if (min > 2) then
   @valid = 1
   else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="smCorbrCom" message="This option has already been taken once." summary="This option has already been taken once.">
    <test/>
    <valid><![CDATA[if (tagcount[smTags.ComSqdJP] <= 1) then
   @valid = 1
else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="sm1CBforMC" message="Only one Honour Guard squad may carry the Chapter Banner." summary="Only one Honour Guard squad may carry the Chapter Banner." scope="merge">
    <test/>
    <valid><![CDATA[if (tagcount[smTags.ChBanner] <= 1) then
  @valid = 1
  endif]]></valid>
    </rule>
  <rule id="smHonGua3" message="You must cannot have more than 10 models in the Honour Guard Squad." summary="You must cannot have more than 10 models in the Honour Guard Squad." scope="unit" targetid="sm5EHonour">
    <test/>
    <valid><![CDATA[var max as number

max = stat[sm5E_model]

if (max <= 10) then
   @valid = 1
   else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="ia_Culln" message="Culln is Unique and may only be selected once." summary="Culln is Unique and may only be selected once." scope="merge">
    <test/>
    <valid><![CDATA[if (tagcount[smTagG.ia_Culln] <= 1) then
   @valid = 1
else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="ia_Haas" message="Haas is Unique and may only be selected once." summary="Haas is Unique and may only be selected once." scope="merge">
    <test/>
    <valid><![CDATA[if (tagcount[smTagG.ia_Haas] <= 1) then
   @valid = 1
else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="smComSqd3" message="You must have exactly 5 models in the Command Squad." summary="You must have exactly 5 models in the Command Squad." scope="unit" targetid="sm5ECom_A">
    <test/>
    <valid>var min as number

min = stat[sm5E_model]

if (min = 5) then
   @valid = 1
   else
   @valid = 0
endif</valid>
    </rule>
  <rule id="smTelion1" message="Sergeant Telion is Unique and may only be selected once." summary="Sergeant Telion is Unique and may only be selected once." scope="entity" targetid="sm5ETelion">
    <test/>
    <valid><![CDATA[if (tagcount[smTagG.Telion] <= 1) then
   @valid = 1
else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="smLRasDT1" message="Only one Terminator Squad may choose a Land Raider as a Dedicated Transport." summary="Only one Terminator Squad may choose a Land Raider as a Dedicated Transport." scope="merge" targetid="sm5ETermin">
    <test/>
    <valid><![CDATA[if (tagcount[smTags.LRasDT] > 1) then
   @valid = 0
else
   @valid = 1
endif]]></valid>
    </rule>
  <rule id="smVanSqd2" message="You cannot have more than 10 models in the Vanguard Veteran Squad." summary="You cannot have more than 10 models in the Vanguard Veteran Squad." scope="unit" targetid="sm5EVangua">
    <test/>
    <valid><![CDATA[var max as number

max = stat[sm5E_model]

if (max < 11) then
   @valid = 1
   else
   @valid = 0
endif]]></valid>
    </rule>
  <rule id="smLRasDT2" message="Only one Terminator Assault Squad may choose a Land Raider as a Dedicated Transport." summary="Only one Terminator Assault Squad may choose a Land Raider as a Dedicated Transport." scope="merge" targetid="sm5ETAssau">
    <test/>
    <valid><![CDATA[if (tagcount[smTags.LRasDT] > 1) then
   @valid = 0
else
   @valid = 1
endif]]></valid>
    </rule>
  </document>
